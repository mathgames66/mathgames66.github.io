/*
 ******************************************************** !*\
  !*** ./node_modules/detect-gpu/dist/detect-gpu.esm.js ***!
  \******************************************************* exports provided: getGPUTier  *************************************** !*\
  !*** ./src/zonemasters/adstrategy.ts ***!
  \************************************** no static exports found  ******************************************************* !*\
  !*** ./src/zonemasters/components/bannercomponent.ts ***!
  \****************************************************** ./supercomponent  ../adstrategy  ********************************************************* !*\
  !*** ./src/zonemasters/components/createjscomponent.ts ***!
  \******************************************************** ************************************************* !*\
  !*** ./src/zonemasters/components/editorial.ts ***!
  \************************************************ ../utils  ************************************************* !*\
  !*** ./src/zonemasters/components/imaplayer.ts ***!
  \************************************************ ***************************************************** !*\
  !*** ./src/zonemasters/components/instreamvideo.ts ***!
  \**************************************************** ./videoplayer  ./imaplayer  *************************************************** !*\
  !*** ./src/zonemasters/components/onrpghotbox.ts ***!
  \************************************************** ./editorial  ******************************************************* !*\
  !*** ./src/zonemasters/components/scriptcomponent.ts ***!
  \****************************************************** ****************************************************** !*\
  !*** ./src/zonemasters/components/segmentedvideo.ts ***!
  \***************************************************** ************************************************ !*\
  !*** ./src/zonemasters/components/siteskin.ts ***!
  \*********************************************** ****************************************************** !*\
  !*** ./src/zonemasters/components/supercomponent.ts ***!
  \***************************************************** ../requests/superrequest  SuperClasses/rootcomponent  *************************************************** !*\
  !*** ./src/zonemasters/components/videoplayer.ts ***!
  \************************************************** *************************************** !*\
  !*** ./src/zonemasters/data/steam.ts ***!
  \************************************** ****************************************** !*\
  !*** ./src/zonemasters/mobilemodules.ts ***!
  \***************************************** ./utils  ./requests/starbannerrequest  ./requests/starjsonrequest  ./requests/headerbiddingrequest  ./requests/editorialrequest  ./requests/skinrequest  ./components/supercomponent  ./components/bannercomponent  ./components/editorial  ./components/onrpghotbox  ./components/instreamvideo  ./components/scriptcomponent  ./components/siteskin  ./components/createjscomponent  SuperClasses/componentregistry  ./components/segmentedvideo  detect-gpu  ./data/steam  ****************************************************** !*\
  !*** ./src/zonemasters/requests/editorialrequest.ts ***!
  \***************************************************** ./superrequest  ********************************************************** !*\
  !*** ./src/zonemasters/requests/headerbiddingrequest.ts ***!
  \********************************************************* ************************************************* !*\
  !*** ./src/zonemasters/requests/skinrequest.ts ***!
  \************************************************ ./editorialrequest  ******************************************************* !*\
  !*** ./src/zonemasters/requests/starbannerrequest.ts ***!
  \****************************************************** ***************************************************** !*\
  !*** ./src/zonemasters/requests/starjsonrequest.ts ***!
  \**************************************************** ************************************************** !*\
  !*** ./src/zonemasters/requests/superrequest.ts ***!
  \************************************************* ***************************************************************** !*\
  !*** ./src/zonemasters/superclasses/basic/componentregistry.ts ***!
  \**************************************************************** ************************************************************* !*\
  !*** ./src/zonemasters/superclasses/basic/rootcomponent.ts ***!
  \************************************************************ ********************************** !*\
  !*** ./src/zonemasters/utils.ts ***!
  \********************************* ************************************************ !*\
  !*** multi ./src/zonemasters/mobilemodules.ts ***!
  \*********************************************** ./src/zonemasters/mobilemodules.ts */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,k,n){f!=Array.prototype&&f!=Object.prototype&&(f[k]=n.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var f=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+f++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(f){var k=0;return $jscomp.iteratorPrototype(function(){return k<f.length?{done:!1,value:f[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.makeIterator=function(f){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var k=f[Symbol.iterator];return k?k.call(f):$jscomp.arrayIterator(f)};$jscomp.underscoreProtoCanBeSet=function(){var f={a:!0},k={};try{return k.__proto__=f,k.a}catch(n){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(f,k){f.__proto__=k;if(f.__proto__!==k)throw new TypeError(f+" is not extensible");return f}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(f){if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(f){this.yieldResult=f};$jscomp.generator.Context.prototype.throw_=function(f){this.abruptCompletion_={exception:f,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(f){this.abruptCompletion_={return:f};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(f){this.abruptCompletion_={jumpTo:f};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(f,k){this.nextAddress=k;return{value:f}};$jscomp.generator.Context.prototype.yieldAll=function(f,k){f=$jscomp.makeIterator(f);var n=f.next();$jscomp.generator.ensureIteratorResultIsObject_(n);if(n.done)this.yieldResult=n.value,this.nextAddress=k;else return this.yieldAllIterator_=f,this.yield(n.value,k)};
$jscomp.generator.Context.prototype.jumpTo=function(f){this.nextAddress=f};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(f,k){this.catchAddress_=f;void 0!=k&&(this.finallyAddress_=k)};$jscomp.generator.Context.prototype.setFinallyBlock=function(f){this.catchAddress_=0;this.finallyAddress_=f||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(f,k){this.nextAddress=f;this.catchAddress_=k||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(f){this.catchAddress_=f||0;f=this.abruptCompletion_.exception;this.abruptCompletion_=null;return f};$jscomp.generator.Context.prototype.enterFinallyBlock=function(f,k,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=f||0;this.finallyAddress_=k||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(f,k){k=this.finallyContexts_.splice(k||0)[0];if(k=this.abruptCompletion_=this.abruptCompletion_||k){if(k.isException)return this.jumpToErrorHandler_();void 0!=k.jumpTo&&this.finallyAddress_<k.jumpTo?(this.nextAddress=k.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=f};$jscomp.generator.Context.prototype.forIn=function(f){return new $jscomp.generator.Context.PropertyIterator(f)};
$jscomp.generator.Context.PropertyIterator=function(f){this.object_=f;this.properties_=[];for(var k in f)this.properties_.push(k);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var f=this.properties_.pop();if(f in this.object_)return f}return null};$jscomp.generator.Engine_=function(f){this.context_=new $jscomp.generator.Context;this.program_=f};
$jscomp.generator.Engine_.prototype.next_=function(f){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,f,this.context_.next_);this.context_.next_(f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(f){this.context_.start_();var k=this.context_.yieldAllIterator_;if(k)return this.yieldAllStep_("return"in k?k["return"]:function(k){return{value:k,done:!0}},f,this.context_.return);this.context_.return(f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(f){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],f,this.context_.next_);this.context_.throw_(f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(f,k,n){try{var u=f.call(this.context_.yieldAllIterator_,k);$jscomp.generator.ensureIteratorResultIsObject_(u);if(!u.done)return this.context_.stop_(),u;var p=u.value}catch(r){return this.context_.yieldAllIterator_=null,this.context_.throw_(r),this.nextStep_()}this.context_.yieldAllIterator_=null;n.call(this.context_,p);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var f=this.program_(this.context_);if(f)return this.context_.stop_(),{value:f.value,done:!1}}catch(k){this.context_.yieldResult=void 0,this.context_.throw_(k)}this.context_.stop_();if(this.context_.abruptCompletion_){f=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(f.isException)throw f.exception;return{value:f.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(f){this.next=function(k){return f.next_(k)};this.throw=function(k){return f.throw_(k)};this.return=function(k){return f.return_(k)};$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(f,k){k=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(k));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(k,f.prototype);return k};
$jscomp.polyfill=function(f,k,n,u){if(k){n=$jscomp.global;f=f.split(".");for(u=0;u<f.length-1;u++){var p=f[u];p in n||(n[p]={});n=n[p]}f=f[f.length-1];u=n[f];k=k(u);k!=u&&null!=k&&$jscomp.defineProperty(n,f,{configurable:!0,writable:!0,value:k})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(f){function k(){this.batch_=null}function n(g){return g instanceof p?g:new p(function(b,h){b(g)})}if(f&&!$jscomp.FORCE_POLYFILL_PROMISE)return f;k.prototype.asyncExecute=function(g){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(g);return this};k.prototype.asyncExecuteBatch_=function(){var g=this;this.asyncExecuteFunction(function(){g.executeBatch_()})};var u=$jscomp.global.setTimeout;k.prototype.asyncExecuteFunction=function(g){u(g,
0)};k.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var g=this.batch_;this.batch_=[];for(var b=0;b<g.length;++b){var h=g[b];g[b]=null;try{h()}catch(d){this.asyncThrow_(d)}}}this.batch_=null};k.prototype.asyncThrow_=function(g){this.asyncExecuteFunction(function(){throw g;})};var p=function(g){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{g(b.resolve,b.reject)}catch(h){b.reject(h)}};p.prototype.createResolveAndReject_=
function(){function g(d){return function(a){h||(h=!0,d.call(b,a))}}var b=this,h=!1;return{resolve:g(this.resolveTo_),reject:g(this.reject_)}};p.prototype.resolveTo_=function(g){if(g===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof p)this.settleSameAsPromise_(g);else{a:switch(typeof g){case "object":var b=null!=g;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(g):this.fulfill_(g)}};p.prototype.resolveToNonPromiseObj_=function(g){var b=
void 0;try{b=g.then}catch(h){this.reject_(h);return}"function"==typeof b?this.settleSameAsThenable_(b,g):this.fulfill_(g)};p.prototype.reject_=function(g){this.settle_(2,g)};p.prototype.fulfill_=function(g){this.settle_(1,g)};p.prototype.settle_=function(g,b){if(0!=this.state_)throw Error("Cannot settle("+g+", "+b+"): Promise already settled in state"+this.state_);this.state_=g;this.result_=b;this.executeOnSettledCallbacks_()};p.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var g=
0;g<this.onSettledCallbacks_.length;++g)r.asyncExecute(this.onSettledCallbacks_[g]);this.onSettledCallbacks_=null}};var r=new k;p.prototype.settleSameAsPromise_=function(g){var b=this.createResolveAndReject_();g.callWhenSettled_(b.resolve,b.reject)};p.prototype.settleSameAsThenable_=function(g,b){var h=this.createResolveAndReject_();try{g.call(b,h.resolve,h.reject)}catch(d){h.reject(d)}};p.prototype.then=function(g,b){function h(c,m){return"function"==typeof c?function(m){try{d(c(m))}catch(v){a(v)}}:
m}var d,a,c=new p(function(c,m){d=c;a=m});this.callWhenSettled_(h(g,d),h(b,a));return c};p.prototype.catch=function(g){return this.then(void 0,g)};p.prototype.callWhenSettled_=function(g,b){function h(){switch(d.state_){case 1:g(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?r.asyncExecute(h):this.onSettledCallbacks_.push(h)};p.resolve=n;p.reject=function(g){return new p(function(b,h){h(g)})};p.race=function(g){return new p(function(b,
h){for(var d=$jscomp.makeIterator(g),a=d.next();!a.done;a=d.next())n(a.value).callWhenSettled_(b,h)})};p.all=function(g){var b=$jscomp.makeIterator(g),h=b.next();return h.done?n([]):new p(function(d,a){function c(a){return function(c){e[a]=c;m--;0==m&&d(e)}}var e=[],m=0;do e.push(void 0),m++,n(h.value).callWhenSettled_(c(e.length-1),a),h=b.next();while(!h.done)})};return p},"es6","es3");
$jscomp.polyfill("Object.is",function(f){return f?f:function(k,f){return k===f?0!==k||1/k===1/f:k!==k&&f!==f}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(f){return f?f:function(f,n){var k=this;k instanceof String&&(k=String(k));var p=k.length;n=n||0;for(0>n&&(n=Math.max(n+p,0));n<p;n++){var r=k[n];if(r===f||Object.is(r,f))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(f,k,n){if(null==f)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return f+""};$jscomp.polyfill("String.prototype.includes",function(f){return f?f:function(f,n){return-1!==$jscomp.checkStringArgs(this,f,"includes").indexOf(f,n||0)}},"es6","es3");
$jscomp.findInternal=function(f,k,n){f instanceof String&&(f=String(f));for(var u=f.length,p=0;p<u;p++){var r=f[p];if(k.call(n,r,p,f))return{i:p,v:r}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(f,n){return $jscomp.findInternal(this,f,n).v}},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(f){return f||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.iteratorFromArray=function(f,k){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var n=0,u={next:function(){if(n<f.length){var p=n++;return{value:k(p,f[p]),done:!1}}u.next=function(){return{done:!0,value:void 0}};return u.next()}};u[Symbol.iterator]=function(){return u};return u};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");
(function(f){function k(u){if(n[u])return n[u].exports;var p=n[u]={i:u,l:!1,exports:{}};f[u].call(p.exports,p,p.exports,k);p.l=!0;return p.exports}var n={};k.m=f;k.c=n;k.d=function(f,p,r){k.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:r})};k.r=function(f){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(f,"__esModule",{value:!0})};k.t=function(f,
p){p&1&&(f=k(f));if(p&8||p&4&&"object"===typeof f&&f&&f.__esModule)return f;var r=Object.create(null);k.r(r);Object.defineProperty(r,"default",{enumerable:!0,value:f});if(p&2&&"string"!=typeof f)for(var g in f)k.d(r,g,function(b){return f[b]}.bind(null,g));return r};k.n=function(f){var p=f&&f.__esModule?function(){return f["default"]}:function(){return f};k.d(p,"a",p);return p};k.o=function(f,k){return Object.prototype.hasOwnProperty.call(f,k)};k.p="";return k(k.s=0)})({"./node_modules/detect-gpu/dist/detect-gpu.esm.js":function(f,
k,n){function u(a,c,e,b){return new (e||(e=Promise))(function(m,l){function q(a){try{v(b.next(a))}catch(z){l(z)}}function d(a){try{v(b.throw(a))}catch(z){l(z)}}function v(a){var c;a.done?m(a.value):(c=a.value,c instanceof e?c:new e(function(a){a(c)})).then(q,d)}v((b=b.apply(a,c||[])).next())})}n.r(k);n.d(k,"getGPUTier",function(){return e});var p="geforce 320m;geforce 8600;geforce 8600m gt;geforce 8800 gs;geforce 8800 gt;geforce 9400;geforce 9400m g;geforce 9400m;geforce 9600m gt;geforce 9600m;geforce fx go5200;geforce gt 120;geforce gt 130;geforce gt 330m;geforce gtx 285;google swiftshader;intel g41;intel g45;intel gma 4500mhd;intel gma x3100;intel hd 3000;intel q45;legacy;mali-2;mali-3;mali-4;quadro fx 1500;quadro fx 4;quadro fx 5;radeon hd 2400;radeon hd 2600;radeon hd 4670;radeon hd 4850;radeon hd 4870;radeon hd 5670;radeon hd 5750;radeon hd 6290;radeon hd 6300;radeon hd 6310;radeon hd 6320;radeon hd 6490m;radeon hd 6630m;radeon hd 6750m;radeon hd 6770m;radeon hd 6970m;radeon r9 200;sgx 543;sgx543".split(";"),
r=function(a){return a.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")},g="undefined"==typeof window,b=function(){if(!g){var a=window.navigator,c=a.userAgent,e=a.platform,b=a.maxTouchPoints;a=/(iphone|ipod|ipad)/i.test(c);e="iPad"===e||"MacIntel"===e&&0<b&&!window.MSStream;return{isIpad:e,isMobile:/android/i.test(c)||a||e,isSafari12:/Version\/12.+Safari/.test(c)}}}(),h=function(a,c,e){if("apple gpu"===c){c=[c];if(e){var m=a.createShader(35633),
l=a.createShader(35632);e=a.createProgram();l&&m&&e&&(a.shaderSource(m,"\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    "),a.shaderSource(l,"\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    "),
a.compileShader(m),a.compileShader(l),a.attachShader(e,m),a.attachShader(e,l),a.linkProgram(e),a.detachShader(e,m),a.detachShader(e,l),a.deleteShader(m),a.deleteShader(l),a.useProgram(e),m=a.createBuffer(),a.bindBuffer(34962,m),a.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044),l=a.getAttribLocation(e,"aPosition"),a.vertexAttribPointer(l,3,5126,!1,0,0),a.enableVertexAttribArray(l),a.clearColor(1,1,1,1),a.clear(16384),a.viewport(0,0,1,1),a.drawArrays(4,0,3),l=new Uint8Array(4),a.readPixels(0,
0,1,1,6408,5121,l),a.deleteProgram(e),a.deleteBuffer(m),c={801621810:(null==b?0:b.isIpad)?["apple a12x gpu"]:["apple a11 gpu","apple a12 gpu","apple a13 gpu","apple a14 gpu"],8016218135:(null==b?0:b.isIpad)?["apple a9x gpu","apple a10 gpu","apple a10x gpu"]:["apple a9 gpu","apple a10 gpu"]}[l.join("")]||c)}a=c}else a=[c];return a},d=[],a=[],c=function(c,e){if(c===e)return 0;var m=c;c.length>e.length&&(c=e,e=m);m=c.length;for(var l=e.length;0<m&&c.charCodeAt(~-m)===e.charCodeAt(~-l);)m--,l--;for(var b=
0;b<m&&c.charCodeAt(b)===e.charCodeAt(b);)b++;if(m-=b,l-=b,0===m)return l;for(var h,g,r=0,f=0,k=0;f<m;)a[f]=c.charCodeAt(b+f),d[f]=++f;for(;k<l;)for(c=e.charCodeAt(b+k),h=k++,r=k,f=0;f<m;f++)g=c===a[f]?h:h+1,h=d[f],r=d[f]=h>r?g>r?r+1:g:g>h?h+1:g;return r},e=function(a){a=void 0===a?{}:a;var e=void 0===a.mobileTiers?[0,15,30,60]:a.mobileTiers,m=void 0===a.desktopTiers?[0,15,30,60]:a.desktopTiers,q=void 0===a.override?{}:a.override,d=a.glContext,f=void 0===a.failIfMajorPerformanceCaveat?!1:a.failIfMajorPerformanceCaveat,
k=void 0===a.benchmarksURL?"https://unpkg.com/detect-gpu@3.1.21/dist/benchmarks":a.benchmarksURL;return u(void 0,void 0,void 0,function y(){var a,l,v,w,O,X,n,t,C,H,V,F,D,W,ka,L,S,T,fa,na,sa,N;return $jscomp.generator.createGenerator(y,function(y){if(1==y.nextAddress){a={};if(g)return y.return({tier:0,type:"SSR"});l=q;v=void 0===l.isIpad?!(null==b||!b.isIpad):l.isIpad;w=void 0===l.isMobile?!(null==b||!b.isMobile):l.isMobile;O=void 0===l.screenSize?window.screen:l.screenSize;X=void 0===l.loadBenchmarks?
function(a){return u(void 0,void 0,void 0,function J(){var c;return $jscomp.generator.createGenerator(J,function(e){if(1==e.nextAddress)return e.yield(fetch(k+"/"+a).then(function(a){return a.json()}),2);c=e.yieldResult;return e.return((c.shift(),c))})})}:l.loadBenchmarks;n=q;t=n.renderer;C=function(a,c,e,l,m){return{device:m,fps:l,gpu:e,isMobile:w,tier:a,type:c}};V="";if(t)t=r(t),H=[t];else{F=d||function(a,c){c={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:void 0===c?!1:c,powerPreference:"high-performance",
stencil:!1};a&&delete c.powerPreference;a=window.document.createElement("canvas");a=a.getContext("webgl",c)||a.getContext("experimental-webgl",c);return null!=a?a:void 0}(null==b?void 0:b.isSafari12,f);if(!F)return y.return(C(0,"WEBGL_UNSUPPORTED"));D=F.getExtension("WEBGL_debug_renderer_info");if(D&&(t=F.getParameter(D.UNMASKED_RENDERER_WEBGL)),!t)return y.return(C(1,"FALLBACK"));V=t;t=r(t);H=h(F,t,w)}return y.yield(Promise.all(H.map(function(e){return u(void 0,void 0,void 0,function J(){var l,m,
b,q,d,h,g,r,f,k,p,n,F,ua,y,u,z,t,x,D,A,I,L,S,H,W,V;return $jscomp.generator.createGenerator(J,function(U){switch(U.nextAddress){case 1:l=function(a){for(var c=$jscomp.makeIterator(w?"adreno apple mali-t mali nvidia powervr".split(" "):["intel","amd","radeon","nvidia","geforce"]),e=c.next();!e.done;e=c.next())if(e=e.value,a.includes(e))return e}(e);if(!l)return U.return();m=(w?"m":"d")+"-"+l+".json";b=a[m]=a[m]||X(m);U.setCatchFinallyBlocks(2);return U.yield(b,4);case 4:q=U.yieldResult;U.leaveTryBlock(3);
break;case 2:return U.enterCatchBlock(),U.return();case 3:d=function(a){var c,e=(a=a.replace(/\([^)]+\)/,"")).match(/\d+/)||a.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return null!==(c=null==e?void 0:e.join("").replace(/\W|amd/g,""))&&void 0!==c?c:""}(e);h="apple"===l;g=q.filter(function(a){a=$jscomp.makeIterator(a);a.next();return a.next().value===d});g.length||(g=q.filter(function(a){return $jscomp.makeIterator(a).next().value.includes(e)}));r=g.length;if(0===r)return U.return();k=$jscomp.makeIterator(1<
r?g.map(function(a){return[a,c(e,a[0])]}).sort(function(a,c){a=$jscomp.makeIterator(a);a.next();a=a.next().value;c=$jscomp.makeIterator(c);c.next();c=c.next().value;return a-c})[0][0]:g[0]);p=k.next().value;k.next();k.next();n=k.next().value;F=Number.MAX_VALUE;ua=window;y=ua.devicePixelRatio;u=O.width*y*O.height*y;h&&w&&(n=n.filter(function(a){a=$jscomp.makeIterator(a);a.next();a.next();a.next();a=a.next().value;var c;return-1<(null!==(c=null==a?void 0:a.indexOf(v?"ipad":"iphone"))&&void 0!==c?c:
-1)}));z=$jscomp.makeIterator(n);for(t=z.next();!t.done;t=z.next())x=t.value,D=$jscomp.makeIterator(x),A=D.next().value,I=D.next().value,L=A*I,S=Math.abs(u-L),S<F&&(F=S,f=x);if(!f)return U.return();H=$jscomp.makeIterator(f);H.next();H.next();W=H.next().value;V=H.next().value;return U.return([F,W,p,V])}})})})),2)}W=y.yieldResult.filter(function(a){return!!a});if(!W.length)return ka=p.find(function(a){return t.includes(a)}),y.return(ka?C(0,"BLOCKLISTED",ka):C(1,"FALLBACK",t+" ("+V+")"));L=$jscomp.makeIterator(W.sort(function(a,
c){a=$jscomp.makeIterator(a).next().value;a=void 0===a?Number.MAX_VALUE:a;c=$jscomp.makeIterator(c).next().value;return a-(void 0===c?Number.MAX_VALUE:c)})[0]);L.next();S=L.next().value;T=L.next().value;fa=L.next().value;if(-1===S)return y.return(C(0,"BLOCKLISTED",T,S,fa));na=w?e:m;for(N=sa=0;N<na.length;N++)S>=na[N]&&(sa=N);return y.return(C(sa,"BENCHMARK",T,S,fa))})})}},"./src/zonemasters/adstrategy.ts":function(f,k,n){Object.defineProperty(k,"__esModule",{value:!0});k.TotalCPMStrategy=void 0;k.TotalCPMStrategy=
function(f){f.refreshrate||(f.refreshrate=14E4);f.minslice||(f.minslice=1E4);f.minslicecpmpercent||(f.minslicecpmpercent=.85);return function(k){for(var r,g,b,h,d,a=0,c=null,e={},m=(new Date).getTime(),l=0;l<k.length;l++)for(var v=k[l],q=0;q<f.match.length;q++){var w=f.match[q],O=Math.max(null!==(r=w.multi)&&void 0!==r?r:1,null!==(g=w.target)&&void 0!==g?g:1);w.bidInfos&&w.bidInfos.length==O||w.w&&v.w!=w.w||w.h&&v.h!=w.h||w.mediaType&&v.mediaType!=w.mediaType||w.bidder&&v.bidder!=w.bidder||w.minBid&&
v.cpm<w.minBid||(e[q]||(e[q]={bidInfos:[],totalCpm:0,totalMs:0}),e[q].w&&v.w!=e[q].w||e[q].h&&v.h!=e[q].h||(w.fixedSize&&(e[q].w=v.w,e[q].h=v.h),e[q].bidInfos.length<O&&e[q].bidInfos.push(v)))}k={picks:[]};for(q=0;q<f.match.length;q++){l=0;w=f.match[q];O=Math.max(null!==(b=w.multi)&&void 0!==b?b:1,null!==(h=w.target)&&void 0!==h?h:1);w=null!==(d=w.target)&&void 0!==d?d:1;r=e[q];for(g=0;g<(-1==w?O:w)&&g<r.bidInfos.length;g++)l+=r.bidInfos[g].cpm;v=[];var p=0,n=0;for(g=0;g<r.bidInfos.length;g++){var y=
r.bidInfos[g],u=Math.max(f.minslice,y.cpm/l);if(y.expires>m+n){v.push(y);if(-1==w||v.length<=w)p+=y.cpm;n+=u;if(v.length>=O||n>f.refreshrate)break}}r.totalCpm=p;r.bidInfos=v;p>a&&(c=r,a=p)}if(c)for(l=k.totalCPM=0;l<c.bidInfos.length&&!(b=c.bidInfos[l],k.picks.push({adId:b.adId,cpm:b.cpm,w:b.w,h:b.h}),b.cpm&&(k.totalCPM+=b.cpm),f.maxslices&&0<f.maxslices&&k.picks.length>=f.maxslices);l++);return k}}},"./src/zonemasters/components/bannercomponent.ts":function(f,k,n){var u=this&&this.__extends||function(){var f=
function(g,b){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return f(g,b)};return function(g,b){function h(){this.constructor=g}f(g,b);g.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h)}}();Object.defineProperty(k,"__esModule",{value:!0});f=n("./src/zonemasters/components/supercomponent.ts");var p=n("./src/zonemasters/adstrategy.ts");n=function(f){function g(b,h){b=f.call(this,
b,h)||this;b.becameViewable=!1;b.isAttached=!0;b.isDetachable=!1;b.closeDiv=null;b.timeSliceBlocked=!1;return b}u(g,f);g.prototype.testResponseValidity=function(b){var h,d,a,c,e,m,l,v,q,w,g,r,k=null!==(h=this.module.options.maxslices)&&void 0!==h?h:-1;if(b){this||b(!1);this.res||b(!1);try{if(this.module.options.areaslice&&this.res.pickAds&&this.module.options.width&&this.module.options.height){var n={minslice:null!==(d=this.module.options.minslice)&&void 0!==d?d:this.DEFAULTMINSLICE,minslicecpmpercent:null!==
(a=this.module.options.minslicecpmpercent)&&void 0!==a?a:this.DEFAULTMINSLICECPMPERCENT,refreshrate:null!==(c=this.module.options.refreshrate)&&void 0!==c?c:this.DEFAULTREFRESHRATE,maxslices:k,match:[{w:null,h:null,target:1}]};970==this.module.options.width?n.match.push({fixedSize:!0,w:300,h:250,multi:null!==(e=this.module.options.slicemulti)&&void 0!==e?e:this.DEFAULTSLICEMULTI,target:3}):300==this.module.options.width&&600==this.module.options.height&&n.match.push({fixedSize:!0,w:300,h:250,multi:null!==
(m=this.module.options.slicemulti)&&void 0!==m?m:this.DEFAULTSLICEMULTI,target:2});var u=p.TotalCPMStrategy(n);this.pickResult=this.res.pickAds(this.module,u);var z=null===(l=this.pickResult)||void 0===l?void 0:l.picks;this.pickResult&&z?(this.mm.log("Area slicing returned "+z.length+" picks worth $"+this.pickResult.totalCPM.toFixed(2)+" CPM"),f.prototype.testResponseValidity.call(this,b)):b(!1)}else if(this.module.options.timeslice&&!this.timeSliceBlocked&&this.res.pickAds){var R=p.TotalCPMStrategy({minslice:null!==
(v=this.module.options.minslice)&&void 0!==v?v:this.DEFAULTMINSLICE,refreshrate:null!==(q=this.module.options.refreshrate)&&void 0!==q?q:this.DEFAULTREFRESHRATE,minslicecpmpercent:null!==(w=this.module.options.minslicecpmpercent)&&void 0!==w?w:this.DEFAULTMINSLICECPMPERCENT,maxslices:k,match:[{fixedSize:!0,multi:null!==(g=this.module.options.slicemulti)&&void 0!==g?g:this.DEFAULTSLICEMULTI,target:k},{w:null,h:null,target:1}]});this.pickResult=this.res.pickAds(this.module,R);z=null===(r=this.pickResult)||
void 0===r?void 0:r.picks;this.pickResult&&z?f.prototype.testResponseValidity.call(this,b):b(!1)}else f.prototype.testResponseValidity.call(this,b)}catch(ca){b(!1)}}};g.prototype.getRenderTargetDivID=function(b){void 0===b&&(b=0);var h=f.prototype.getRenderTargetDivID.call(this,b);return this.module.options.areaslice?h+"_"+b:h};g.prototype.render=function(b,h,d){var a,c,e,m=null===(a=this.pickResult)||void 0===a?void 0:a.picks;a=1==this.module.options.requireViewable||"true"==this.module.options.requireViewable?
!0:!1;var l=this.module.renderIndex,v=970==this.module.options.width?3:2;if(this.module.options.areaslice&&m&&m.length>=l+v&&(this.module.options.width||this.module.options.height)){v=this.pickResult.picks;h=1;m=d="0";var q=null!==(c=this.module.options.width)&&void 0!==c?c:v[0].w;c=null!==(e=this.module.options.height)&&void 0!==e?e:v[0].h;for(var g=e=0,r=0,k=0;l<v.length;l++)e+v[l].w<=q&&(e+=v[l].w,r++),g+v[l].h<=c&&(g+=v[l].h,k++);1<r?(h=r,b.style.display="inline-block",d=(q-e)/(h-1)+"px"):1<k&&
(h=k,b.style.display="block",m=(c-g)/(h-1)+"px");if(!a||this.isViewable(b,null))for(b.innerHTML="",a=0;a<h;a++)if(l=document.createElement("div"),l.id=this.getRenderTargetDivID(a),b.appendChild(l),this.res.renderAd(this.module,l,null,{blockGam:!0}),this.res.nextAd(this.module))a!=h-1&&(l.style.marginRight=d,l.style.marginBottom=m);else break}else f.prototype.render.call(this,b,h,d)};g.prototype.init=function(b,h){function d(){!m.becameViewable&&m.isViewable(v,null)&&b.renderAd&&(m.render(v),m.becameViewable=
!0,m.removeEventListener("DOMContentLoaded",d),m.removeEventListener("load",d),m.removeEventListener("scroll",d),m.removeEventListener("resize",d),m.removeEventListener("orientationchange",d))}function a(){var a=v.ownerDocument?v.ownerDocument:document;if(m.becameViewable&&m.isDetachable)if(m.isViewable(q,null))m.isAttached||(c=a.getElementById(String(m.module.info.name).replace(/\s/g,"")),c.style.display="none",v.style.position="static",m.isAttached=!0);else if(m.isAttached){if(!m.closeDiv){m.closeDiv=
a.createElement("div");m.closeDiv.style.backgroundColor="white";m.closeDiv.style.color="#77b0f2";m.closeDiv.style.height="20px";m.closeDiv.style.width="60px";m.closeDiv.style.position="relative";var c=parseInt(String(v.offsetWidth))/2-30;m.closeDiv.style.left=""+c+"px";m.closeDiv.style.top="1px";m.closeDiv.id=m.module.info.name?String(m.module.info.name).replace(/\s/g,""):"closeDiv";m.closeDiv.innerHTML="Close Ad";m.closeDiv.style.borderRadius="2px";m.closeDiv.style.cursor="pointer";m.closeDiv.addEventListener("click",
function(){m.isDetachable=!1;v.style.position="static";m.isAttached=!0;a.getElementById(String(m.module.info.name).replace(/\s/g,"")).style.display="none"});v.insertBefore(m.closeDiv,v.firstElementChild)}c=a.getElementById(String(m.module.info.name).replace(/\s/g,""));c.style.display="block";v.style.position="fixed";v.style.bottom="0px";m.isAttached=!1}}var c,e;f.prototype.init.call(this,b,h);var m=this;if(m.module.options.maxHeight&&((null===(e=null===(c=m.mm.zonedata)||void 0===c?void 0:c.options)||
void 0===e?0:e.cls)||m.module.options.cls))try{var l=""+parseInt(m.module.options.maxHeight)+"px";m.setCss({".cls":{display:"flex","justify-content":"center","align-items":"center","min-height":l}});m.module.div.classList.add("cls")}catch(w){}var v=this.getRenderTarget(),q=v.parentNode;m.timeSliceBlocked=!1;m.halt&&(m.timeSliceBlocked=!0);if(this.mm.locationData)for(h=0;h<m.TIMESLICEGEOSBLOCKED.length;h++)if(c=m.TIMESLICEGEOSBLOCKED[h],c.countryCode&&this.mm.locationData.countryCode==c.countryCode&&
(null==c.region||c.region==this.mm.locationData.region)){m.timeSliceBlocked=!0;break}this.module.options.timeslice&&!m.timeSliceBlocked&&this.initSliceManager();this.isDetachable=1==this.module.options.isDetachable||"true"==this.module.options.isDetachable?!0:!1;1!=this.module.options.requireViewable&&"true"!=this.module.options.requireViewable||f.prototype.isViewable.call(this,v,null)?(m.render(v),m.becameViewable=!0):(m.onEvent(window,"DOMContentLoaded",d),m.onEvent(window,"load",d),m.onEvent(window,
"scroll",d),m.onEvent(window,"resize",d),m.onEvent(window,"orientationchange",d));this.isDetachable&&(m.onEvent(window,"DOMContentLoaded",a),m.onEvent(window,"load",a),m.onEvent(window,"scroll",a),m.onEvent(window,"resize",a),m.onEvent(window,"orientationchange",a))};return g}(f.default);k.default=n},"./src/zonemasters/components/createjscomponent.ts":function(f,k,n){Object.defineProperty(k,"__esModule",{value:!0});var u=n("./src/zonemasters/components/supercomponent.ts"),p=n("./src/zonemasters/adstrategy.ts");
k.default=function(f,g){var b=function(b,d){u.default.call(this,b,d)};b.prototype=Object.create(u.default.prototype);b.prototype.constructor=b;b.prototype.getRequestData=function(){var b=u.default.prototype.getRequestData.call(this);if(null!=f&&f.request)for(var d=Object.keys(f.request),a=0;a<d.length;a++){var c=d[a];b[c]=b[c]?b[c]:f.request[c]}return b};b.prototype.init=function(b,d){u.default.prototype.init.call(this,b,d);d=this.module.options;if(null!=f&&f.options)for(var a=Object.keys(f.options),
c=0;c<a.length;c++){var e=a[c];d[e]=d[e]?d[e]:f.options[e]}this.module.requestInstance&&this.module.requestInstance.config&&(d.pid=this.module.requestInstance.config.poolid);d.renderAd=b.renderAd.bind(b,this.module);d.triggerEvent=this.triggerEvent.bind(this);null==d.el&&(this.module.el||this.module.target)&&this.module.div&&(d.el=this.module.div.parentNode);this.jsController=window[g](d);this.module.options.timeslice&&this.initSliceManager()};b.prototype.tryNextTimeslice=function(){var b=(new Date).getTime();
if(b<this.nextSliceTimestamp)b-=this.nextSliceTimestamp,this.mm.log("tryNextTimeslice: Did not use all time, adding "+b+"ms"),this.setSliceTimer(b);else{b=this.getRenderTarget();var d=5E3;this.isViewable(b,null)&&(this.res.nextAd(this.module)&&(b={kind:"adcmd",command:"refresh",renderFn:this.res.renderAd.bind(this.res,this.module)},this.jsController?this.jsController.adcmd(b):this.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller")),d=this.getNextTimesliceMs());this.setSliceTimer(d)}};
b.prototype.testResponseValidityHelper=function(b){var d=this;u.default.prototype.testResponseValidity.call(this,function(a){a?d.res?window[g].validityTest?(a=window[g].testValidity(d.res),b(a)):b(!0):b(!1):b(!1)})};b.prototype.testResponseValidity=function(b){var d,a,c,e,m,l,v,q,h=null!==(d=this.module.options.maxslices)&&void 0!==d?d:-1;if(this.module.options.timeslice)if(d=p.TotalCPMStrategy({minslicecpmpercent:null!==(a=this.module.options.minslicecpmpercent)&&void 0!==a?a:this.DEFAULTMINSLICECPMPERCENT,
minslice:null!==(c=this.module.options.minslice)&&void 0!==c?c:this.DEFAULTMINSLICE,refreshrate:null!==(e=this.module.options.refreshrate)&&void 0!==e?e:this.DEFAULTREFRESHRATE,match:[{fixedSize:!0,multi:null!==(m=this.module.options.slicemulti)&&void 0!==m?m:this.DEFAULTSLICEMULTI,target:h},{fixedSize:!0,multi:null!==(l=this.module.options.slicemulti)&&void 0!==l?l:this.DEFAULTSLICEMULTI,target:h},{fixedSize:!0,multi:null!==(v=this.module.options.slicemulti)&&void 0!==v?v:this.DEFAULTSLICEMULTI,
target:h},{w:null,h:null,target:1}]}),this.res.pickAds)if(this.pickResult=this.res.pickAds(this.module,d),a=null===(q=this.pickResult)||void 0===q?void 0:q.picks,0<h&&(a=a.slice(this.module.options.maxslices)),this.pickResult&&a){for(q=this.pickResult.totalCPM=0;q<a.length;q++)a[q].cpm&&(this.pickResult.totalCPM+=a[q].cpm);this.testResponseValidityHelper(b)}else b(!1);else b(!1);else this.testResponseValidityHelper(b)};b.prototype.adcmd=function(b){var d=this;"object"===typeof b&&("refresh"===b.command?
this.request(function(){b.renderFn=d.res.renderAd.bind(d.res,d.module);d.jsController?d.jsController.adcmd(b):d.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller")}):"addEventListener"===b.command?this.addEventListener.apply(this,b.args):"removeEventListener"===b.command?this.removeEventListener.apply(this,b.args):this.jsController?this.jsController.adcmd(b):d.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller"))};return b}},"./src/zonemasters/components/editorial.ts":function(f,
k,n){var u=this&&this.__extends||function(){var f=function(g,b){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return f(g,b)};return function(g,b){function h(){this.constructor=g}f(g,b);g.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/utils.ts");f=function(f){function g(b,h){b=f.call(this,b,h)||this;
b.defaultRequestKind="json";return b}u(g,f);g.prototype.convertCreative=function(b){var h=this;b.getLink=function(){return this.click}.bind(b);b.getTitle=function(){return null==this.creativemacros.TITLE?null:p.from_utf8(this.creativemacros.TITLE)}.bind(b);b.getDescription=function(a,c,e,b){var l=p.getCtx();b?(a=getComputedStyle(b),a.fontSize&&a.fontFamily&&(l.font=a.fontSize+" "+a.fontFamily),a=b.offsetWidth-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))-(parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))):
l.font="6px Arial";b=this.creativemacros.DESC300?p.from_utf8(this.creativemacros.DESC300):null;var m=this.creativemacros.DESC?p.from_utf8(this.creativemacros.DESC):null;m=(b?b:m?m:"").split("<br");for(var q=[],d=0;d<m.length;d++)b=m[d],b=b.trim(),"/"==b[0]&&">"==b[1]&&(b=b.slice(2)),b=b.trim(),0<b.length&&q.push(b);m="";var v=0;for(d=0;d<q.length;d++){b=q[d];var g=l.measureText(b).width;g=Math.ceil(g/a);if(1<=v&&v+g>c)break;v+=g;if(null!=e&&m.length+b.length>e){c=!1;if("false"!==h.module.options.endOnPunctuation)for(l=
e-1;l>=Math.ceil(e/1.5);l--)if(" "==b[l]&&("!"==b[l-1]||"."==b[l-1]||"?"==b[l-1])){c=!0;m+=b.slice(0,l);break}c||(m+=b.slice(0,e-m.length-3)+"...");break}else m+=b+"<br/>"}return m}.bind(b);b.getMaxLength=function(a,c){}.bind(b);b.availImages=[];for(var d=Object.keys(b.creativemacros),a=0;a<d.length;a++){var c=d[a],e=null;if("IMAGE"==c.slice(0,5))e=c.slice(5).split("X");else if("BANNER"==c.slice(0,6))e=c.slice(6).split("X");else continue;e&&2==e.length&&b.availImages.push({width:e[0],height:e[1],
url:b.creativemacros[c]})}b.closestAspect=function(a,c,b){if(0==b.length)return{url:"",width:a,height:c};for(var e=a/c,l=-1,m=0;4>m&&-1==l;m++)for(var d=0,v=0;v<b.length;v++)if(!(a>2*b[v].width||a<b[v].width/2||c>2*b[v].height||a<b[v].height/2)){var h=b[v].width/b[v].height/e;1<h&&(h=1/h);h>d&&(d=h,l=v)}-1==l&&(l=0);return b[l]};b.getImageUrl=function(a,c){return b.closestAspect(a,c,b.availImages).url}};g.prototype.init=function(b,h){b=b.getResponseData();var d=this.module.options,a=window.innerWidth<
window.innerHeight?window.innerWidth:window.innerHeight;a=d.descriptionPixelWidth?d.descriptionPixelWidth:a;var c=d.maxDescriptionLines?d.maxDescriptionLines:1,e=d.descriptionLength?d.descriptionLength:120,m=this.module.iteration?this.module.iteration:0,l=d.cap?d.cap:b.creatives?b.creatives.length:20,v=[];if(b.creatives){var q=m%b.creatives.length;for(m=q;m<b.creatives.length&&m<q+l;m++){var g=b.creatives[m];this.convertCreative(g);g.thumbUrl=g.getImageUrl(d.thumbWidth,d.thumbHeight);g.imageUrl=g.getImageUrl(d.imageWidth,
d.imageHeight);g.description=g.getDescription(a,c,e);g.title=g.getTitle();g.clickUrl=g.getLink();null==g.title?(b.creatives.splice(m,1),m--):(v.push(b.creatives[m]),m+1>=b.creatives.length&&v.length<l&&(m=-1,q=0,l-=v.length))}}this.module.creatives=v;f.prototype.init.call(this,b,h);if(d.descriptionTarget&&void 0==this.module.options.sandbox)for(h=this.mm.findEls(d.descriptionTarget,this.module.div),m=0;m<h.length;m++)this.module.creatives&&this.module.creatives[m]&&(h[m].innerHTML=this.module.creatives[m].getDescription(a,
c,e,h[m]))};return g}(n("./src/zonemasters/components/supercomponent.ts").default);k.default=f},"./src/zonemasters/components/imaplayer.ts":function(f,k,n){function u(f){var g=(new MessageChannel).port1;f.dispatchEvent=g.dispatchEvent.bind(g);f.addEventListener=g.addEventListener.bind(g);f.removeEventListener=g.removeEventListener.bind(g)}function p(f){if("function"===typeof Event)var g=new Event(f);else g=document.createEvent("Event"),g.initEvent(f,!1,!1);return g}Object.defineProperty(k,"__esModule",
{value:!0});f=function(){function f(g){this.mm=g;this.paused=this.autoPlayChecked=!1;this.pauseBeganTime=0;this.muted=this.ended=this.began=!1;this.startTime=0;this.mastervideotagurl=null;this.getVolume=function(){return this.adsManager_.getVolume()};this.setVolume=function(b){0>b&&(b=0);1<b&&(b=1);this.adsManager_&&this.adsManager_.setVolume(b);this.volume=b};u(this)}f.prototype.videoEl=function(){return this.videoContent_};f.prototype.dispatchEvent=function(g){return!1};f.prototype.initInternal=
function(g,b,h,d){var a=this;a.mastervideotagurl=g;a.width=b;a.height=h;a.options=d;var c=null;c=this.container_.ownerDocument.getElementById("adContainer");if(null==c)throw this.mm.log("Could not find adcontainer in initInternal"),Error("Could not find adcontainer in initInternal");a.initVideoElement();a.options.clickToPlay?(a.autoPlayChecked=!0,a.adDisplayContainer=new google.ima.AdDisplayContainer(c,a.videoContent_),a.adDisplayContainer.initialize(),a.startAdRequest(!1)):(a.autoPlayAdjustMuted(function(b){a.autoPlayChecked=
!0;a.adDisplayContainer=new google.ima.AdDisplayContainer(c,a.videoContent_);a.adDisplayContainer.initialize();a.startAdRequest(b.requiresMuted)}),a.videoContent_.load())};f.prototype.startAdRequest=function(g){var b=new google.ima.AdsLoader(this.adDisplayContainer);b.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1);b.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onEvent.bind(this,"AdError"),!1);var h=new google.ima.AdsRequest;
h.adTagUrl=this.mastervideotagurl;h.linearAdSlotWidth=parseInt(""+16/9*(0+this.height));h.linearAdSlotHeight=this.height;h.nonLinearAdSlotWidth=parseInt(""+16/9*(0+this.height));h.nonLinearAdSlotHeight=this.height;h.forceNonLinearFullSlot=!0;h.setAdWillAutoPlay(!1);!0===this.options.muted||g?(h.setAdWillPlayMuted(!0),this.setMuted(!0)):(h.setAdWillPlayMuted(!1),this.setMuted(!1));b.requestAds(h)};f.prototype.onTimeout=function(){this.timeoutTimer_=null;this.end("error",null)};f.prototype.initVideoElement=
function(){var g=this.container_.ownerDocument,b=this.videoContent_;b.setAttribute("playsinline","true");b.style.left="0px";b.style.top="0px";b.style.position="absolute";b.style.width="100%";b.style.height="100%";g=g.createElement("source");g.setAttribute("src","https://ssl.cdne.cpmstar.com/cached/zonemasters/mp4-with-audio.mp4");g.setAttribute("type","video/mp4");b.appendChild(g);return b};f.prototype.autoPlayAdjustMuted=function(g){void 0===g&&(g=null);var b=this,h=!1,d=!1,a=b.videoContent_,c=function(){a.removeEventListener("error",
c);a.removeEventListener("canplay",e);for(var l=0;l<a.children.length;l++)"source"==a.children[l].tagName.toLowerCase()&&a.children[l].removeEventListener("error",c);d||(d=!0,b.setMuted(!0),g&&g({canAutoplay:!1,requiresMuted:!0}))},e=function(){a.removeEventListener("error",c);a.removeEventListener("canplay",e);for(var l=0;l<a.children.length;l++)"source"==a.children[l].tagName.toLowerCase()&&a.children[l].removeEventListener("error",c);h||(h=!0,b.mm.log("did not autoplay, so call play manually"),
l=a.play(),void 0!==l?l.then(function(){d||(d=!0,g&&g({canAutoplay:!0,requiresMuted:!1}))}).catch(function(c){b.mm.log("call to play prevented so had to mute");b.setMuted(!0);a.play().then(function(){d||(d=!0,g&&g({canAutoplay:!0,requiresMuted:!0}))}).catch(function(a){b.mm.log("call to play failed even when muted");d||(d=!0,g&&g({canAutoplay:!1,requiresMuted:!1}))})}):d||(d=!0,g&&g({canAutoplay:!0,requiresMuted:!1})))};a.addEventListener("error",e);a.addEventListener("canplay",e);for(var m=0;m<a.children.length;m++)"source"==
a.children[m].tagName.toLowerCase()&&a.children[m].addEventListener("error",c)};f.prototype.play=function(){this.adsManager_&&this.paused?(this.paused=!1,this.adsManager_.resume()):!this.adsManager_||this.began||this.ended||(this.adsManager_.start(),this.began=!0)};f.prototype.isSkippable=function(){return this.adsManager_?this.adsManager_.getAdSkippableState():!1};f.prototype.replay=function(){};f.prototype.pause=function(){this.paused||(this.adsManager_.pause(),this.pauseBeganTime=Date.now(),this.paused=
!0)};f.prototype.isPlaying=function(){return this.began&&!this.paused&&!this.ended};f.prototype.isPaused=function(){return this.paused};f.prototype.isMuted=function(){return this.muted};f.prototype.setMuted=function(g){window.navigator.userAgent&&window.navigator.userAgent.toLowerCase();this.adsManager_?g?this.adsManager_.setVolume(0):this.adsManager_.setVolume(1):this.videoContent_&&(this.videoContent_.muted=g);this.muted=g};f.prototype.getSkipOffset=function(){return-1};f.prototype.setSkipOffset=
function(g){};f.prototype.getDuration=function(){return this.adsManager_&&"function"===typeof this.adsManager_.getDuration?this.adsManager_.getDuration():-1};f.prototype.getRemainingTime=function(){return this.adsManager_?this.adsManager_.getRemainingTime():0};f.prototype.close=function(){this.end("skipped")};f.prototype.init=function(g,b,h,d,a){this.width=h;this.height=d;this.options=a;this.container_=b;var c=b.ownerDocument,e=c.createElement("div");this.videoContainer_=e;e.style.position="relative";
e.id="CPMSTAR_VIDEOCONTAINER";e.style.position="absolute";e.style.left="0";e.style.top="0";e.style.bottom="0";e.style.right="0";e.style.zIndex="2147483638";e.style.backgroundColor="black";var m=c.createElement("video");m.id="contentElement";m.style.position="absolute";m.style.left="0";m.style.top="0";m.style.bottom="0";m.style.right="0";this.videoContent_=m;a.className&&m.classList.add(a.className);c=c.createElement("div");c.id="adContainer";this.adContainer_=c;b.appendChild(e);e.appendChild(m);e.appendChild(c);
this.videoContainer_=e;"undefined"!==typeof google&&"undefined"!=typeof google.ima?this.initInternal(g,h,d,a):(b="https://imasdk.googleapis.com/js/sdkloader/ima3.js",this.mm.debug&&(b="https://imasdk.googleapis.com/js/sdkloader/ima3_debug.js"),this.mm.getScript(b,this.initInternal.bind(this,g,h,d,a)));this.startFailsafeTimeout(15)};f.prototype.clearFailsafeTimeout=function(){this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null)};f.prototype.startFailsafeTimeout=function(g){this.clearFailsafeTimeout();
this.timeoutTimer_=window.setTimeout(this.onTimeout.bind(this),1E3*g)};f.prototype.end=function(g,b){b&&this.mm.log("VAST Error "+b.getError());this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null);null!=this.adsManager_&&(this.adsManager_.destroy(),this.adsManager_=null);this.videoContainer_&&this.container_&&(this.container_.removeChild(this.videoContainer_),this.videoContainer_=null);this.ended||(this.ended=!0,g&&"error"==g?this.dispatchEvent(p("error")):this.dispatchEvent(p("complete")))};
f.prototype.setSize=function(g,b){this.adsManager_&&this.adsManager_.resize(g,b,google.ima.ViewMode.NORMAL)};f.prototype.isVpaidMode=function(){return!0};f.prototype.onEvent=function(g,b){this.mm.log("Ad Event "+g+" "+(b?b:""));"AdLoaded"==g&&(this.mm.log("VPAID video became ready"),this.dispatchEvent(p("ready")));"AdStarted"==g&&this.dispatchEvent(p("start"));"AdVideoComplete"!=g&&"AllAdsCompleted"!=g||this.end("complete");"AdSkippableStateChange"==g&&this.dispatchEvent(p("skippablestatechange"));
"AdSkipped"!=g&&"AdStopped"!=g||this.end("skipped");"Paused"==g&&(this.paused=!0,this.play());"UserClose"==g&&this.end("userclose");"ContentResume"==g&&this.end("contentresume",b);"AdError"==g&&this.end("error",b);"Resumed"==g&&(this.paused=!1)};f.prototype.onAdsManagerLoaded=function(g){this.adsManager_=g.getAdsManager(this.videoContent_);this.adsManager_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onEvent.bind(this,"AdError"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.AD_METADATA,
this.onEvent.bind(this,"AdMetaData"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onEvent.bind(this,"AllAdsCompleted"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onEvent.bind(this,"AdVideoComplete"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onEvent.bind(this,"ContentResume"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this.onEvent.bind(this,"AdVideoFirstQuartile"));
this.adsManager_.addEventListener(google.ima.AdEvent.Type.LOADED,this.onEvent.bind(this,"AdLoaded"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this.onEvent.bind(this,"AdVideoMidpoint"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onEvent.bind(this,"Paused"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onEvent.bind(this,"Resumed"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onEvent.bind(this,
"AdSkippableStateChange"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onEvent.bind(this,"AdSkipped"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this.onEvent.bind(this,"AdVideoThirdQuartile"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onEvent.bind(this,"UserClose"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.STARTED,this.onEvent.bind(this,"AdStarted"));try{this.adsManager_.init(this.videoContainer_&&
this.videoContainer_.clientWidth?this.videoContainer_.clientWidth:this.width,this.videoContainer_&&this.videoContainer_.clientHeight?this.videoContainer_.clientHeight:this.height,google.ima.ViewMode.NORMAL)}catch(b){this.end("error",null)}this.muted?this.adsManager_.setVolume(0):this.adsManager_.setVolume(1);this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null)};return f}();k.default=f},"./src/zonemasters/components/instreamvideo.ts":function(f,k,n){var u=this&&this.__extends||
function(){var b=function(h,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return b(h,d)};return function(h,d){function a(){this.constructor=h}b(h,d);h.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/components/supercomponent.ts"),r=n("./src/zonemasters/components/videoplayer.ts"),g=n("./src/zonemasters/components/imaplayer.ts");
f=function(b){function h(d,a){var c=b.call(this,d,a)||this;c.isHidden=!1;c.videoReady=!1;c.firstDetectViewable=!0;c.becameViewable=!1;c.renderAttempts=0;c.px_cr=null;c.pb_err=null;c.setvolume=void 0;c.defaultRequestKind="json";c.api.skip=function(){};c.api.setvolume=function(a){a.volume&&c&&c.videoObj&&c.videoObj.setVolume&&c.videoObj.setVolume(a.volume)};c.api.getduration=function(a){if(c&&c.videoObj&&c.videoObj.getDuration){var b=c.videoObj.getDuration();a.cb&&a.cb(function(){},b)}else a.fail&&
a.fail()};c.api.getremainingtime=function(a){if(c&&c.videoObj&&c.videoObj.getRemainingTime){var b=c.videoObj.getRemainingTime();a.cb&&a.cb(function(){},b)}else a.fail&&a.fail()};return c}u(h,b);h.prototype.isViewable=function(b,a){if(!1===this.module.options.requireViewable)return!0;b=b.getBoundingClientRect();a&&(b.height=a);var c=window.innerWidth;a=window.innerHeight;var e=document.documentElement.clientWidth,m=document.documentElement.clientHeight,l=c;c&&e&&(l=Math.min(c,e));null==l&&(l=e);null==
l&&(l=document.getElementsByTagName("body")[0].clientWidth);(c=a)&&m&&(c=Math.min(a,m));null==c&&(c=m);null==c&&(c=document.getElementsByTagName("body")[0].clientHeight);return 0<=b.top&&0<=b.left&&b.top+.6*b.height<=c&&b.left+.8*b.width<=l?!0:!1};h.prototype.testResponseValidity=function(b){var a=this;p.default.prototype.testResponseValidity.call(a,function(c){if(c)if(a.res.renderAd)switch(a.res.getAdTypeAvailable(a.module)){case "video":case "banner":case "editorial":c=!0;break;default:c=!1}else c=
a.res&&a.res.getResponseData?(c=a.res.getResponseData())&&c.creativemacros&&c.creativemacros.HTML5VID_VASTSTRING?!0:c&&c.creativemacros&&c.creativemacros.HTML5VID_ADX?!0:!1:!1;b(c)})};h.prototype.showContainer=function(){this.isHidden&&(this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"),this.outercontainer.style.height=this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.repeatElement&&(this.repeatElement.style.display="block"),this.muteElement&&
(this.muteElement.style.display="block"),this.playElement&&(this.playElement.style.display="block"),this.skipElement&&(this.skipElement.style.display="block"),this.closeElement&&(this.closeElement.style.display="block"),this.isHidden=!1)};h.prototype.hideContainer=function(){var b=this;this.isHidden||(b.outercontainer.classList.remove("cpmsvideoshow"),b.outercontainer.classList.add("cpmsvideohide"),b.repeatElement&&(b.repeatElement.style.display="none"),b.muteElement&&(b.muteElement.style.display=
"none"),b.playElement&&(b.playElement.style.display="none"),b.skipElement&&(b.skipElement.style.display="none"),b.closeElement&&(b.closeElement.style.display="none"),b.setTimeout(function(){b.outercontainer.style.display="none";b.isHidden=!0},700))};h.prototype.closing=function(){var b=this;null!=b.module.options.hideAfter&&b.videoObj&&0==b.videoObj.isVpaidMode()?b.hideTimer=b.setTimeout(function(){b.close()},b.module.options.hideAfter):b.close()};h.prototype.close=function(){this.triggerEvent("onclose");
this.videoObj&&this.videoObj.close();this.hideContainer()};h.prototype.updateMuteElementCSSClass=function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};h.prototype.attemptRenderPixel=function(b){if(this.outercontainer&&null!=b&&""!=b&&(0<=b.indexOf("http://")||0<=b.indexOf("https://")||0==b.indexOf("//")))try{var a=document.createElement("img");a.src=b;a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";
a.style.height="1px";this.outercontainer.appendChild(a);a.onload=function(){a.style.display="none";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";a.style.height="1px"}}catch(c){this.mm.log("Error hitting pixel: "+c)}};h.prototype.initVideoObj=function(b,a){void 0===a&&(a=!1);var c=this;c.playElement=document.createElement("div");c.muteElement=document.createElement("div");c.skipElement=document.createElement("div");c.videoObj=a?new g.default(this.mm):new r.default(this.mm);
c.videoObj.addEventListener("ready",function(a){c.videoReady=!0;c.module.options&&c.module.options.volume&&c.api.setvolume({volume:c.module.options.volume});c.module.div.style.visibility="visible";c.videoObj.play()});c.videoObj.addEventListener("start",function(){c.px_cr&&c.attemptRenderPixel(c.px_cr);c.showContainer();c.updateMuteElementCSSClass();c.muteElement.onclick=function(){c.videoObj.setMuted(!c.videoObj.isMuted());c.updateMuteElementCSSClass()};c.outercontainer.insertBefore(c.muteElement,
c.outercontainer.firstChild);c.playElement.className="cpmsvideopause";c.playElement.onclick=function(){c.videoObj.isPaused()?c.videoObj.play():c.videoObj.pause();c.playElement.className=c.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};c.outercontainer.insertBefore(c.playElement,c.outercontainer.firstChild);c.skipElement.className="cpmsskipad";c.skipElement.onclick=function(){c.videoObj.skip()};c.outercontainer.insertBefore(c.skipElement,c.outercontainer.firstChild);c.skipElement.style.display=
c.videoObj.isSkippable()?"":"none";c.triggerEvent("onstart")});c.videoObj.addEventListener("skippablestatechange",function(){c.skipElement.style.display=c.videoObj.isSkippable()?"":"none"});c.videoObj.addEventListener("error",function(){c.px_cr=null;c.pb_err=null;c.triggerEvent("onend");2>=c.renderAttempts?c.nextAd()?c.attemptRender(null):c.close():c.close()});c.videoObj.addEventListener("complete",function(){c.triggerEvent("onend");c.playElement.style.display="none";c.muteElement.style.display="none";
null==c.repeatElement&&!1!==c.module.options.replay&&0==c.videoObj.isVpaidMode()&&(c.repeatElement=document.createElement("div"),c.repeatElement.className="cpmsvideorepeat",c.repeatElement.onclick=function(){null!=c.hideTimer&&(c.hideTimer(),c.hideTimer=null);c.outercontainer.removeChild(c.repeatElement);c.repeatElement=null;c.videoObj.replay()},c.outercontainer.insertBefore(c.repeatElement,c.outercontainer.firstChild));c.closing()});c.onEvent(window,"orientationchange",c.updateVideoSize.bind(c));
c.onEvent(window,"resize",c.updateVideoSize.bind(c));c.videoObj.init(b,c.container,c.currentVideoSize.width,c.currentVideoSize.height,{clickPrefix:c.module.options.clickPrefix,muted:c.module.options.muted,forceSkippability:c.module.options.forceSkippability})};h.prototype.getBannerRenderTarget=function(){var b=this.module.div.getElementsByClassName("bannertarget")[0];return b?b:p.default.prototype.getRenderTarget.call(this)};h.prototype.measureVideoSize=function(){var b=null!=this.container&&0<this.container.clientHeight&&
0<this.container.clientWidth?this.container:this.outercontainer;return{width:b.clientWidth,height:b.clientHeight}};h.prototype.updateVideoSize=function(){var b=this;b.setTimeout(function(){b.currentVideoSize={width:b.outercontainer.clientWidth*b.originalVideoWidthRatio,height:b.outercontainer.clientHeight*b.originalVideoHeightRatio};b.videoObj.setSize(b.currentVideoSize.width,b.currentVideoSize.height)},200)};h.prototype.attemptRender=function(b){var a=this.getRenderTarget();this.mm.log("InstreamVideo - attemptRender");
this.renderAttempts++;if(this.res&&this.res.renderAd)switch(this.res.getAdTypeAvailable(this.module)){case "banner":case "editorial":this.render(this.getBannerRenderTarget(),this.onAdRendered.bind(this,b));break;case "video":this.mm.log("InstreamVideo - attemptRender - got ad type video");this.render(a,this.onAdRendered.bind(this,b));break;default:this.mm.log("InstreamVideo - unknown ad type ( default ad? returned)"),this.close()}else this.onAdRendered.call(this,b)};h.prototype.init=function(d,a){function c(){!e.becameViewable&&
e.isViewable(m,e.currentVideoSize.height)&&(e.becameViewable=!0,e.mm.log("video became viewable"),e.outercontainer.style.overflow="visible",e.attemptRender(a));e.firstDetectViewable=!1}b.prototype.init.call(this,d,a);var e=this,m=this.getRenderTarget();e.module.div.style.visibility="hidden";e.outercontainer=m;e.container=e.outercontainer.getElementsByClassName("cpmsvideowrapper")[0];null==e.container&&(e.container=e.outercontainer);e.currentVideoSize=e.measureVideoSize();e.originalVideoWidthRatio=
e.currentVideoSize.width/e.outercontainer.clientWidth;e.originalVideoHeightRatio=e.currentVideoSize.height/e.outercontainer.clientHeight;e.originalOuterContainerHeight=e.outercontainer.clientHeight;e.module.options&&e.module.options.startHidden&&(e.outercontainer.style.overflow="hidden",e.outercontainer.style.height="0px",e.isHidden=!0);e.onEvent(window,"DOMContentLoaded",c);e.onEvent(window,"load",c);e.onEvent(window,"resize",c);e.onEvent(window,"scroll",c);e.onEvent(window,"orientationchange",c);
e.setTimeout(function(){c()},0);e.setTimeout(function(){c()},500)};h.prototype.renderXButton=function(){var b=this;b.closeElement=document.createElement("div");b.closeElement.className="cpmsvideoclosebanner";b.closeElement.onclick=function(){b.close()};var a=this.getBannerRenderTarget();a||(a=b.outercontainer);a.appendChild(b.closeElement);b.closeElement.style.display="block"};h.prototype.onAdRendered=function(d){b.prototype.onAdRendered.call(this,d);this.mm.log("InstreamVideo - onAdRendered");var a=
this.res.getAdTypeAvailable(this.module,2>this.renderAttempts?null:{fallback:!0});this.mm.log("getAdTypeAvailable: "+a);switch(a){case "editorial":case "banner":this.module.div.style.visibility="visible";this.renderXButton();this.triggerEvent("onstart");break;case "video":case "json":this.mm.log(this.res.getResponseData);if(this.res.getResponseData){a=this.res.getResponseData();this.mm.log(a);if(a&&a.creativemacros.HTML5VID_ADX){this.initVideoObj(a.creativemacros.HTML5VID_ADX,!0);a.px_cr&&(this.px_cr=
a.px_cr);a.pb_err&&(this.pb_err=a.pb_err);return}if(a&&(this.mm.log("onAdRendered - calling initVideoObj for HTML5VID_VASTSTRING "+a.creativemacros.HTML5VID_VASTSTRING),this.initVideoObj(a.creativemacros.HTML5VID_VASTSTRING),this.module.options.forceSkippability||this.module.options.autoSkippability&&a.creativemacros.HTML5VID_VASTSTRING.match(/<MediaFile\b[^>]*>(.*\.cpmstar\.com.*)<\/MediaFile>/g))){var c=0;a.creativemacros.HTML5VID_SKIPSECONDS&&(c=a.creativemacros.HTML5VID_SKIPSECONDS?1E3*a.creativemacros.HTML5VID_SKIPSECONDS:
0);0<c?this.videoObj.setSkipOffset(c):1E3<this.videoObj.getSkipOffset()&&(this.module.options.autoSkipOffset?this.videoObj.setSkipOffset(this.module.options.autoSkipOffset):this.videoObj.setSkipOffset(5))}}break;default:this.close()}d&&d()};return h}(p.default);k.default=f},"./src/zonemasters/components/onrpghotbox.ts":function(f,k,n){var u=this&&this.__extends||function(){var f=function(k,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,h){b.__proto__=h}||function(b,h){for(var d in h)h.hasOwnProperty(d)&&
(b[d]=h[d])};return f(k,g)};return function(k,g){function b(){this.constructor=k}f(k,g);k.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(k,"__esModule",{value:!0});f=function(f){function k(g,b){g=f.call(this,g,b)||this;g.maxMulti=5;g.fadeRate=0;g.hoverFadeRate=0;g.fadeOpacity=.5;g.fullOpacity=1;g.iterations=0;g.lastIterationTime=0;g.timer=null;g.hovering=!1;g.moved=0;return g}u(k,f);k.prototype.init=function(g){f.prototype.init.call(this,g);var b=this,
h=b.mm.$;g.getResponseData();var d=b.module.div;h(d).find(".hotbox_thumbs ul li:first").addClass("selected");b.lastIterationTime=(new Date).getTime();b.timer=b.setTimeout(function(){b.next()},7500);h(document).ready(function(){h(d).find(".hotbox_thumbs li div").each(function(){h(this).css("opacity",b.fadeOpacity)});h(d).find(".thumb_0 div").css("opacity",b.fullOpacity);var a=h(d).find(".hotbox-widget");a&&a.hover(function(){b.hovering=!0;null!=b.timer&&clearTimeout(b.timer);b.timer=null},function(){b.hovering=
!1;null!=b.timer&&clearTimeout(b.timer);b.timer=null;b.timer=b.setTimeout(function(){b.next()},5E3)});a=h(d).find(".hotbox_thumbs ul li");var c=null,e=null,m=h(d).find(".hotbox_items")[0];m.addEventListener("touchstart",function(a){c=a.touches[0].clientX;e=a.touches[0].clientY;b.moved=0});m.addEventListener("touchmove",function(a){if(null!=c&&null!=e){var l=a.touches[0].clientX-c;if(Math.abs(l)>Math.abs(a.touches[0].clientY-e)){a=h(b.module.div).find(".hotbox_items ul:first");var m=-(100*h(b.module.div).find(".hotbox_thumbs ul li.selected:first").index()/
4)+l/a[0].clientWidth*100+"%";a.animate({left:m},10,"linear");b.moved=Math.abs(l)}}});m.addEventListener("touchend",function(a){if(null!=c&&null!=e){var l=a.changedTouches[0].clientX-c;a=a.changedTouches[0].clientY-e;var m=h(b.module.div).find(".hotbox_items ul:first"),d=-(100*h(b.module.div).find(".hotbox_thumbs ul li.selected:first").index()/4)+"%";Math.abs(l)>Math.abs(a)&&Math.abs(l)>=m[0].clientWidth/16?0>l?b.next(1):b.next(-1):0<b.moved&&m.animate({left:d},10,"linear")}});a.hover(function(){null!=
b.timer&&clearTimeout(b.timer);b.timer=null;h(d).find(".hotbox_thumbs ul li div").css("opacity",b.fadeOpacity);h(d).find(".hotbox_thumbs ul li").removeClass("selected");h("div",this).fadeTo(b.hoverFadeRate,b.fullOpacity);h(this).addClass("selected");var a=h(d).find(".hotbox_items ul:first"),c=-288*h(this).index();a.stop();a.animate({top:c},350)},function(){h("img",this).fadeTo(b.fadeRate,b.fadeOpacity);null!=b.timer&&clearTimeout(b.timer);b.timer=null;b.timer=b.setTimeout(function(){b.next()},7500)})})};
k.prototype.next=function(g){var b=this.mm.$,h=this.module.div;if(null==g&&(this.iterations++,this.iterations&&16<this.iterations))return;null!=this.timer&&clearTimeout(this.timer);this.timer=null;var d=b(h).find(".hotbox_thumbs ul li.selected:first");d.removeClass("selected");b("div",d).fadeTo(this.fadeRate,this.fadeOpacity);var a=d;if(null==g||1==g)a=d.next(),0==a.length&&(a=b(h).find(".hotbox_thumbs ul li:first"));-1==g&&(a=d.prev(),0==a.length&&(a=b(h).find(".hotbox_thumbs ul li:last")));a.addClass("selected");
b("div",a).fadeTo(this.hoverFadeRate,this.fullOpacity);g=b(h).find(".hotbox_items ul:first");a=a.index();b(h).find(".hotbox_list").children();b=-(100*a/4)+"%";g.stop();g.animate({left:b},350)};return k}(n("./src/zonemasters/components/editorial.ts").default);k.default=f},"./src/zonemasters/components/scriptcomponent.ts":function(f,k,n){var u=this&&this.__extends||function(){var f=function(g,b){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&
(b[a]=d[a])};return f(g,b)};return function(g,b){function h(){this.constructor=g}f(g,b);g.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/components/supercomponent.ts");f=function(f){function g(b,h){return f.call(this,b,h)||this}u(g,f);g.prototype.request=function(b){b(this.init.bind(this,this.res))};g.prototype.init=function(b,h){p.default.prototype.init.call(this,b,h);b=this.module.options;this.getRequestData();
var d=h=null;null!=b&&(d=new Function(b.onsuccess),h=b.src,"string"===typeof h&&"/"===h[0]&&(h=(this.mm.proto?"//server":"//cdn")+".cpmstar.com"+h));null!=h&&this.mm.getScript(h,d)};return g}(p.default);k.default=f},"./src/zonemasters/components/segmentedvideo.ts":function(f,k,n){function u(a){var b=[];Object.keys(a).forEach(function(c){b.push({key:c,value:a[c]})});return b}var p=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,
b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function e(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();Object.defineProperty(k,"__esModule",{value:!0});var r=n("./src/zonemasters/components/supercomponent.ts"),g=n("./src/zonemasters/components/videoplayer.ts"),b=n("./src/zonemasters/components/imaplayer.ts"),h=function(){function a(a){this.ad=a;this.isHidden=this.outercontainer=
void 0;this.firstDetectViewable=!1;this.container=this.currentVideoSize=this.pb_err=this.px_cr=this.videoObj=this.originalVideoHeightRatio=this.originalVideoWidthRatio=this.module=this.hideTimer=this.skipElement=this.playElement=this.muteElement=this.repeatElement=void 0;this.finalizers=[];this.componentInstance=this.mm=this.originalOuterContainerHeight=void 0;this.halt=this.ready=!1;this.imaPlayer=void 0;var b=this;b.componentInstance=b.ad.componentInstance;b.container=b.ad.container;"mm module repeatElement skipElement playElement muteElement outercontainer isHidden module originalVideoWidthRatio originalVideoWeightRatio originalOuterContainerHeight finalizer currentVideoSize".split(" ").forEach(function(a){b[a]=
b.componentInstance[a]});b.componentInstance.module.options.preroll&&0==b.componentInstance.clipCount&&(a=b.getTitle(),b.componentInstance.updateTitle(a))}a.prototype.setVolume=function(a){this.videoObj&&this.videoObj.setVolume&&this.videoObj.setVolume(a)};a.prototype.setup=function(){var a=this.usesImaPlayer();this.imaPlayer=a;this.init(this.getVastString(),a);this.handlePlayerType(a)};a.prototype.handlePlayerType=function(a){var b,c,e;if(null===(e=null===(c=null===(b=this.ad)||void 0===b?void 0:
b.responseData)||void 0===c?void 0:c.creativemacros)||void 0===e?0:e.HALTREFRESH)this.halt=!0;a?(this.ad.responseData.px_cr&&(this.px_cr=this.ad.responseData.px_cr),this.ad.responseData.pb_err&&(this.pb_err=this.ad.responseData.pb_err)):this.module.options.autoSkippability&&this.ad.responseData.creativemacros.HTML5VID_VASTSTRING.match(/<MediaFile\b[^>]*>(.*\.cpmstar\.com.*)<\/MediaFile>/g)&&(a=0,this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS&&(a=this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS?
1E3*this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS:0),0<a?this.videoObj.setSkipOffset(a):1E3<this.videoObj.getSkipOffset()&&(this.module.options.autoSkipOffset?this.videoObj.setSkipOffset(this.module.options.autoSkipOffset):this.videoObj.setSkipOffset(5)))};a.prototype.setMuted=function(a){this.componentInstance.isMuted=a;this.videoObj.videoEl()&&(this.videoObj.setMuted(a),this.updateMuteElementCSSClass());this.ad.componentInstance.videoObj&&this.ad.componentInstance.videoObj.setMuted(a)};
a.prototype.getTitle=function(){var a="";this.componentInstance.module.options.title?a=this.componentInstance.module.options.title:this.ad&&this.ad.responseData&&this.ad.responseData.creativemacros&&this.ad.responseData.creativemacros.title?a=this.ad.responseData.creativemacros.title:this.componentInstance.creativemacros&&this.componentInstance.creativemacros.title&&(a=this.componentInstance.creativemacros.title);return a};a.prototype.init=function(a,c){var e=this;e.videoObj=c?new b.default(e.mm):
new g.default(e.mm);e.videoObj.addEventListener("ready",function(a){e.ready=!0;e.module.options&&e.module.options.volume&&e.setVolume(e.module.options.volume);e.videoObj.watchdogOff&&"hb"==e.module.adRequest&&setTimeout(e.videoObj.watchdogOff.bind(e.videoObj),1E3);e.componentInstance.module.options&&e.componentInstance.module.options.intermittentAds&&1!=e.componentInstance.module.options.preroll&&e.videoObj&&0==e.videoObj.isPlaying()&&e.componentInstance.queueIntermittentAd(e.componentInstance.module.options.intermittentAds);
e.ad.readyCallback&&(a=e.ad.readyCallback,e.ad.readyCallback=void 0,e.ad.invalidCallback=void 0,a())});e.videoObj.addEventListener("start",function(){e.ad.componentInstance.hideSpinner();e.videoObj.watchdogOn&&"hb"==e.module.adRequest&&e.videoObj.watchdogOn(5);e.px_cr&&e.attemptRenderPixel(e.px_cr);e.outercontainer.insertBefore(e.muteElement,e.outercontainer.firstChild);e.showContainer();e.setMuted(e.componentInstance.isMuted);e.muteElement.onclick=function(){e.setMuted(!e.componentInstance.isMuted)};
e.outercontainer.insertBefore(e.muteElement,e.outercontainer.firstChild);e.playElement.className="cpmsvideopause";e.playElement.onclick=function(){e.videoObj.isPaused()?(e.videoObj.play(),e.componentInstance.userPlayState="playing"):(e.videoObj.pause(),e.componentInstance.userPlayState="paused");e.playElement.className=e.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};e.outercontainer.insertBefore(e.playElement,e.outercontainer.firstChild);e.outercontainer.insertBefore(e.repeatElement,e.outercontainer.firstChild);
e.module.options.repeat||(e.repeatElement.style.display="none");e.repeatElement.className="cpmsvideorepeat";e.repeatElement.addEventListener("click",function(){e.componentInstance.repeatVideo()});e.skipElement.className="cpmsvideoskip";e.skipElement.onclick=function(){e.videoObj.skip()};e.outercontainer.insertBefore(e.skipElement,e.outercontainer.firstChild);e.skipElement.style.display=e.videoObj.isSkippable()?"":"none";var a=e.getTitle();e.module.options.titleClass&&a&&e.componentInstance.updateTitle(a)});
e.videoObj.addEventListener("skippablestatechange",function(){e.skipElement.style.display=e.videoObj.isSkippable()?"":"none"});e.videoObj.addEventListener("error",function(a){console.log("Error: ",a);e.ad.isValid=!1;e.close()});e.videoObj.addEventListener("complete",function(){e.componentInstance.module.options&&e.componentInstance.module.options.preroll&&(e.componentInstance.module.options.preroll=!1);0==e.halt?(e.componentInstance.showSpinner(),e.close()):(e.playElement.style.display="none",e.repeatElement.style.display=
"block")});e.onEvent(window,"orientationchange",e.updateVideoSize.bind(e));e.onEvent(window,"resize",e.updateVideoSize.bind(e));e.videoObj.init(a,e.container,e.currentVideoSize.width,e.currentVideoSize.height,{clickPrefix:e.module.options.clickPrefix,muted:e.ad.componentInstance.isMuted,className:e.module.options.videoClass})};a.prototype.getVastString=function(){return this.usesImaPlayer()?this.ad.responseData.creativemacros.HTML5VID_ADX:this.ad.responseData.creativemacros.HTML5VID_VASTSTRING};a.prototype.usesImaPlayer=
function(){return function(a,b){return a.every(function(a){return a!=b})?!1:!0}(Object.keys(this.ad.responseData.creativemacros),"HTML5VID_ADX")};a.prototype.setTimeout=function(a,b){a=window.setTimeout(a,b);a=window.clearTimeout.bind(window,a);this.addFinalizer(a);return a};a.prototype.onEvent=function(a,b,c,e){void 0===e&&(e=!1);var l=null;a.addEventListener?(a.addEventListener(b,c,e),l=function(a,b){this.removeEventListener(a,b)}.bind(a,b,c)):a.attachEvent&&(a.attachEvent("on",b,c),l=function(e,
l){this.detachEvent(e,l).bind(a,b,c)});this.addFinalizer(l)};a.prototype.addFinalizer=function(a){(this.finalizers=this.finalizers||[]).push(a)};a.prototype.attemptRenderPixel=function(a){if(this.outercontainer&&null!=a&&""!=a&&(0<=a.indexOf("http://")||0<=a.indexOf("https://")||0==a.indexOf("//")))try{var b=document.createElement("img");b.src=a;this.outercontainer.appendChild(b);b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px";b.onload=function(){b.style.display=
"none";b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px"}}catch(v){this.mm.log("Error hitting pixel: "+v)}};a.prototype.showContainer=function(){this.isHidden&&(this.outercontainer.style.height=""+this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.isHidden=!1,this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"))};a.prototype.updateMuteElementCSSClass=function(){this.muteElement.className=
this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};a.prototype.destroy=function(){for(;this.finalizers&&0<this.finalizers.length;)this.finalizers.pop()()};a.prototype.close=function(){this.container.remove();this.videoObj.close();this.destroy();this.componentInstance.resume()};a.prototype.updateVideoSize=function(){var a=this;a.setTimeout(function(){var b={width:a.outercontainer.clientWidth*a.originalVideoWidthRatio,height:a.outercontainer.clientHeight*a.originalVideoHeightRatio};
b.width!=a.currentVideoSize.width&&b.width!=a.currentVideoSize.height&&(a.currentVideoSize=b,a.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height))},200)};a.prototype.hideContainer=function(){var a=this;a.isHidden||(a.outercontainer.classList.remove("cpmsvideoshow"),a.outercontainer.classList.add("cpmsvideohide"),a.setTimeout(function(){a.outercontainer.style.display="none";a.isHidden=!0},700))};return a}(),d=function(){function a(a,b){this.mm=a;this.componentInstance=b;this.container=
this.outercontainer=this.closeElement=this.module=this.adPlayer=this.responseData=this.response=this.request=void 0;this.isValid=!1;this.adtype="";this.invalidCallback=this.readyCallback=void 0;this.module=this.componentInstance.module;this.getAd()}a.prototype.isReady=function(){var a=!1;this.isValid&&this.adPlayer&&this.adPlayer.videoObj&&(a=!0);return a};a.prototype.getRequest=function(){var a=this.mm.zonedata.requests[this.module.adRequest],b=a.kind?a.kind:"json";if(null==b)throw Error("Ad request kind was null.");
b=this.mm.requestTypes[b];if(null==b)throw Error("Ad request type is not valid.");this.request=new b(this.mm);this.request.init(a)};a.prototype.createElement=function(a,b){var c=document.createElement(a);Object.keys(b).forEach(function(a){c.setAttribute(a,b[a])});return c};a.prototype.createAdWrapper=function(){this.container=this.createElement("div",{id:"cpmsadwrapper"});this.componentInstance.hide(this.container);this.componentInstance.outercontainer.prepend(this.container)};a.prototype.adFrequency=
function(){return Math.random()<this.componentInstance.adFrequency?!0:!1};a.prototype.play=function(){this.container&&(this.container.style.display="block");var a=this.adFrequency();this.isValid&&this.adPlayer&&this.adPlayer.videoObj&&(a||0==this.componentInstance.clipCount&&this.module.options.preroll)?this.adPlayer.videoObj.play():this.close()};a.prototype.close=function(){void 0!=this.container&&this.container.remove();this.adPlayer&&this.adPlayer.videoObj&&this.adPlayer.videoObj.close();this.componentInstance.resume()};
a.prototype.getBannerRenderTarget=function(){var a=this.module.div.getElementsByClassName("bannertarget")[0];return a?a:r.default.prototype.getRenderTarget.call(this)};a.prototype.clearBanner=function(){setTimeout(this.close.bind(this),1E4)};a.prototype.formatResponseData=function(a){return"string"==typeof a?{creativemacros:{HTML5VID_VASTSTRING:a}}:a};a.prototype.onAdRendered=function(){var a=this;a.testResponseValidity(function(b){(a.isValid=b)?(a.responseData=a.formatResponseData(a.componentInstance.getResponse().getResponseData()),
a.createAdWrapper(),a.adPlayer=new h(a),a.adPlayer.setup()):(a.invalidCallback&&(b=a.invalidCallback,a.invalidCallback=void 0,a.readyCallback=void 0,b()),console.log("The response was not valid."))})};a.prototype.renderAd=function(){this.adtype=this.response.getAdTypeAvailable(this.module);switch(this.adtype){case "banner":case "editorial":this.response.renderAd(this.module,this.getBannerRenderTarget(),this.clearBanner.bind(this));break;case "video":this.response.renderAd(this.module,this.outercontainer,
this.onAdRendered.bind(this));break;default:this.onAdRendered()}};a.prototype.testResponseValidity=function(a){var b=!1,c=this.componentInstance.getResponse();if(null!=c&&"object"==typeof c)switch(c.getAdTypeAvailable(this.module)){case "editorial":case "banner":case "video":b=!0;break;default:b=!1}a(b)};a.prototype.getAd=function(){var a=this;a.getRequest();a.request.addCallback(a.componentInstance,function(b){a.response=b;a.componentInstance.setResponse(a.response);a.renderAd()})};return a}(),a=
function(){function a(a){this.SegmentedVideo=a;this.index=0;this.queue=[];this.played=[]}a.prototype.isEnd=function(){return this.index==this.queue.length?!0:!1};a.prototype.next=function(){this.SegmentedVideo.clipCount++;var a=void 0;if(this.isEnd())throw this.index=0,Error("There are no more videos to play.");this.index==this.queue.length-1&&void 0==this.SegmentedVideo.module.options.maxClips&&(void 0==this.SegmentedVideo.module.options.maxEpisodes||this.SegmentedVideo.module.options.maxEpisodes&&
this.SegmentedVideo.episodeCount<this.SegmentedVideo.module.options.maxEpisodes)?(a=this.queue[this.index++],this.index=0,this.SegmentedVideo.fetchNext()):this.index==this.queue.length-1&&(this.SegmentedVideo.module.options.maxEpisodes&&this.SegmentedVideo.episodeCount>=this.SegmentedVideo.module.options.maxEpisodes||this.SegmentedVideo.module.options.maxClips)?(a=this.queue[this.index++],this.index=0,this.queue=this.played.sort(function(a,b){return 5<10*Math.random()?1:-1}),this.queue[0]==a&&this.queue.push(this.queue.shift())):
a=this.queue[this.index++];(1==this.SegmentedVideo.episodeCount&&1==this.index||this.SegmentedVideo.module.options.hdVideo)&&a.urlHD&&(a={url:a.urlHD,subtitles:a.subtitles});return a};a.prototype.createQueue=function(a){var b=new RegExp(/^VIDEO[0-9]+$/),c=a.getResponseData().creativemacros;this.index=0;this.queue=Object.keys(c).filter(function(a){return b.test(a)}).map(function(a){var b=a.search(/[0-9]+/),e=void 0;-1!=b&&(e=c["SUBTITLES"+a.substr(b)]);return{key:a,url:c[a],urlHD:c[a+"_HD"],subtitles:e}}).sort(function(a,
b){return parseInt(a.key.split(/[0-9]+/)[1])-parseInt(b.key.split(/[0-9]+/)[1])});this.SegmentedVideo.module.options.random&&(this.queue=this.queue.sort(function(a,b){return 5<10*Math.random()?1:-1}));this.SegmentedVideo.module.options.maxClips&&(this.queue=this.queue.slice(0,this.SegmentedVideo.module.options.maxClips));this.SegmentedVideo.episodeCount++;this.played=this.played.concat(this.queue)};return a}(),c=function(){function a(){void 0==localStorage.getItem("cpmsvideoslider_paramRanges")&&
this.reset()}a.prototype.getRanges=function(){return JSON.parse(localStorage.getItem("cpmsvideoslider_paramRanges"))};a.prototype.setRanges=function(a){localStorage.setItem("cpmsvideoslider_paramRanges",JSON.stringify(a.sort()))};a.prototype.first=function(){return this.getRanges().sort().slice().pop()};a.prototype.reset=function(){localStorage.setItem("cpmsvideoslider_paramRanges","[]")};a.prototype.concatenateRanges=function(a,b){var c=[];c[0]=a[0]>=b[0]?a[0]:b[0];c[1]=a[1]<=b[1]?a[1]:b[1];return c};
a.prototype.concatenateContinuousRanges=function(a){a=a.slice().sort();for(var b=0;b<a.length;++b)a[b+1]&&(this.contains(a[b][0],a[b+1])||this.contains(a[b][1],a[b+1]))&&(a.splice(b,2,this.concatenateRanges(a[b],a[b+1])),a.sort(),--b);return a};a.prototype.set=function(a){var b=this.getRanges();b.push([a,--a]);this.setRanges(this.concatenateContinuousRanges(b))};a.prototype.contains=function(a,b){var c=!1;b&&b[0]>=a&&b[1]<=a&&(c=!0);return c};a.prototype.get=function(a){return this.compare(--a)};
a.prototype.compare=function(a){var b=this.first();return b&&b[0]>=a?b[1]:a};return a}();f=function(b){function e(e,d){var l=b.call(this,e,d)||this;l.isHidden=!1;l.videoReady=!1;l.firstDetectViewable=!0;l.becameViewable=!1;l.renderAttempts=0;l.px_cr=null;l.pb_err=null;l.playQueue=void 0;l.ad=void 0;l.spinner=void 0;l.spinnerTimeout=void 0;l.intermittentAdTimeout=void 0;l.isMuted=!0;l.clipEnded=!1;l.clipBegan=!1;l.existingOnScroll=void 0;l.titleEl=void 0;l.firstResponse=void 0;l.lastViewed=new c;l.requestParam=
void 0;l.lastParam=!1;l.adFrequency=1;l.userPlayState="playing";l.pauseTarget=void 0;l.lastViewableState=void 0;l.episodeCount=0;l.title="";l.bgEl=null;l.clipCount=0;l.creativemacros={};l.resumeTimer=void 0;l.numClipsShown=0;window.getCssByClass=l.getCssByClass;void 0!=d.options.adFrequency&&(l.adFrequency=d.options.adFrequency);d.options&&d.options.muted&&(l.isMuted=d.options.muted);l.defaultRequestKind="json";l.playQueue=new a(l);l.api.skinloaded=function(a){};l.api.skip=function(){};l.api.setvolume=
function(a){a.volume&&l&&l.videoObj&&l.videoObj.setVolume&&l.videoObj.setVolume(a.volume)};l.api.getduration=function(a){if(l&&l.videoObj&&l.videoObj.getDuration){var b=l.videoObj.getDuration();a.cb&&a.cb(function(){},b)}else a.fail&&a.fail()};l.api.getremainingtime=function(a){if(l&&l.videoObj&&l.videoObj.getRemainingTime){var b=l.videoObj.getRemainingTime();a.cb&&a.cb(function(){},b)}else a.fail&&a.fail()};return l}p(e,b);e.prototype.setVolume=function(a){this.api.setvolume({volume:a})};e.prototype.hideSpinner=
function(){void 0!=this.spinnerTimeout&&(clearTimeout(this.spinnerTimeout),this.spinnerTimeout=void 0);void 0!=this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=void 0);this.hide(this.spinner)};e.prototype.showSpinner=function(){var a=this;a.spinnerTimeout=setTimeout(function(){a.show(a.spinner);a.resumeTimer=setTimeout(function(){a.ad.isReady()?a.ad.close():a.resume()},5E3)},100)};e.prototype.setResponse=function(a){this.res=a};e.prototype.getResponse=function(){return this.res};
e.prototype.isViewable=function(a,b){if(!1===this.module.options.requireViewable)return!0;a=a.getBoundingClientRect();b&&(a.height=b);var c=window.innerWidth;b=window.innerHeight;var e=document.documentElement.clientWidth,l=document.documentElement.clientHeight,d=c;c&&e&&(d=Math.min(c,e));null==d&&(d=e);null==d&&(d=document.getElementsByTagName("body")[0].clientWidth);(c=b)&&l&&(c=Math.min(b,l));null==c&&(c=l);null==c&&(c=document.getElementsByTagName("body")[0].clientHeight);return 0<=a.top&&0<=
a.left&&a.top+.6*a.height<=c&&a.left+.8*a.width<=d?!0:!1};e.prototype.testResponseValidity=function(a){var c=this;b.prototype.testResponseValidity.call(c,function(b){if(b)if(c.res.renderAd)switch(c.res.getAdTypeAvailable(c.module)){case "video":b=!0;break;default:b=!1}else b=c.res&&c.res.getResponseData?(b=c.res.getResponseData())&&b.creativemacros&&b.creativemacros.HTML5VID_VASTSTRING?!0:!1:!1;a(b)})};e.prototype.showContainer=function(){this.isHidden&&(this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"),
this.outercontainer.style.height=this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.isHidden=!1)};e.prototype.hideContainer=function(){var a=this;a.isHidden||(a.outercontainer.classList.remove("cpmsvideoshow"),a.outercontainer.classList.add("cpmsvideohide"),a.setTimeout(function(){a.outercontainer.style.display="none";a.isHidden=!0},700))};e.prototype.close=function(){this.outercontainer.parentElement.classList.add("cpmsvideoslideroff");this.module.options&&this.module.options.nonViewableClasses?
(window.onscroll=this.existingOnScroll,this.removeClasses(this.module.options.nonViewableClasses)):(this.triggerEvent("onclose"),this.playQueue.queue=[],this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.close(),this.videoObj&&this.videoObj.close())};e.prototype.setMuted=function(a){this.isMuted=a;this.videoObj.videoEl()&&(this.videoObj.setMuted(a),this.updateMuteElementCSSClass());this.ad.isReady()&&this.ad.adPlayer.videoObj.setMuted(a)};e.prototype.updateMuteElementCSSClass=
function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};e.prototype.attemptRenderPixel=function(a){if(this.outercontainer&&null!=a&&""!=a&&(0<=a.indexOf("http://")||0<=a.indexOf("https://")||0==a.indexOf("//")))try{var b=document.createElement("img");b.src=a;b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px";this.outercontainer.appendChild(b);b.onload=function(){b.style.display="none";
b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px"}}catch(q){this.mm.log("Error hitting pixel: "+q)}};e.prototype.isPlayable=function(){return 0==this.playQueue.isEnd()?this.videoReady=!0:this.videoReady=!1};e.prototype.hide=function(a){a&&(a.style.display="none")};e.prototype.show=function(a,b){a&&(a.style.display=b?b:"block")};e.prototype.playAd=function(){clearTimeout(this.intermittentAdTimeout);this.videoObj.isPlaying()&&this.videoObj.pause();
this.hide(this.videoObj.videoEl());this.hideSpinner();this.ad.play()};e.prototype.clear=function(){var a,b=null===(a=this.videoObj)||void 0===a?void 0:a.videoEl();if(a=null===b||void 0===b?void 0:b.parentElement)this.module.options&&this.module.options.mobile&&(this.outercontainer.style.height=this.measureVideoSize().height.toString()+"px"),a.remove()};e.prototype.restart=function(){this.lastParam?this.playQueue.createQueue(this.firstResponse):this.playQueue.index=0;this.lastParam&&this.module.playPrevious&&
this.setParam(this.firstResponse.getResponseData().creativemacros[this.module.playPrevious]);this.play()};e.prototype.setCreativemacros=function(a){a.getResponseData().creativemacros&&(this.creativemacros=a.creativemacros)};e.prototype.handleResponse=function(a){var b=this;b.setResponse(a);b.testResponseValidity(function(c){c?(b.setCreativemacros(a),b.playQueue.createQueue(a)):(b.lastParam=!0,b.lastViewed.reset(),b.responseValid=c)})};e.prototype.fetchNext=function(){this.requestParam&&this.module.playPrevious&&
this.mm.zonedata.requests[this.module.request]&&this.mm.zonedata.requests[this.module.request].params&&this.mm.zonedata.requests[this.module.request].params[this.module.playPrevious]&&(this.lastViewed.set(this.requestParam),this.setParam(this.lastViewed.get(--this.requestParam)),this.module.requestInstance.addCallback(this,this.handleResponse.bind(this)))};e.prototype.play=function(){this.hideSpinner();0==this.videoObj.isPlaying()&&(0<this.playQueue.queue.length?(this.videoObj.resetQuartiles(),this.videoObj.playUrl(this.playQueue.next())):
this.close())};e.prototype.queueIntermittentAd=function(a){this.intermittentAdTimeout=setTimeout(this.playAd.bind(this),1E3*a)};e.prototype.onVideoClick=function(){var a=this;a.container.addEventListener("click",function(b){"VIDEO"==b.target.nodeName&&a.videoObj.isPlaying()&&(b.stopPropagation(),b.preventDefault(),a.setMuted(!a.isMuted))})};e.prototype.getTitle=function(){var a=void 0;this.module.options.title?a=this.module.options.title:this.creativemacros&&this.creativemacros.title&&(a=this.creativemacros.title);
return a};e.prototype.updateTitle=function(a){a&&this.titleEl&&(this.titleEl.innerText=a)};e.prototype.repeatVideo=function(){this.playElement.style.display="block";this.module.options.repeat||(this.repeatElement.style.display="none");this.videoObj&&this.videoObj.isPlaying()?(this.videoObj.setBegan(!0),this.videoObj.replay()):this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&0==this.ad.adPlayer.imaPlayer&&(this.ad.adPlayer.videoObj.setBegan(!0),this.ad.adPlayer.videoObj.replay())};e.prototype.initVideoObj=
function(a,b){void 0===b&&(b=!1);var c=this;c.module.options.titleClass&&(c.titleEl=c.createElement("h2",{class:c.module.options.titleClass}),c.outercontainer.insertAdjacentElement("beforebegin",c.titleEl));["playElement","muteElement","skipElement","repeatElement"].forEach(function(a){c[a]=document.createElement("div")});c.videoObj=new g.default(this.mm);c.videoObj.addEventListener("ready",function(a){c.module.options&&c.module.options.volume&&c.setVolume(c.module.options.volume);c.onVideoClick();
c.ad=new d(c.mm,c);if(!0===c.module.options.preroll)c.playPreroll();else if(c.isPlayable())c.play();else throw c.close(),Error("There was no video to play.");});c.videoObj.addEventListener("start",function(){c.hideSpinner();c.clipBegan=!0;c.clipEnded=!1;c.setMuted(c.isMuted);c.module.options.titleClass&&(c.title=c.getTitle(),c.updateTitle(c.title));c.showContainer();c.muteElement.onclick=function(){c.setMuted(!c.isMuted)};c.outercontainer.insertBefore(c.repeatElement,c.outercontainer.firstChild);
c.module.options.repeat||(c.repeatElement.style.display="none");c.repeatElement.className="cpmsvideorepeat";c.repeatElement.addEventListener("click",function(){c.repeatVideo()});c.outercontainer.insertBefore(c.muteElement,c.outercontainer.firstChild);c.playElement.className="cpmsvideopause";c.playElement.onclick=function(){c.videoObj.isPaused()?(c.videoObj.play(),c.userPlayState="playing"):(c.videoObj.pause(),c.userPlayState="paused");c.playElement.className=c.videoObj.isPaused()?"cpmsvideoplay":
"cpmsvideopause"};c.outercontainer.insertBefore(c.playElement,c.outercontainer.firstChild);c.module.options.skippable&&(c.skipElement.className="cpmsvideoskip",c.skipElement.style.removeProperty("display"),c.outercontainer.insertBefore(c.skipElement,c.outercontainer.firstChild),c.skipElement.onclick=function(){c.videoObj.close()})});c.videoObj.addEventListener("skippablestatechange",function(){c.skipElement.style.display=c.videoObj.isSkippable()?"":"none"});c.videoObj.addEventListener("error",function(){c.close()});
c.videoObj.addEventListener("complete",function(){c.clipEnded=!0;c.clipBegan=!1;c.clear();c.showSpinner();c.intermittentAdTimeout&&clearTimeout(c.intermittentAdTimeout);c.ad.isReady()?c.ad.play():0==c.playQueue.isEnd()?c.resume():c.playQueue.isEnd()&&c.module.options.restart?c.restart():c.close()});c.onEvent(window,"orientationchange",c.updateVideoSize.bind(c));c.onEvent(window,"resize",c.updateVideoSize.bind(c));c.videoObj.initializeForUrl(c.container,c.currentVideoSize.width,c.currentVideoSize.height,
{clickPrefix:c.module.options.clickPrefix,muted:c.isMuted,className:c.module.options.videoClass})};e.prototype.measureVideoSize=function(){var a=null!=this.container&&0<this.container.clientHeight&&0<this.container.clientWidth?this.container:this.outercontainer;return{width:a.clientWidth,height:a.clientHeight}};e.prototype.updateVideoSize=function(){var a=this;a.setTimeout(function(){a.currentVideoSize={width:a.outercontainer.clientWidth*a.originalVideoWidthRatio,height:a.outercontainer.clientHeight*
a.originalVideoHeightRatio};a.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height);a.ad.isReady()&&a.ad.adPlayer.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height)},200)};e.prototype.attemptRender=function(a){if("video"==this.res.getAdTypeAvailable(this.module,2>this.renderAttempts?null:{fallback:!0}))this.initVideoObj(this.res.getResponseData().creativemacros.HTML5VID_VASTSTRING);else throw Error("The ad type was not video.");a&&a()};e.prototype.playPreroll=function(){this.ad&&
this.ad.isReady()?this.ad.play():(this.ad.readyCallback=this.ad.play.bind(this.ad),this.ad.invalidCallback=this.resume.bind(this))};e.prototype.unpause=function(a){this.pauseTarget=void 0;this.playElement.classList.replace("cpmsvideoplay","cpmsvideopause");"content"==a&&this.videoObj&&this.videoObj.isPaused()?this.videoObj.play():"ad"==a&&this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.isPaused()&&this.ad.adPlayer.videoObj.play()};e.prototype.resume=function(){this.module.options.maxclipcount<=
this.numClipsShown?this.close():(this.numClipsShown++,sessionStorage&&sessionStorage.setItem("cpmstar_clipcount",""+this.numClipsShown),this.ad.getAd(),0==this.videoObj.isPlaying()&&0==this.clipEnded&&1==this.clipBegan?(this.show(this.videoObj.videoEl()),this.hideSpinner(),this.unpause("content")):this.isPlayable()?this.play():this.close())};e.prototype.between=function(a,b,c){return a>b&&a<c};e.prototype.isInView=function(a){a=a.getBoundingClientRect();return(this.between(a.top,0,window.innerHeight||
document.documentElement.clientHeight)||this.between(a.bottom,0,window.innerHeight||document.documentElement.clientHeight))&&(this.between(a.left,0,window.innerWidth||document.documentElement.clientWidth)||this.between(a.right,0,window.innerWidth||document.documentElement.clientWidth))};e.prototype.getElementAttributes=function(a){return a.getAttributeNames().reduce(function(b,c){b[c]=a.getAttribute(c);return b},{})};e.prototype.createElement=function(a,b){var c=document.createElement(a);Object.keys(b).forEach(function(a){c.setAttribute(a,
b[a])});return c};e.prototype.applyClasses=function(a){u(a).forEach(function(a){try{document.querySelector(a.key).classList.add(a.value)}catch(q){console.log(q.toString?q.toString():JSON.stringify(q))}})};e.prototype.removeClasses=function(a){u(a).forEach(function(a){try{document.querySelector(a.key).classList.remove(a.value)}catch(q){console.log(q.toString?q.toString():JSON.stringify(q))}})};e.prototype.hasClasses=function(a){return u(a).reduce(function(a,b){var c=document.querySelector(b.key);c&&
(a=a||c.classList.contains(b.value));return a},!1)};e.prototype.copySizeAndPosition=function(a,b){var c=document.defaultView.getComputedStyle(b,"");"top bottom right left position display margin marginTop marginRight marginLeft marginBottom padding paddingRight paddingLeft paddingTop paddingBottom width height maxHeight maxWidth".split(" ").forEach(function(b){a.style[b]=c[b]})};e.prototype.toggleNonViewableClasses=function(a){var b=this.hasClasses(this.module.options.nonViewableClasses);a||0!=b?
a&&b&&this.removeClasses(this.module.options.nonViewableClasses):this.applyClasses(this.module.options.nonViewableClasses)};e.prototype.toggleAdFrequency=function(a){void 0!=this.module.options.adFrequency&&this.module.options.adFrequency<this.module.options.adVisibility||(this.adFrequency=0==a?this.module.options.adVisibility:void 0!=this.module.options.adFrequency?this.module.options.adFrequency:1)};e.prototype.pause=function(){this.playElement.classList.replace("cpmsvideoplay","cpmsvideopause");
this.videoObj&&this.videoObj.isPlaying()?(this.pauseTarget="content",this.videoObj.pause()):this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.isPlaying()&&(this.pauseTarget="ad",this.ad.adPlayer.videoObj.pause())};e.prototype.toggleContent=function(){"playing"==this.userPlayState&&void 0==this.pauseTarget?this.pause():"playing"==this.userPlayState&&void 0!=this.pauseTarget&&this.unpause(this.pauseTarget)};e.prototype.onNonViewable=function(){var a=this,b=a.outercontainer.parentElement;
if(a.module.options.nonViewableClasses||void 0!=a.module.options.adVisibility||a.module.options.contentVisibility){var c=a.createElement(b.tagName,{id:"cpmstarvideosliderplaceholder"});a.copySizeAndPosition(c,b);c.style.boxSizing="content-box";var e=b.parentNode;e.insertBefore(c,b);c.append(e.removeChild(b));a.existingOnScroll=window.onscroll;var d=a.isInView(c);a.lastViewableState=d;b=function(){a.existingOnScroll&&a.existingOnScroll();d=a.isInView(c);if(a.lastViewableState!=d||0==a.becameViewable)a.lastViewableState=
d,a.module.options.nonViewableClasses&&(a.becameViewable=!0,a.toggleNonViewableClasses(d),a.updateVideoSize.call(a)),void 0!=a.module.options.adVisibility&&a.toggleAdFrequency(d),a.module.options.contentVisibility&&a.toggleContent()};window.onscroll=b;b()}};e.prototype.setParam=function(a){this.requestParam=parseInt(a.toString());this.mm.zonedata.requests[this.module.request].params[this.module.playPrevious]=this.requestParam};e.prototype.request=function(a,c){if(this.module.options.maxclipcount){try{var e=
sessionStorage.getItem("cpmstar_clipcount");e&&(this.numClipsShown=parseInt(e),isNaN(this.numClipsShown)&&(this.numClipsShown=0))}catch(O){}if(this.numClipsShown>=this.module.options.maxclipcount){c&&c();return}}if(this.module.options.sessionclose)try{var d=window.sessionStorage.getItem("cpmstar_videoclosed");if(null!=d&&""!=d&&parseInt(d)>(new Date).getTime()-864E5){c&&c();return}}catch(O){}b.prototype.request.call(this,a,c)};e.prototype.init=function(a,c){function e(){!d.becameViewable&&d.isViewable(l,
d.currentVideoSize.height)&&(d.becameViewable=!0,d.outercontainer.style.overflow="visible",d.attemptRender(c),d.onNonViewable());d.firstDetectViewable=!1}b.prototype.init.call(this,a,c);var d=this;d.playQueue.createQueue(a);d.firstResponse=a;d.creativemacros=a.getResponseData().creativemacros;d.module.playPrevious&&d.creativemacros&&d.creativemacros[d.module.playPrevious]&&d.setParam(d.creativemacros[d.module.playPrevious]);var l=d.getRenderTarget();d.outercontainer=l;d.container=d.outercontainer.getElementsByClassName("cpmsvideowrapper")[0];
document.querySelector("#cpmstarvideosliderclose").addEventListener("click",function(a){d.$el.classList.add("cpmsvideoslideroff");if(d.module.options.sessionclose)try{window.sessionStorage.setItem("cpmstar_videoclosed",""+(new Date).getTime())}catch(ba){}setTimeout(d.close.bind(d),1E3)});null==d.container&&(d.container=d.outercontainer);d.spinner=d.container.querySelector("#cpmstarloadspinner");d.currentVideoSize=d.measureVideoSize();d.originalVideoWidthRatio=d.currentVideoSize.width/d.outercontainer.clientWidth;
d.originalVideoHeightRatio=d.currentVideoSize.height/d.outercontainer.clientHeight;d.originalOuterContainerHeight=d.outercontainer.clientHeight;d.module.options&&d.module.options.startHidden&&(d.outercontainer.style.overflow="hidden",d.outercontainer.style.height="0px",d.isHidden=!0);d.module.options.nonViewableClasses?(d.attemptRender(c),d.onNonViewable()):(d.onEvent(window,"DOMContentLoaded",e),d.onEvent(window,"load",e),d.onEvent(window,"resize",e),d.onEvent(window,"scroll",e),d.onEvent(window,
"orientationchange",e),d.setTimeout(function(){e()},0),d.setTimeout(function(){e()},500))};return e}(r.default);k.default=f},"./src/zonemasters/components/siteskin.ts":function(f,k,n){var u=this&&this.__extends||function(){var f=function(g,b){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return f(g,b)};return function(g,b){function h(){this.constructor=g}f(g,b);g.prototype=null===b?Object.create(b):
(h.prototype=b.prototype,new h)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/components/supercomponent.ts");f=function(f){function g(b,h){b=f.call(this,b,h)||this;b.cpmstar_siteskin_settings=null;b.contentOriginalMarginTop=0;b.adMarginTop="218px";b.lightboxIframe=null;b.vidClosed=!1;b.popping=!1;b.video=null;b.videoCloseX=null;b.videoPopoutDiv=null;return b}u(g,f);g.prototype.init=function(b,h){var d;p.default.prototype.init.call(this,b,h);var a=this;b=this.module.options;
h=99999;var c="985px",e=null,m=1,l="0px",g=this.getRequestData();if(null!=b){h=null!==(d=b.zIndex)&&void 0!==d?d:99999;d=this.getFirstSelector(b.cssSelector);c=b.centerWidth?b.centerWidth:d?d.clientWidth:"985px";e=g?g.poolid:null;e=g&&g.poolid?g.poolid:"?";m=b.fixed?b.fixed:"1";l=this.getTop(!1);var f=b.stickyPadding?b.stickyPadding:0;var k=b.footerHeight?b.footerHeight:0;a.adMarginTop=b.marginTop?b.marginTop:"218px"}a.cpmstar_siteskin_settings={pid:e,centerWidth:c,fixed:m,topPos:l,zIndex:h,stickyPadding:f,
footerHeight:k,root:a.module.options.useModuleDiv?a.module.div:void 0};d=this.getRenderTarget();this.module.adUnitPath&&(d.id=this.module.adUnitPath);d=a.res.getAdTypeAvailable(a.module);switch(d){case "premium":var r=this.skinTag=document.createElement("div");this.getRenderTarget().appendChild(r);if(a.res.renderAd){var n=a.res.renderAd;n(a.module,r,a.onAdRendered.bind(a))}break;case "banner":a.res.renderAd&&0==b.dual?(n=a.res.renderAd,r=a.createSkinTag(),n(a.module,r,a.onAdRendered.bind(a))):a.res.renderAd&&
1==b.dual&&(n=a.res.renderAd,r=a.createSkinTag(),n(a.module,r,function(b){n(a.module,r,function(c){a.onAdRendered.call(a,[b,c])})}));break;case "json":a.res.renderAd&&a.res.renderAd(a.module,null);a.onAdRendered();break;default:a.mm.log("Error - invalid adtype: "+d+" for skin component")}};g.prototype.pxToNumber=function(b){b=/([0-9.]+)(px)?/.exec(b);if(null==b||""==b[1])throw Error("siteskin.pxToNumber - Error: Pixel input was not formatted correctly.");return parseInt(b[1])};g.prototype.getFirstSelector=
function(b){if(null==b)return null;if(Array.isArray(b))for(var h=0;h<b.length;h++){var d=document.querySelector(b[h]);if(d&&d.style&&"none"!=d.style.display)return d}else return document.querySelector(b)};g.prototype.getTop=function(b,h){var d;void 0===b&&(b=!0);void 0===h&&(h=!1);var a=this.module.options,c="0px";a.headerSelector&&b?(b=this.getFirstSelector(a.headerSelector))?(c=b.clientHeight+"px",h&&(c=Math.max(b.getBoundingClientRect().bottom,0)+"px")):c=null!==(d=a.top)&&void 0!==d?d:"0px":a.top&&
(c=a.top);return c};g.prototype.createSkinTag=function(){var b,h=this,d=this.module.options,a=this.getTop(!1),c=h.getFirstSelector(d.cssSelector);c=d.centerWidth?d.centerWidth:c?c.clientWidth:"985px";var e=d.responsive?d.responsive:"",g=null!==(b=d.zIndexHD)&&void 0!==b?b:0,l=h.skinTag=document.createElement("div");b=l;h.mm.isMobile()||!1!==h.module.options.alwaysclip?(b=document.createElement("div"),b.style.overflow="hidden",b.style.left="0",b.style.top="0",b.style.height="1080px",b.style.width=
"100%",b.style.position="fixed",b.style.zIndex="0",b.style.transform="translate3d(0,0,0)",l.style.position="absolute",b.appendChild(l)):(l.style.position="fixed",b=l);l.style.width="1920px";l.style.height="1080px";l.style.marginLeft="-960px";l.style.left="50%";l.style.setProperty("top",a,d.topImportant?"important":"");if(d.sticky&&!d.headerSelector)a=function(){var a=0<window.scrollY?"0px":h.getTop(!0,!0);l.style.setProperty("top",a,d.topImportant?"important":"")},a(),window.addEventListener("scroll",
a);else if(d.sticky&&d.headerSelector){var f=function(){var a=h.getTop(!0,!0);l.style.setProperty("top",a,d.topImportant?"important":"")};f();window.addEventListener("scroll",f);a=Array.isArray(d.headerSelector)?d.headerSelector:[d.headerSelector];for(var q=0;q<a.length;q++){var k=h.getFirstSelector(a[q]);k&&"undefined"!=typeof MutationObserver&&(new MutationObserver(function(){setTimeout(f,0)})).observe(k,{attributes:!0,childList:!1,subtree:!1})}}l.style.transformOrigin="center top";l.parentElement.style.zIndex=
g;l.style.display="block";1==d.dual||h.mm.isMobile()||(g=1,d.scaleFactor&&(g=d.scaleFactor),h.scaleEl(l,h.contentScalar(c)*g));this.getRenderTarget().appendChild(b);e&&h.resizeToContent(h.res.getResponseData?h.res.getResponseData():null,d);return l};g.prototype.contentScalar=function(b){var h=this.res.getResponseData?this.res.getResponseData():null;b=/([0-9]+)(px)?/.exec(b);if(null==b||""==b[1])throw Error("siteskin.ts - Error: 'centerWidth' was not defined correctly.");b=parseInt(b[1]);var d=1056;
h&&h.creativemacros&&h.creativemacros.IMAGE1800X1000&&(d=988);return b==document.body.clientWidth?1:b/d-.001};g.prototype.scaleEl=function(b,h){b.style.transform="scale("+h+")";this.pushdown(h)};g.prototype.numberToPx=function(b){return b.toString()+"px"};g.prototype.pushdown=function(b){var h,d=this.module.options,a=null!==(h=this.getFirstSelector(d.cssSelector?d.cssSelector:"body"))&&void 0!==h?h:document.body;a!=document.body&&(this.contentOriginalMarginTop=this.contentOriginalMarginTop?this.contentOriginalMarginTop:
parseInt(getComputedStyle(a).marginTop),isNaN(this.contentOriginalMarginTop)&&(this.contentOriginalMarginTop=0),b=Math.ceil(this.pxToNumber(this.adMarginTop)*b)-2,0!=b&&d.transition&&(a.style.transition="0.7s ease-in-out",setTimeout(function(){a.style.removeProperty("transition")},1E3)),a.style.marginTop=this.numberToPx(this.contentOriginalMarginTop+b))};g.prototype.checkVisible=function(b){b=b.getBoundingClientRect();return 0<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&
b.right<=(window.innerWidth||document.documentElement.clientWidth)};g.prototype.popOut=function(){var b=this;b.popping=!0;setTimeout(function(){b.popping=!1},500);b.mm.log("clear interval popOut()");clearInterval(b.timer);b.video.querySelector("#CPMStarVideoCounter").innerHTML="";b.mm.log("watch me pop out");var h=b.video;if(b.module.options.loopFor){var d=document.querySelector("#CPMStarSkinVideoTag"),a=parseInt(b.module.options.loopFor);parseInt(document.querySelector("#videoIterations").innerHTML)>=
a&&d.play()}d=.95*window.innerHeight;a=.95*window.innerWidth;var c=a/-2,e=(window.innerHeight-.95*window.innerHeight)/2;b.module.options.gamestream&&(a=.75*window.innerWidth,e=(window.innerHeight-d)/2,d=.5625*a,c=a/-2,h=document.createElement("div"),h.style.backgroundColor="rgba(0,0,0,0.75)",h.innerHTML="<div style='position:absolute; top:30%; width:100%; z-index:-1'><div style='margin:0 auto; font-size:16px; text-align:center'>Loading Game<br/>Please Wait</div></div>",a=document.createElement("div"),
a.style.cssText="position: absolute; border: 1px; background-color: #dd0000; opacity: .8;font-family: arial; color: white; position: absolute; z-index: 9999999999; top: 0px; right: 0px; font-size: 20px; cursor: pointer;",a.innerHTML="&nbsp;x&nbsp;",b.onEvent(a,"click",b.closeCPMStarVideo.bind(b)),h.appendChild(a),null==b.lightboxIframe&&(b.lightboxIframe=document.createElement("iframe"),b.lightboxIframe.src="https://gamestream.bioniclogic.com"),a=.75*window.innerWidth,e=(window.innerHeight-d)/2,d=
.5625*a,c=a/-2,b.lightboxIframe.width=""+a,b.lightboxIframe.height=""+d,b.lightboxIframe.scrolling="no",b.lightboxIframe.style.visibility="hidden",setTimeout(function(){b.lightboxIframe.style.visibility="visible"},1200),h.appendChild(b.lightboxIframe));h.style.height=d+"px";h.style.width=a+"px";h.style.marginLeft=c+"px";h.style.left="50%";h.style.top=e+"px";h.style.position="fixed";if(d=b.videoCloseX)d.style.display="block",d.style.right="10px",d.style.fontSize="20px";document.body.style.overflowY=
"hidden";document.body.appendChild(b.videoPopoutDiv);b.videoPopoutDiv&&h&&(h.parentNode&&h.parentNode.removeChild(h),b.videoPopoutDiv.appendChild(h))};g.prototype.popIn=function(){var b=this.getFirstSelector(this.module.options.cssSelector);if(!this.popping){this.mm.log("watch me pop in");var h=this.video,d=parseInt(b.style.marginTop);b=1.78*parseInt(b.style.marginTop);h.style.height=d+"px";h.style.width=b+"px";h.style.marginLeft=b/-2+"px";h.style.position="absolute";h.style.top="0";this.pop();document.body.style.overflowY&&
document.body.style.removeProperty("overflow-y");if(this.videoPopoutDiv&&h&&h.parentNode==this.videoPopoutDiv){for(;this.videoPopoutDiv.firstChild;)this.videoPopoutDiv.removeChild(this.videoPopoutDiv.firstChild);this.skinTag&&this.skinTag.appendChild(h)}this.videoPopoutDiv&&this.videoPopoutDiv.parentNode==document.body&&document.body.removeChild(this.videoPopoutDiv)}};g.prototype.pop=function(){var b=this.video;if(b){var h=this.module.options,d=h.pop,a=h.popHidden,c=h.cssSelector;if(!(parseInt(b.style.height)>
parseInt(document.querySelector(c).style.marginTop)||!d&&!a)){d=0<parseInt(document.querySelector(h.cssSelector).style.marginTop)?parseInt(document.querySelector(h.cssSelector).style.marginTop):255;if(window.scrollY>parseInt(h.marginTop)&&!this.vidClosed){this.mm.log("pop: Video no longer visible");a&&(b.style.visibility="hidden");b.style.position="fixed";h=this.module.options.railVideoBottom?String(parseInt(this.module.options.railVideoBottom)):"10";h+="px";var e=this.module.options.railVideoRight?
String(parseInt(this.module.options.railVideoRight)):String(-1*(-1*e+g));e+="px";b.style.bottom=h;b.style.top="";parseInt(document.querySelector(c).clientWidth);var g;b.style.right=e;b.style.removeProperty("left");b.style.removeProperty("marginLeft");if(b=this.videoCloseX)b.style.display="block",b.style.right="5px"}else if(this.mm.log("pop: Video visible again"),a&&(b.style.visibility="visible"),b.style.position="absolute",b.style.removeProperty("bottom"),b.style.top="0px",b.style.removeProperty("right"),
b.style.marginLeft=1.78*d/-2+"px",b.style.left=this.module.options.videoLeft?this.module.options.videoLeft:"50%",b=this.videoCloseX)b.style.display="none";document.body.style.overflowY&&document.body.style.removeProperty("overflow-y")}}};g.prototype.vidmousein=function(){var b=this,h=b.video.querySelector("#CPMStarVideoCounter");if("3"!=h.innerHTML&&"2"!=h.innerHTML&&"1"!=h.innerHTML&&!b.popping){clearInterval(b.timer);h.innerHTML="3";var d=3;b.timer=setInterval(function(){d--;0>=d?b.popOut():h.innerHTML=
""+d},1E3)}};g.prototype.vidmouseout=function(){clearInterval(this.timer);this.video.querySelector("#CPMStarVideoCounter").innerHTML="";this.module.options.gamestream||this.popIn()};g.prototype.closeCPMStarVideo=function(){this.vidClosed=!0;this.vidmouseout();clearInterval(this.timer);this.video.querySelector("#CPMStarVideoCounter").innerHTML="";this.popIn()};g.prototype.getOrientation=function(){var b;if(window.matchMedia("(orientation: portrait)").matches)return"portrait";if(window.matchMedia("(orientation: landscape)").matches)return"landscape";
var h=null===(b=window.screen)||void 0===b?void 0:b.orientation.angle;if(0===h||180===h)return"portrait";if(90===h||270===h)return"landscape"};g.prototype.onAdRendered=function(b){var h,d,a=this,c=this.module.options,e=a.res.getResponseData?a.res.getResponseData():null,g=this.getFirstSelector(c.cssSelector),l=null!==(h=c.centerWidth)&&void 0!==h?h:g?g.clientWidth:"985px";g=a.res.getAdTypeAvailable(a.module);h=null!==(d=c.responsive)&&void 0!==d?d:"";if("premium"!=g){if("banner"==g&&void 0!=c.dual&&
void 0!=b){if(1!=c.dual)throw Error("siteskin.onAdRendered: The module property 'options.dual' is invalid. [ true, false ]");if(void 0==b)throw Error("siteskin.onAdRendered: The 'ads' input is undefined.");d=(d=this.getFirstSelector(c.cssSelector))?d.getBoundingClientRect().left:0;g=a.pxToNumber(window.getComputedStyle(b[0]).getPropertyValue("width"));b[0].style.marginLeft=a.numberToPx((1800-document.body.clientWidth)/2+d-g);b[1].style.marginLeft=a.numberToPx(l)}else if("json"==g&&e.click&&e.creativemacros&&
(e.creativemacros.IMAGE1800X1000||e.creativemacros.IMAGE1920X1080||e.creativemacros.IMAGEURL)){(function(b,d){var l,g,h;b=d.ownerDocument?d.ownerDocument:document;var m=b.createElement("iframe");m.style.borderWidth="0";m.scrolling="no";m.marginwidth=0;m.marginheight=0;m.topmargin=0;m.leftmargin=0;m.allowtransparency=!0;m.setAttribute("marginwidth","0");m.setAttribute("marginheight","0");m.setAttribute("topmargin","0");m.setAttribute("leftmargin","0");m.setAttribute("allowtransparency","true");"1920"==
a.res.getResponseData().width?(m.width="1920",m.height="1080"):(m.width="1800",m.height="1000");d.appendChild(m);d="";d=e.code?"<html><head></head><body>"+e.code+"</body></html>":"<html><head></head><body><a target='_blank' href='"+e.click+"'><img src='"+(e.creativemacros.IMAGE1920X1080?e.creativemacros.IMAGE1920X1080:e.creativemacros.IMAGE1800X1000?e.creativemacros.IMAGE1800X1000:e.creativemacros.IMAGEURL)+"'></a></body></html>";m=m.contentWindow.document;m.write(d);m.close();c.background&&(d=c.background,
"auto"==c.background&&e.creativemacros.BACKGROUNDCOLOR?d=e.creativemacros.BACKGROUNDCOLOR:c.background&&(d="black"),document.body.style.background=d);e.creativemacros.VIDEOURL&&(d=a.video=b.createElement("div"),c.top&&parseInt(c.top),m=null!==(l=c.expand)&&void 0!==l?l:!1,c.zIndex&&parseInt(c.zIndex),a.videoPopoutDiv=b.createElement("div"),l=null!==(g=parseInt(c.marginTop))&&void 0!==g?g:255,a.videoPopoutDiv.id="CPMStarSkinVideoLocation",a.videoPopoutDiv.style.top="0",a.videoPopoutDiv.style.left=
"0",a.videoPopoutDiv.style.zIndex="2147483647",a.videoPopoutDiv.style.backgroundColor="rgba(0,0,0,0)",a.videoPopoutDiv.style.position="fixed",a.videoPopoutDiv.style.width="100vw",a.videoPopoutDiv.style.height="100vh",a.videoPopoutDiv.style.backgroundColor="rgba(0,0,0,0.6)",d.style.zIndex="2147483647",d.style.position="absolute",a.mm.isMobile()||(a.onEvent(window,"resize",a.pop.bind(a)),a.onEvent(window,"scroll",a.pop.bind(a)),m&&(a.onEvent(d,"mouseover",a.vidmousein.bind(a)),a.onEvent(d,"mouseleave",
a.vidmouseout.bind(a))),d.style.marginLeft=1.78*l/-2+"px",d.style.left="50%",d.style.height=""+l+"px",d.style.width=""+1.78*l+"px"),c.videoHeight?(g=parseInt(c.videoHeight),d.style.height=g+"px",d.style.marginLeft=-.89*g+"px",d.style.left=a.module.options.videoLeft?a.module.options.videoLeft:"50%"):(d.style.marginLeft=1.78*l/-2+"px",d.style.left=a.module.options.videoLeft?a.module.options.videoLeft:"50%",d.style.height=""+l+"px",d.style.width=""+1.78*l+"px"),d.id="CPMStarSkinVideo",d.style.top="0px",
a.videoCloseX=document.createElement("div"),a.videoCloseX.id="videoCloseX",a.videoCloseX.style.cssText="position: absolute; border: 1px; background-color: grey; opacity: .8; display: none;font-family: arial; color: white; position: absolute; z-index: 9999999999; top: 5px; right: 5px; border-radius: 10px; font-size: 15px; cursor: pointer;",a.videoCloseX.innerHTML="&nbsp;x&nbsp;",a.onEvent(a.videoCloseX,"click",a.closeCPMStarVideo.bind(a)),d.innerHTML="\n                    \n                    \n                    <A href="+
e.click+' target="_blank" style="border:0">\n                                        \n                        <style>\n                            #CPMStarSkinVideo {\n                                -moz-transition: height .4s ease-in-out;\n                                -webkit-transition: height .4s ease-in-out;\n                                -moz-transition: height .4s ease-in-out;\n                                -o-transition: height .4s ease-in-out;\n                                transition: height .4s ease-in-out;\n                            }\n                        </style>\n                      \n                            \n                             <VIDEO id=\'CPMStarSkinVideoTag\' autoplay muted\n                            style=\'width: 100%; height: 100%; position: absolute\'>\n                            <SOURCE type="video/mp4" src="'+
e.creativemacros.VIDEOURL+"\">\n                            \n                            </VIDEO>\n                            <div id='CPMStarVideoCounter' style='position: absolute;\n                            opacity: .8;\n                            font-family: arial;\n                            color: white;\n                            position: absolute;\n                            z-index: 99999999999999999999999;\n                            font-size: 100px;\n                            margin-left: -25px; \n                            // top: 50%;\n                            bottom: 30%;\n                            left: 50%;'\n                            ></div>         \n                            <span style='display:none' id='videoIterations'>1</span>                                          \n                    </A>\n                    ",
d.appendChild(a.videoCloseX),(g=a.skinTag)&&g.appendChild(d));if(a.mm.isMobile()&&c.mobileSkinSelector&&(e.creativemacros.MOBILEIMAGEURL1080X1920||e.creativemacros.MOBILEIMAGEURL1920X1080)){var f=c.portraitonly?c.portraitonly:!1;l="";e.creativemacros.MOBILEIMAGEURL1080X1920&&e.creativemacros.MOBILEIMAGEURL1920X1080?"portrait"==a.getOrientation()?l=e.creativemacros.MOBILEIMAGEURL1080X1920:"landscape"==a.getOrientation()&&(l=e.creativemacros.MOBILEIMAGEURL1920X1080):e.creativemacros.MOBILEIMAGEURL1080X1920&&
(f=!0,l=e.creativemacros.MOBILEIMAGEURL1080X1920);g=document.createElement("div");g.id="uniqueCPMStarMobileSiteskinDiv";g.style.display=window.innerWidth>(null!==(h=a.module.options.mobileskinbreakpoint)&&void 0!==h?h:992)?"none":"block";h=c.ignoreMobileTop?0:parseInt(c.top);g.innerHTML="\n                        <style>\n                        \n                        \n                            #uniqueCPMStarMobileSiteskinDiv .topadbar {\n                        \n                                height : 20px;\n                                margin-top : 10px;\n                                padding : 2px;\n                                background-color : black;\n                                margin-left : calc(50% - 50vw);\n                                margin-right : calc(50% - 50vw);\n                                text-align : center;\n                                font-size : 10pt;\n                            }\n                            #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                            \n                            height: 178vw;\n                            width: 100vw;\n                            margin-left: calc(50% - 50vw);\n                            margin-right: calc(50% - 50vw);\n                            /* Important */\n                            position: relative;\n                            }\n\n                            @media (orientation: landscape) {\n                                #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                                    height: 100vh;\n                                    width:100vw;\n                                }\n                            }\n                            \n                            @media (orientation: portrait) {\n                                #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                                    height: 178vw;\n                                    width: 100vw;\n                                }\n                            } \n\n                            #uniqueCPMStarMobileSiteskinDiv .bg-wrap {\n                                clip: rect(0, auto, auto, 0);\n                                position: absolute;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                            }\n                            \n                            #uniqueCPMStarMobileSiteskinDiv #mobileskindiv {\n                                position: fixed;\n                                display: block;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                                background-size: contain;\n                                background-repeat: no-repeat;\n                                background-color: black;\n                                background-position: center "+
h+"px;\n                                transform: translateZ(0);\n                                will-change: transform;\n                            }\n\n                            #uniqueCPMStarMobileSiteskinDiv .bottomadbar {\n                                height: 20px;\n                                padding: 2px;\n                                margin-top: 0;\n                                background-color: black;\n                                margin-left: calc(50% - 50vw);\n                                margin-right: calc(50% - 50vw);\n                                text-align: center;\n                                font-size: 10pt;\n                                margin-bottom: 10px;\n                            }\n                          \n                            \n                            \n                        </style>\n                        <div class='topadbar'>ADVERTISEMENT</div>\n                        <a target='_blank' href='"+
e.click+'\'>\n                        <div class="e-with-fixed-bg">\n                          <div class="bg-wrap" style="">\n                             <div id="mobileskindiv" style="background-image: url(\''+l+"')\"></div>\n                          </div>\n                        </div>\n                        </a>\n                        <div class='bottomadbar'>\u21e9 Scroll for more \u21e9</div>\n                        ";window.addEventListener("orientationchange",function(){setTimeout(function(){var b,
d=document.getElementById("uniqueCPMStarMobileSiteskinDiv");d&&(d.style.display=window.innerWidth>(null!==(b=a.module.options.mobileskinbreakpoint)&&void 0!==b?b:992)?"none":"block",b="",c.headerSelector&&(a.skinTag.style.top=a.getTop()),"portrait"===a.getOrientation()?b=e.creativemacros.MOBILEIMAGEURL1080X1920:"landscape"===a.getOrientation()&&(f?d.style.display="none":b=e.creativemacros.MOBILEIMAGEURL1920X1080),d.style.backgroundImage="url('"+b+"')")},300)},!1);h=c.mobileSkinSelector.pick?parseInt(c.mobileSkinSelector.pick):
0;if((h=document.querySelectorAll(c.mobileSkinSelector.find)[h])&&h.parentNode)switch(c.mobileSkinSelector.kind){case "swaphide":h.parentNode.insertBefore(g,h);h.style.display="none";break;case "swap":h.parentNode.insertBefore(g,h);h.parentNode.removeChild(h);break;case "replace":for(;h.firstChild;)h.removeChild(h.firstChild);case "last":case "into":h.appendChild(g);break;case "first":h.insertBefore(g,h.firstChild);break;case "before":h.parentNode.insertBefore(g,h);break;case "after":h.parentNode.insertBefore(g,
h.nextSibling)}}})(this.module,this.createSkinTag());a.mm.isMobile()&&1024>window.innerWidth&&(756<window.innerHeight?a.scaleEl(a.skinTag,.78):a.scaleEl(a.skinTag,.7));c.contentColor&&(b=a.getFirstSelector(c.cssSelector),b.style.backgroundColor=c.contentColor,b.style.position="relative");a.triggerEvent("initHD");e.creativemacros.ROADBLOCK&&a.triggerEvent("roadblock");if(!a.mm.isMobile()&&e.creativemacros.VIDEOURL){b=document.querySelector("#CPMStarSkinVideoTag");if(c.loopFor){var f=parseInt(c.loopFor);
b.addEventListener("ended",function(){var a=parseInt(document.querySelector("#videoIterations").innerHTML);a<f&&(this.currentTime=0,this.play(),a++,document.querySelector("#videoIterations").innerHTML=""+a)},!1)}else b.loop=!0;a.pop()}a.mm.api({kind:"adcmd",module:"segmentedvideo",command:"skinloaded",data:{imageurl:e.creativemacros.IMAGEURL,clickurl:e.click}})}else if("json"==g&&null!=e.creativemacros){if(!a.cpmstar_siteskin_settings.pid)return;window.cpmstar_siteskin.init(a.cpmstar_siteskin_settings,
e);a.triggerEvent("initSD");c.top970X90&&e.click&&e.creativemacros&&e.creativemacros.IMAGE970X90?(b=parseInt(c.centerWidth.replace("px","")),d=Math.round(b/970*90),b="<a target='_blank' href='"+e.click+"'><div style='width:"+b+"px;height:"+d+"px;margin:0 auto;background-size:cover;background-image:url("+e.creativemacros.IMAGE970X90+")' ></div></a>",this.module.div.innerHTML=b):c.top970X250&&e.click&&e.creativemacros&&e.creativemacros.IMAGE970X250&&(b=parseInt(c.centerWidth.replace("px","")),d=Math.round(b/
970*250),b="<a target='_blank' href='"+e.click+"'><div style='width:"+b+"px;height:"+d+"px;margin:0 auto;background-size:cover;background-image:url("+e.creativemacros.IMAGE970X250+")' ></div></a>",this.module.div.innerHTML=b)}"content"==h||"true"==h?window.addEventListener("resize",function(){a.setTimeout(function(){var b=this.getFirstSelector(c.cssSelector);l=b?b.clientWidth:985;a.scaleEl(a.skinTag,a.contentScalar(l))}.bind(a),101)}):"window"==h&&window.addEventListener("resize",function(){a.resizeToContent(e,
c);a.setTimeout(function(){a.resizeToContent(e,c)}.bind(a),101)})}};g.prototype.resizeToContent=function(b,h){if(document.querySelector(h.cssSelector)&&(b.creativemacros.IMAGE1800X1000||b.creativemacros.IMAGE1920X1080||b.creativemacros.IMAGEURL)){var d=h.maxCenterWidth?h.maxCenterWidth:1600,a=1056;b.creativemacros.IMAGE1800X1000&&(a=988);parseInt(this.skinTag.style.transform.replace(/\(|\)|scale/g,"").split(",")[0]);var c=this.skinTag.clientWidth<window.innerWidth?(window.innerWidth-this.skinTag.clientWidth)/
window.innerWidth+1:1;var e=1;h.scaleFactor?e=h.scaleFactor:h.centerWidth&&(e=parseInt(h.centerWidth)/988);c*=e;c>=d/a&&(c=d/a);a=h.cssSelector?h.cssSelector:"body";this.scaleEl(this.skinTag,c);e=1056*c;1E3>=window.innerWidth||(e=b.creativemacros.IMAGE1800X1000?d<988*c?d:988*c:d<1056*c?d:1060*c,document.querySelector(a));d=h.centerWidth?parseInt(h.centerWidth):985;h.contentPaddingLeft||h.contentPaddingRight?(document.querySelector(a).style.paddingLeft=parseInt(h.contentPaddingRight)+"px",document.querySelector(a).style.paddingRight=
parseInt(h.contentPaddingRight)+"px"):(document.querySelector(a).style.paddingLeft="0px",document.querySelector(a).style.paddingRight="0px");document.querySelector(a).style.maxWidth=Math.max(d,e)+"px";document.querySelector(a).style.margin=h.marginTop?h.marginTop+" auto auto":"0 auto";"true"==h.fillCenterAlways&&(b.creativemacros.IMAGE1920X1080||b.creativemacros.IMAGEURL)&&1056*c>parseInt(document.querySelector(a).clientWidth)&&(document.querySelector(a).style.width=e+"px");this.mm.isMobile()&&1024>
window.innerWidth&&(756<window.innerHeight?this.scaleEl(this.skinTag,.78):this.scaleEl(this.skinTag,.7))}};g.prototype.testResponseValidity=function(b){var h=this;f.prototype.testResponseValidity.call(this,function(d){var a=null;d=d&&null!=h.res;!h.module.options.mobileskin&&h.mm.isMobile()&&(h.module.options.mobileSkinSelector||(d=!1));if(d){var c=h.res.getAdTypeAvailable(h.module);!h.res.renderAd||"banner"!=c&&"premium"!=c?h.res.getResponseData&&(a=h.res.getResponseData())&&null!=a.creativemacros&&
(a.code&&"string"===typeof a.code&&0<a.code.length?d=!0:a.creativemacros.IMAGE1800X1000?d=!0:a.creativemacros.IMAGE1920X1080?d=!0:a.creativemacros.IMAGEURL?d=!0:(c=a.creativemacros.HTMLRIGHTURL||a.creativemacros.IMAGERIGHTURL||a.creativemacros.FLASHRIGHTURL,(a.creativemacros.HTMLLEFTURL||a.creativemacros.IMAGELEFTURL||a.creativemacros.FLASHLEFTURL)&&c||(d=!1))):d=!0}b(d)})};return g}(p.default);k.default=f},"./src/zonemasters/components/supercomponent.ts":function(f,k,n){var u=this&&this.__extends||
function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(d,a)};return function(d,a){function c(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/utils.ts"),r=n("./src/zonemasters/requests/superrequest.ts"),g=0,b=!1;f=function(h){function d(a,
b){var c,d,l=h.call(this,b)||this;l.mm=a;l.module=b;l.res=null;l.depCount=1;l.depLoaded=0;l.responseValid=null;l.lastRefreshed=(new Date).getTime();l.refreshIndex=-1;l.pickResult=null;l.halt=!1;l.api={hide:function(){this.module.div.style.display="none"},show:function(){this.module.div.style.display="block"},refresh:function(){if(!this.module.options.norefresh&&!this.halt){var a=(new Date).getTime();this.module.options.minrefreshrate&&a-this.lastRefreshed<this.module.options.minrefreshrate?this.mm.log("module: "+
this.module.info.name+" cant refresh, refreshed "+Math.round((a-this.lastRefreshed)/1E3)+" secs ago."):(this.lastRefreshed=(new Date).getTime(),this.request(function(a){a&&a()}))}},close:function(){this.close?this.close():this.module.div.style.display="none"},css:function(a){null!=a.data&&this.restyleCSS(a.data);null!=a.cb&&a.cb(this.module.css)}};l.DEFAULTREFRESHRATE=14E4;l.DEFAULTMINSLICE=1E4;l.DEFAULTMINSLICECPMPERCENT=.85;l.DEFAULTSLICEMULTI=10;l.DEFAULTSLICETARGET=-1;l.TIMESLICEGEOSBLOCKED=[{countryCode:"US",
region:"California"},{countryCode:"US",region:"New York"},{countryCode:"NL"}];l.nextSliceTimer=null;null==l.module.options&&(l.module.options={});l.rnd=Math.round(999999*Math.random());l.defaultRequestKind="banner";l.events=[];var g=b.events;if(g){var f=Object.keys(g);a=function(a){p=void 0;if(Array.isArray(g[f[a]])){var b=k;p=function(){g[f[a]].forEach(function(a){b.mm.eventCallback(a).call(null)})}}else p=k.mm.eventCallback(g[f[a]]);k.addEventListener(f[a],p)};var k=this,p;for(b=0;b<f.length;b++)a(b)}l.css=
null!==(c=l.module.css)&&void 0!==c?c:null;l.globalCss=null!==(d=l.module.globalCss)&&void 0!==d?d:null;return l}u(d,h);d.prototype.findEvent=function(a){for(var b=0;b<this.events.length;b++)if(this.events[b].name===a)return this.events[b];return null};d.prototype.triggerEvent=function(a){var b=this,e=this.findEvent(a);if(e&&e.callbacks)for(var g=0;g<e.callbacks.length;g++)e.callbacks[g].apply(this,arguments);"onclose"==a&&b.setTimeout(function(){b.destroy()},d.COMPONENT_DESTROY_TIMER)};d.prototype.addEventListener=
function(a,b){var c=this.findEvent(a);c?c.callbacks.push(b):(a={name:a,callbacks:[]},this.events.push(a),a.callbacks.push(b))};d.prototype.removeEventListener=function(a,b){a=this.findEvent(a);b=a.callbacks.indexOf(b);a.callbacks.splice(b,1)};d.prototype.adcmd=function(a){this.api[a.command].bind(this)(a)};d.prototype.getRequestData=function(){var a=this.module.request;"string"===typeof a&&(a=this.mm.zonedata.requests[this.module.request]);return a};d.prototype.getRequest=function(){var a=this.module.requestInstance,
b=this.module.request;"string"===typeof this.module.request&&(a=this.mm.requestInstances[this.module.request],b=this.mm.zonedata.requests[b]);if(null!=a)return a;if(b&&null==a){a=b.kind?b.kind:this.defaultRequestKind;if(null==a)return null;a=this.mm.requestTypes[a];if(null==a)return null;a=new a(this.mm);this.module.requestInstance=a;"string"===typeof this.module.request&&(this.mm.requestInstances[this.module.request]=a);a.init(b);return a}};d.prototype.create=function(){this.getRequestData();if(null==
this.module.divid)if(this.module.adUnitPath)this.module.divid=this.module.adUnitPath;else{var a=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36);this.module.divid=a}window[this.module.divid]=this.module};d.prototype.testResponseValidity=function(a){var b=!1;if(null!=this.res&&"object"===typeof this.res){b=!0;null==this.res.getAdTypeAvailable&&(b=!1);var e=this.res.getAdTypeAvailable(this.module);e&&"unknown"!=e&&"none"!=e||(b=!1);null==this.res.renderAd&&
null==this.res.getResponseData&&(b=!1);this.res.getError&&(b=!1)}a(b)};d.prototype.request=function(a,b){var c=this,d=this.getRequest();if(null==d)c.mm.log("No request found for module");else{var g=c.mm.locationData,h=c.module.options?!!c.module.options.dm:!1;if(!(c.module.options&&c.module.options.bd||1!=g.bd)||!h&&0==g.dm)b&&b();else{c.depCount=1;c.depLoaded=0;var f=function(){c.depLoaded++;if(c.depLoaded==c.depCount)if(c.responseValid)if(1==c.module.waitinit)c.module.moduleState="init",c.module.wait=
!0,a();else if(null!=c.module.target&&"object"===typeof c.module.target&&1==c.module.target.found){var e=c.init.bind(c,c.res);c.mm.isDomReady()?a(e):document.addEventListener("DOMContentLoaded",function(b){a(e)})}else a(c.init.bind(c,c.res));else window.context&&null!=window.context.noContentAvailable&&window.context.noContentAvailable(),b?b():a(null)};if(c.module.request&&(g=this.mm.requestDeps[d.config.kind]))for(h=0;h<g.length;h++){var k=this.mm.deps[g[h]];null==k.used&&(k.used=!0,c.depCount++,
k(f))}null!=c.module.cssFile&&(c.depCount++,null!=c.module.cssFile&&(g=document.createElement("link"),g.setAttribute("rel","stylesheet"),g.type="text/css",g.href=c.mm.cdnroot+c.module.cssFile,document.head.appendChild(g),g.addEventListener("load",f)));d.addCallback(this,function(a){c.res=a;c.module.renderIndex=null;c.testResponseValidity(function(a){(c.responseValid=a)&&c.refreshIndex++;f()})})}}};d.prototype.getRenderTargetDivID=function(a){return this.module.renderTargetID?this.module.renderTargetID:
this.module.divid};d.prototype.getRenderTarget=function(a){void 0===a&&(a=0);var b=this.module.div;if(b){var e=b.getElementsByClassName(this.module.renderTargetClass?this.module.renderTargetClass:"cpmsrendertarget");e.length>a?b=e[a]:e.length&&(b=e[0])}return b};d.prototype.onAdRendered=function(a){};d.prototype.nextAd=function(){return this.res&&this.res.nextAd?this.res.nextAd(this.module):!1};d.prototype.render=function(a,b,e){this.res.renderAd&&this.res.renderAd(this.module,a,null!==b&&void 0!==
b?b:this.onAdRendered.bind(this),e)};d.prototype.init=function(a,c){var e,d,l=this;l.module.lastRan=(new Date).getTime();var f=0;(null===a||void 0===a?0:a.getResponseData)&&(null===(d=null===(e=null===a||void 0===a?void 0:a.getResponseData())||void 0===e?void 0:e.creativemacros)||void 0===d?0:d.HALTREFRESH)&&(l.halt=!0);a=null;this.mm.zonedata.mobilemodules&&this.mm.zonedata.mobilemodules.pageviewmodule&&(a=this.mm.zonedata.mobilemodules.pageviewmodule);this.mm.zonedata.requests&&null!=this.mm.zonedata.requests.pageviews&&
null!=this.mm.zonedata.requests.pageviews.poolid&&0<this.mm.zonedata.requests.pageviews.poolid?f=this.mm.zonedata.requests.pageviews.poolid:null!=this.mm.zonedata.mobilemodules&&null!=this.mm.zonedata.mobilemodules.pageviewpoolid&&0<this.mm.zonedata.mobilemodules.pageviewpoolid&&(f=this.mm.zonedata.mobilemodules.pageviewpoolid);(null==a||this.module.info&&a==this.module.info.name)&&0==b&&(b=!0,a=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),window[a]=
function(){l.mm.log("Pageview recorded to pool "+f)},e=this.mm.serverroot+"/view.aspx?",e+="poolid="+f+"&script=1&json=nc&callback="+a+"&rnd="+Math.round(999999*Math.random())+"&",null!=this.mm.coppa&&(e+="tfcd="+(this.mm.coppa?1:0)+"&"),null!=this.mm.usp&&(e+="us_privacy"+this.mm.usp+"&"),null!=this.mm.gdprApplies&&(e+="gdpr="+(this.mm.gdprApplies?1:0)+"&"),null!=this.mm.getPubConsent()&&(e+="gdpr_consent="+this.mm.getPubConsent()+"&"),this.mm.getScript(e));g++;var q=window.document;(a=this.module.target?
this.module.target.el:null)&&a.ownerDocument&&(q=a.ownerDocument);this.css&&this.restyleCSS(this.css);this.globalCss&&this.setGlobalCss(this.globalCss);var k=q.createElement("div");null!=this.module.div&&(k=this.module.div,k.innerHTML="");this.module.div=k;if(this.module.pushdown)q.documentElement.style.transition="0.7s ease-in-out",q.documentElement.style.marginTop="288px",k.style.zIndex="-999",k.style.top=""+(-288+this.module.options.topPos)+"px",q.body.appendChild(k),l.setTimeout(function(){this.div.style.top=
this.options.topPos+"px"}.bind(this.module),0),l.setTimeout(function(){q.documentElement.style.transition="";k.style.zIndex="auto"},700);else if(this.module.insertBefore)(a=l.mm.pickEl(this.module.insertBefore))&&a.parentNode&&a.parentNode.insertBefore(k,a);else if(this.module.target&&(e=this.module,null==a&&(a=e.target.topWindow?l.mm.pickEl(e.target.find,e.target.pick,window.top):l.mm.pickEl(e.target.find,e.target.pick)),a)){switch(this.module.target.kind){case "swaphide":a.parentNode.insertBefore(k,
a);a.style.display="none";break;case "swap":a.parentNode.insertBefore(k,a);a.parentNode.removeChild(a);break;case "replace":for(;a.firstChild;)a.removeChild(a.firstChild);case "last":case "into":a.appendChild(k);break;case "first":a.insertBefore(k,a.firstChild);break;case "before":a.parentNode.insertBefore(k,a);break;case "after":a.parentNode.insertBefore(k,a.nextSibling)}if(this.module.options&&(this.module.options.position||this.module.options.autoSizeToTarget)){var n=null,u=q.createElement("div");
u.style.pointerEvents="auto";u.classList.add("cpmsrendertarget");if(this.module.style&&"fixed"==this.module.style.position)k.style.position="fixed",k.style.top="0",k.style.left="0",k.style.bottom="0",k.style.right="0",k.style.zIndex="2147483638",k.style.pointerEvents="none",n=k;else if(k.style.position="relative",k.style.zIndex="2147483638",n=q.createElement("div"),n.style.position="absolute",n.style.pointerEvents="none",n.style.zIndex="2147483638",n.style.width=getComputedStyle(a).width,n.style.height=
getComputedStyle(a).height,k.appendChild(n),e.options.autoSizeToTarget){e=getComputedStyle(a);u.style.width=e.width?e.width:a.clientWidth+"px";u.style.height=e.height?e.height:a.clientHeight+"px";var ba=a;window.addEventListener("resize",function(a){a=getComputedStyle(ba);n.style.width=u.style.width=a.width?a.width:ba.clientWidth+"px";n.style.height=u.style.height=a.height?a.height:ba.clientHeight+"px"})}n.appendChild(u);k=u}}this.module.divid&&"anchor"!==this.module.kind&&(k.id=this.module.divid);
if(this.module.class)for(a=Array.isArray(this.module.class)?this.module.class:[this.module.class],e=0;e<a.length;e++)k.classList.add(a[e]);if(this.module.style)for(a=Object.keys(this.module.style),e=0;e<a.length;e++)d=a[e],k.style[d]=this.module.style[d];if(this.module.pageStyle)for(a=Object.keys(this.module.pageStyle),e=0;e<a.length;e++){d=a[e];for(var y=l.mm.findEls(d),M=Object.keys(this.module.pageStyle[d]),z=0;z<y.length;z++)for(var R=y[z],ca=0;ca<M.length;ca++){var x=M[ca];R.style[x]=this.module.pageStyle[d][x]}}if(null!=
k){if(this.module.options&&this.module.options.position)switch(a=this.module.options.position,k.style.position="absolute",typeof a){case "string":e=a.toLowerCase(),0<=e.indexOf("top")?k.style.top="0px":0<=e.indexOf("bottom")?k.style.bottom="0px":(k.style.top="50%",this.module.options.height?k.style.marginTop=-Math.round(.5*parseFloat(this.module.options.height))+"px":this.module.style&&this.module.style.height&&(k.style.marginTop=-Math.round(.5*parseFloat(this.module.style.height))+"px")),0<=e.indexOf("left")?
k.style.left="0px":0<=e.indexOf("right")?k.style.right="0px":(k.style.left="50%",this.module.options.width?k.style.marginLeft=-Math.round(.5*parseFloat(this.module.options.width))+"px":this.module.style&&this.module.style.width&&(k.style.marginLeft=-Math.round(.5*parseFloat(this.module.style.width))+"px"));case "object":null!=a.x&&null!=a.y&&(k.style.left=a.x,k.style.top=a.y)}if(void 0!=this.module.options.sandbox)a=document.createElement("div"),(this.module.template||this.module.children)&&h.prototype.renderTemplate.call(this,
this.module,a),e="",this.module.css&&(d=p.getCssString(this.module.css,this.module.divid),e+="<style>"+d+"</style>"),d=getComputedStyle(k).width,y=getComputedStyle(k).height,e="<head></head><body><div id='"+k.id+"' style='width:"+d+"; height:"+y+"'>"+e+a.innerHTML+"</div></body>",r.default.insertNewIframe({width:d,height:y,intoEl:k,renderHtml:e,sandbox:this.module.options.sandbox});else if(this.module.template||this.module.children)this.$mount(k),h.prototype.renderTemplate.call(this,this.module,k);
a=function(){for(var a=[].slice.call(k.getElementsByClassName("autofit")),b=0;b<a.length;b++)p.autoFitText(a[b])};l.onEvent(window,"resize",a);l.onEvent(window,"orientationchange",a);a()}k&&window.context&&window.context.requestResize&&window.context.requestResize(this.module.options.width,this.module.options.height,!1);l.triggerEvent("init");c&&c()};d.prototype.setTimeout=function(a,b){a=window.setTimeout(a,b);a=window.clearTimeout.bind(window,a);this.addFinalizer(a);return a};d.prototype.setInterval=
function(a,b){a=setInterval(a,b);a=window.clearInterval.bind(window,a);this.addFinalizer(a);return a};d.prototype.isViewable=function(a,b){if(!1===this.module.options.requireViewable)return!0;for(var c=a;c;){if(c.nodeType==Node.ELEMENT_NODE){var d=getComputedStyle(c);if("none"==d.display||"hidden"==d.visibility)return!1;try{if(d.opacity&&.1>=parseFloat(d.opacity))return!1}catch(q){}if("fixed"==d.position||"sticky"==d.position)break}c=c.parentNode}a=a.getBoundingClientRect();b&&(a.height=b);var g=
window.innerWidth;b=window.innerHeight;var h=document.documentElement.clientWidth;c=document.documentElement.clientHeight;(d=g)&&h&&(d=Math.min(g,h));null==d&&(d=h);null==d&&(d=document.getElementsByTagName("body")[0].clientWidth);(g=b)&&c&&(g=Math.min(b,c));null==g&&(g=c);null==g&&(g=document.getElementsByTagName("body")[0].clientHeight);return 0<=a.top&&0<=a.left&&a.top+.6*a.height<=g&&a.left+.8*a.width<=d?!0:!1};d.prototype.startRefreshTimer=function(a){var b=this;a=function(){var a=b.getRenderTarget();
document&&document.hasFocus&&document.hasFocus()&&b.lastRefreshed<(new Date).getTime()-b.module.options.refreshrate&&a&&b.isViewable(a,0)&&(b.lastRefreshed=(new Date).getTime(),b.adcmd({kind:"adcmd",command:"refresh",module:b.module.info.name}))};b.onEvent(window,"focus",a);b.onEvent(window,"resize",a);b.onEvent(window,"scroll",a);b.onEvent(window,"orientationchange",a);b.setInterval(a,b.module.options.refreshrate)};d.prototype.onEvent=function(a,b,e,d){void 0===d&&(d=!1);var c=null;a.addEventListener?
(a.addEventListener(b,e,d),c=function(a,b){this.removeEventListener(a,b)}.bind(a,b,e)):a.attachEvent&&(a.attachEvent("on",b,e),c=function(c,d){this.detachEvent(c,d).bind(a,b,e)});this.addFinalizer(c);return c};d.prototype.addFinalizer=function(a){(this.finalizers=this.finalizers||[]).push(a)};d.prototype.restyleCSS=function(a){var b=window.document,e=this.module.target?this.module.target.el:null;e&&e.ownerDocument&&(b=e.ownerDocument);this.css=a;this.module.styleEl&&this.module.styleEl.parentNode&&
this.module.styleEl.parentNode.removeChild(this.module.styleEl);a=b.createElement("style");this.module.styleEl=a;a.type="text/css";a.styleSheet?a.styleSheet.cssText=p.getCssString(this.css,this.module.divid):a.appendChild(b.createTextNode(p.getCssString(this.css,this.module.divid)));b.head.appendChild(a)};d.prototype.destroy=function(){for(;this.finalizers&&0<this.finalizers.length;)this.finalizers.pop()();this.module.div&&this.module.div.parentNode&&this.module.div.parentNode.removeChild(this.module.div);
this.module.styleEl&&this.module.styleEl.parentNode&&this.module.styleEl.parentNode.removeChild(this.module.styleEl)};d.prototype.initSliceManager=function(){this.nextSliceTimer&&(this.mm.log("Reset slice timer for module: "+this.module.info.name),this.nextSliceTimer(),this.nextSliceTimer=null);var a=.5;if("number"==typeof this.module.options.timeslice)try{a=parseFloat(this.module.options.timeslice)}catch(c){}this.module.options.timeslice&&Math.random()<a&&(a=this.getNextTimesliceMs(),0<a&&this.setSliceTimer(a))};
d.prototype.tryNextTimeslice=function(){var a=(new Date).getTime();if(a<this.nextSliceTimestamp)a-=this.nextSliceTimestamp,this.mm.log("tryNextTimeslice: Did not use all time, adding "+a+"ms"),this.setSliceTimer(a);else{a=this.getRenderTarget();var b=5E3;this.isViewable(a,null)&&(this.nextAd()&&(a.innerHTML="",this.render(a)),b=this.getNextTimesliceMs());0<b&&this.setSliceTimer(b)}};d.prototype.setSliceTimer=function(a){this.nextSliceTimer&&(this.nextSliceTimer(),this.nextSliceTimer=null);this.nextSliceTimestamp=
(new Date).getTime()+a;this.nextSliceTimer=this.setTimeout(this.tryNextTimeslice.bind(this),a)};d.prototype.getNextTimesliceMs=function(){var a,b,e,d,g,h,f=null===(a=this.pickResult)||void 0===a?void 0:a.picks;a=null===(b=this.pickResult)||void 0===b?void 0:b.totalCPM;b=null!==(e=this.module.options.refreshrate)&&void 0!==e?e:this.DEFAULTREFRESHRATE;e=null!==(d=this.module.options.minslice)&&void 0!==d?d:this.DEFAULTMINSLICE;if(a&&f&&f[null!==(g=this.module.renderIndex)&&void 0!==g?g:0])return d=
f[null!==(h=this.module.renderIndex)&&void 0!==h?h:0].cpm,h=d/a*b,h<e&&(h=e),this.mm.log(""+this.module.info.name+" auction#"+(this.refreshIndex+1)+": slice "+(this.module.renderIndex+1)+"/"+f.length+" is $"+d.toFixed(2)+" out of totalCPM: $"+a.toFixed(2)+". Next slice in: "+Math.round(h)+"ms!"),h;this.mm.log(""+this.module.info.name+" auction#"+(this.refreshIndex+1)+":  No slices left.");return-1};d.prototype.setCss=function(a){null==this.css&&(this.css={});"string"===typeof this.css?this.mm.log("Error, cannot setCSS on a legacy string CSS"):
(this.css=p.mergeObjects(this.css,a),this.restyleCSS(this.css))};d.prototype.setStyle=function(a,b){Object.keys(b).forEach(function(c){a.style[c]=b[c]})};d.prototype.setGlobalCss=function(a){void 0==this.globalCss&&(this.globalCss={});void 0!=a&&(this.globalCss=p.mergeObjects(this.globalCss,a));a=window.document;this.module.globalStyleEl&&this.module.globalStyleEl.parentNode&&this.module.globalStyleEl.parentNode.removeChild(this.module.globalStyleEl);var b=a.createElement("style");this.module.globalStyleEl=
b;b.styleSheet?b.styleSheet.cssText=p.getCssString(this.globalCss):b.appendChild(a.createTextNode(p.getCssString(this.globalCss)));a.head.appendChild(b)};d.COMPONENT_DESTROY_TIMER=1E3;return d}(n("./src/zonemasters/superclasses/basic/rootcomponent.ts").default);k.default=f},"./src/zonemasters/components/videoplayer.ts":function(f,k,n){function u(f){var g=(new MessageChannel).port1;f.dispatchEvent=g.dispatchEvent.bind(g);f.addEventListener=g.addEventListener.bind(g);f.removeEventListener=g.removeEventListener.bind(g)}
function p(f){if("function"===typeof Event)var g=new Event(f);else g=document.createEvent("Event"),g.initEvent(f,!1,!1);return g}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(f){function g(a){var b={};if(1==a.nodeType)for(var c=0;c<a.attributes.length;c++){var e=a.attributes.item(c);b["@"+e.nodeName.toLowerCase()]=e.nodeValue}else 3==a.nodeType?b=a.nodeValue:4==a.nodeType&&(b=a.nodeValue);if(a.hasChildNodes())for(c=0;c<a.childNodes.length;c++){e=a.childNodes.item(c);var d=e.nodeName.toLowerCase();
if("undefined"==typeof b[d])b[d]=g(e);else{if("undefined"==typeof b[d].push){var h=b[d];b[d]=[];b[d].push(h)}b[d].push(g(e))}}return b}function b(a){(a=a?a:[])&&!Array.isArray(a)&&(a=[a]);return a}function h(a){if(!a)return null;a=null!=a["#cdata-section"]?a["#cdata-section"]:a["#text"];null!=a&&(a=Array.isArray(a)?a.join(""):a,a=a.trim());return a}function d(a){a=b(a);for(var c=[],e=0;e<a.length;e++){var d=h(a[e]);null!=d&&""!=d&&c.push(d)}return c}function a(a){if(!ha){ha=!0;a&&"skipped"!=a&&(A("VAST Error "+
a+"\r\n"+a.stack),y(D));null!=C&&clearInterval(C);null!=H&&clearTimeout(H);if(I)try{I.parentNode.removeChild(I),I=null}catch(U){}null!=t&&0<t.readyState&&(t.pause(),t.currentTime=t.duration-.7);a&&"skipped"!=a?x.dispatchEvent(p("error")):x.dispatchEvent(p("complete"))}}function c(a,b){var c=document.createElement(a);Object.keys(b).forEach(function(a){c.setAttribute(a,b[a])});return c}function e(a,b){b&&(b=c("track",{src:b,srclang:"en",kind:"subtitles"}),a.prepend(b),b.toggleAttribute("default"),a.setAttribute("crossorigin",
"anonymous"))}function m(a){if("function"===typeof a)try{return a()}catch(U){return 0}else return a}function l(){if(N&&E){try{E.adDuration?L=m(E.adDuration):E.adRemainingTime&&(L=t.currentTime+m(E.adRemainingTime))}catch(ua){A("Error parsing remaining time in vpaidMode")}A("Vpaid duration updated to: "+L+" seconds")}else!isNaN(t.duration)&&isFinite(t.duration)&&(L=Math.min(60,t.duration))}function k(a,b){var c=document.createElement("source");c.setAttribute("src",a);c.setAttribute("type",F);t=document.createElement("video");
t.setAttribute("playsinline","");e(t,b);a=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():null;if(0<=a.indexOf("ipad")||0<=a.indexOf("iphone")||0<=a.indexOf("ipod"))t.autoplay=!0;x.setMuted(Y);pa&&(t.volume=pa);t.width=oa;t.height=ia;ma&&t.classList.add(ma);t.addEventListener("durationchange",function(){A("video element changed duration to "+t.duration);l()});t.appendChild(c);q();c=document.createElement("a");c.target="_blank";c.href=P+W;c.onclick=function(){W&&window.open(P+W,
"_blank");M();return!1};c.appendChild(t);ta.appendChild(c);la=Date.now();var d=!1;t.addEventListener("play",function(){d||(d=!0,A("playing"),l(),z(0))});t.addEventListener("timeupdate",function(){x.dispatchEvent(p("timeupdate"))});t.addEventListener("timeupdate",R);C=setInterval(R,500);t.addEventListener("ended",function(){A("video element ended playback");z(4)})}function q(a){void 0===a&&(a=null);var b=!1,c=!1,e=function(){t.removeEventListener("error",e);t.removeEventListener("canplay",d);t.removeEventListener("loadedmetadata",
d);for(var b=0;b<t.children.length;b++)"source"==t.children[b].tagName.toLowerCase()&&t.children[b].removeEventListener("error",e);c||(c=!0,x.setMuted(!0),A("caught error -- cannot autoplay at all"),a&&a({canAutoplay:!1,requiresMuted:!0}))},d=function(){try{t.removeEventListener("error",e);t.removeEventListener("canplay",d);t.removeEventListener("loadedmetadata",d);for(var g=0;g<t.children.length;g++)"source"==t.children[g].tagName.toLowerCase()&&t.children[g].removeEventListener("error",e)}catch(Qa){}b||
(b=!0,A("did not autoplay, so call play manually"),g=t.play(),void 0!==g?g.then(function(){c||(c=!0,A("can autoplay sound on"),a&&a({canAutoplay:!0,requiresMuted:!1}))}).catch(function(b){A("call to play prevented so had to mute");x.setMuted(!0);t.play().then(function(){c||(c=!0,A("call to play allowed when muted"),a&&a({canAutoplay:!0,requiresMuted:!0}))}).catch(function(b){A("call to play failed even when muted");c||(c=!0,a&&a({canAutoplay:!1,requiresMuted:!1}))})}):c||(c=!0,a&&a({canAutoplay:!0,
requiresMuted:!1})))};t.addEventListener("error",d);t.addEventListener("canplay",d);t.addEventListener("loadedmetadata",d);for(var g=0;g<t.children.length;g++)"source"==t.children[g].tagName.toLowerCase()&&t.children[g].addEventListener("error",e)}function r(b){A("loadVpaid called");n(5);la=Date.now();var c=0;for(b=b.getElementsByTagName("Linear");c<b.length;c++){var e=b[c],d=e.getElementsByTagName("AdParameters");0<d.length&&(K=d[0].textContent.trim());d=0;for(e=e.getElementsByTagName("MediaFile");d<
e.length;d++){var g=e[d];if("VPAID"==g.getAttribute("apiFramework")&&"application/javascript"==g.getAttribute("type")){var h=g.textContent.trim();break}}if(h)break}A("mediaFileUrl "+h);I=document.createElement("iframe");I.width=""+oa;I.height=""+ia;I.frameBorder="0";I.scrolling="no";ma&&I.classList.add(ma);ta.appendChild(I);window.setTimeout(function(){var b=I.contentWindow.document;t=b.createElement("video");t.setAttribute("playsinline","true");t.style.left="0px";t.style.top="0px";t.style.position=
"absolute";t.style.width="100%";t.style.height="100%";var c=b.createElement("source");c.setAttribute("src","https://ssl.cdne.cpmstar.com/cached/zonemasters/mp4-with-audio.mp4");c.setAttribute("type","video/mp4");t.appendChild(c);var e=b.getElementsByTagName("body")[0];e.appendChild(t);t.load();var d=b.createElement("div");d.style.left="0px";d.style.top="0px";d.style.position="absolute";d.style.width="100%";d.style.height="100%";e.appendChild(d);e=h;var g=oa,f=ia,m={AdParameters:K},k={slot:d,videoSlot:t,
videoSlotCanAutoPlay:!0};A("creating script ");var r=!1,v=!1,F=!1;d=b.createElement("script");d.type="text/javascript";d.async=!0;d.src=e;d.onload=function(){A("vpaid script loaded ");var b=I.contentWindow.getVPAIDAd;if(b&&"function"==typeof b){var c={AdStarted:this.onStartAd,AdStopped:this.onStopAd,AdSkipped:this.onSkipAd,AdLoaded:this.onAdLoaded,AdLinearChange:this.onAdLinearChange,AdSizeChange:this.onAdSizeChange,AdExpandedChange:this.onAdExpandedChange,AdSkippableStateChange:this.onAdSkippableStateChange,
AdDurationChange:this.onAdDurationChange,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdInteraction:this.onAdInteraction,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,AdUserAcceptInvitation:this.onAdUserAcceptInvitation,AdUserMinimize:this.onAdUserMinimize,
AdUserClose:this.onAdUserClose,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:this.onAdLog},e=function(b,c){A("Ad Event "+b+" "+(c?c:""));"AdLoaded"==b&&(A("VPAID video became ready"),x.dispatchEvent(p("ready")),n(5));"AdStarted"==b&&(z(0),n(15));"AdVideoFirstQuartile"==b&&(z(1),n(15));"AdVideoMidpoint"==b&&(z(2),n(15));"AdVideoThirdQuartile"==b&&(z(3),n(15));"AdVideoComplete"==b&&z(4);"AdClickThru"==b&&(M(),null!=c&&""!=c&&"string"==typeof c&&window.open(c,"_blank"));
"AdSkippableStateChange"==b&&x.dispatchEvent(p("skippablestatechange"));"AdSkipped"!=b&&"AdStopped"!=b||a("skipped");"AdPaused"==b&&(x.paused=!0,setTimeout(function(){x.paused&&a("skipped")},3500));"AdError"==b&&a(c);"AdRemainingTimeChange"!=b&&"AdDurationChange"!=b||l()};E=b();A(" vpaidAd gotten ");for(var d in c)E.subscribe(e.bind(null,d),d,null);E.handshakeVersion("2.0");A(" vpaidAd handshaked ");r=!0;F&&!v&&(x.setVolume(x.getVolume()),v=!0,E.initAd(g,f,"normal",200,m,k),A(" vpaidAd initAd"))}};
b.getElementsByTagName("head")[0].appendChild(d);q(function(a){t.pause();t.removeChild(c);x.isMuted()||x.setMuted(a.requiresMuted);F=!0;r&&!v&&(x.setVolume(x.getVolume()),v=!0,E.initAd(g,f,"normal",200,m,k),A(" vpaidAd initAd"))})},1)}function n(a){null!=H&&clearTimeout(H);H=setTimeout(X,1E3*a)}function X(){if(!fa[0]){A("Watchdog timer is about to call adstop");try{E.stopAd()}catch(ua){}a("watchdog timeout")}}function ba(a){for(var b=0;b<a.length;b++)y(a[b])}function y(a){if(null!=a&&""!=a&&(0<=a.indexOf("http://")||
0<=a.indexOf("https://")||0==a.indexOf("//")))try{var b=document.createElement("img");b.src=a;b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px";ta.appendChild(b);b.onload=function(){b.style.display="none";b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px"}}catch(xa){A("Error hitting pixel: "+xa)}}function M(){ba(ka);x.isPaused()&&x.play();return!0}function z(b){J!=b-1?A("Out of order quartile call: requested "+
b+" but was at "+J):(J=b,A("quartile "+J),fa[J]||(fa[J]=!0,0==J&&(la=Date.now(),x.dispatchEvent(p("start"))),1==J&&x.dispatchEvent(p("firstquartile")),2==J&&x.dispatchEvent(p("midpoint")),3==J&&x.dispatchEvent(p("thirdquartile")),ba(T[J]),4==J&&a()))}function R(){!aa&&N||ja==x.isSkippable()||(x.dispatchEvent(p("skippablestatechange")),ja=x.isSkippable());fa[0]&&3>J&&t.currentTime>=.25*(J+1)*L&&z(J+1);var b=Date.now();!x.isPaused()&&4>J&&(b-la)/1E3>=L+2&&(A("TimerHandler is firing complete"),3==J?
z(4):(A("Had to end ad forcefully by timeout without even getting to third quartile"),fa[4]=!0,a()))}function ca(a){var b=0;if(!a)return b;a=a.split(":");0<a.length&&(b+=Number(a.pop()));0<a.length&&(b+=60*Number(a.pop()));0<a.length&&(b+=3600*Number(a.pop()));return b}var x=this;u(this);var A=f.log,K,t,C,H,V,F="video/mp4",D,W,ka=[],L=0,S=99999,T=[[],[],[],[],[]],fa=[!1,!1,!1,!1,!1],na=[],sa=0,N=!1,E,I,pa=1,J=-1,la,ta,oa,ia,P="",da=!1,Y=!1,Z=!1,wa=0,ha=!1,ja=!1,aa=!1,ma=void 0;this.setBegan=function(a){da=
a};this.videoEl=function(){return t};this.initializeForUrl=function(a,b,c,e){ta=a;oa=b;ia=c;P=e&&e.clickPrefix?e.clickPrefix:"";Y=e?!!e.muted:!1;ma=e.className?e.className:void 0;aa=e?!!e.forceSkippability:!1;x.dispatchEvent(p("ready"))};this.isVpaidMode=function(){return N};this.init=function(c,e,l,f,m){function k(b){if(0==b.indexOf("http://adrtb-cache-use.sundaysky.com")){var c=b.indexOf("&dns=");0<=c&&(b=b.slice(0,c))}fetch(b,{method:"GET",mode:"cors",cache:"no-cache",redirect:"follow"}).then(function(a){return a.text()}).then(function(a){q(a)}).catch(function(c){a("error making request to wrapperVastAdTagURI "+
b)})}function q(c){try{if(0==c.indexOf("http")||0==c.indexOf("//"))k(c);else{var e=(new DOMParser).parseFromString(c,"text/xml"),l=g(e);c=[];var f=l.vast.ad;if(null==f)V=null;else{var m=[f.inline,f.wrapper],q=["Inline","Wrapper"];for(f=0;f<m.length;f++){var v=m[f];v&&(A("found Ad."+q[f]),T[0]=T[0].concat(d(v.impression)),v.creatives&&(c=c.concat(b(v.creatives.creative))),v.error&&(D=h(v.error)))}for(m=0;m<c.length;m++){var n=c[m].linear;if(null!=n){if(n.trackingevents){var w=b(n.trackingevents.tracking);
for(v=0;v<w.length;v++){var u=w[v],t=h(u);switch(u["@event"]){case "creativeView":T[0].push(t);break;case "close":na.push(t);break;case "start":T[0].push(t);break;case "firstQuartile":T[1].push(t);break;case "midpoint":T[2].push(t);break;case "thirdQuartile":T[3].push(t);break;case "complete":T[4].push(t)}}}W=n.videoclicks&&n.videoclicks.clickthrough?h(n.videoclicks.clickthrough):W;n.videoclicks&&(ka=ka.concat(d(n.videoclicks.clicktracking)));L=n.duration?ca(n.duration["#text"]):0;K=n.adparameters?
h(n.adparameters):"";if(n["@skipoffset"]){var O=n["@skipoffset"],z=O.indexOf("%");S=-1!=z?L*parseFloat(O.substr(0,z)):ca(O)}if(n.mediafiles){var y=b(n.mediafiles.mediafile);for(f=0;f<y.length;f++){var H=y[f];F=H["@type"];if(null!=F){F=F.toLowerCase();var I=h(H);if(0==I.indexOf("http")||0==I.indexOf("//"))if("video/mp4"==F||"video/webm"==F||"video/ogg"==F){parseInt(H["@width"]);parseInt(H["@height"]);var J=I;break}else if(("application/javascript"==F||"application/x-javascript"==F)&&H["@apiframework"]&&
"vpaid"==H["@apiframework"].toLowerCase()){J=I;N=!0;break}}}}}}V=J}var C=l.vast.ad;if(null==V&&3>sa++&&C&&C.wrapper&&C.wrapper.vastadtaguri){var X=h(C.wrapper.vastadtaguri);X?(A("Wrapper found reloading: "+X),T[0]=T[0].concat(d(C.wrapper.impression)),k(X)):a("no wrapper url")}else L=Math.min(60,L),null!=V?N?r(e):(A("VAST video became ready"),x.dispatchEvent(p("ready"))):a("no video url")}}catch(La){a(La)}}ta=e;oa=l;ia=f;P=m&&m.clickPrefix?m.clickPrefix:"";Y=m?!!m.muted:!1;aa=m?!!m.forceSkippability:
!1;ma=m.className?m.className:void 0;q(c)};this.skip=function(){if(da&&!ha&&x.isSkippable()){if(N&&E&&E.getAdSkippableState&&E.getAdSkippableState()&&E.skipAd&&"function"===typeof E.skipAd)E.skipAd(),x.dispatchEvent(p("skipped"));else if(!N||aa)t&&t.pause(),x.dispatchEvent(p("skipped")),a("skipped");ba(na)}};this.close=function(){N&&E&&E.getAdSkippableState&&E.getAdSkippableState()&&E.skipAd&&"function"===typeof E.skipAd?E.skipAd():N&&this.setMuted(!0);a("skipped")};this.play=function(){Z?(N?E&&E.resumeAd():
t.play(),la+=Date.now()-wa,Z=!1):da||ha||(da=!0,N?(E&&E.startAd(),C=setInterval(R,500)):k(V))};this.replay=function(){da&&!N&&(T=[[],[],[],[],[]],fa=[!0,!1,!1,!1,!1],J=0,la=Date.now(),t.currentTime=0,t.play(),ha=!1,C=setInterval(R,500))};this.pause=function(){Z||(N?E.pauseAd():t.pause(),wa=Date.now(),Z=!0)};this.isPlaying=function(){return da&&!Z&&!ha};this.isPaused=function(){return Z};this.isMuted=function(){return Y};this.setMuted=function(a){var b=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():
null;if(t){if(0<=b.indexOf("ipad")||0<=b.indexOf("iphone")||0<=b.indexOf("ipod"))if(a){t.setAttribute("muted",null);try{t.removeAttribute("muted")}catch(xa){}}else t.setAttribute("muted","");t.muted=a}(Y=a)||1!=pa&&0!=pa||this.setVolume(1)};this.isSkippable=function(){return!da||ha?!1:N&&!aa?E?m(E.adSkippableState):!1:x.getDuration()-x.getRemainingTime()>=S};this.getSkipOffset=function(){return S};this.setSkipOffset=function(a){S=a;!aa&&N||ja==x.isSkippable()||(x.dispatchEvent(p("skippablestatechange")),
ja=this.isSkippable())};this.setSize=function(a,b){oa=a;ia=b;t&&(t.width=a,t.height=b);I&&(I.width=""+a,I.height=""+b)};this.getDuration=function(){return L};this.getRemainingTime=function(){return N?E&&E.adRemainingTime?m(E.adRemainingTime):Math.max(0,L-((new Date).getTime()-la)/1E3):L-t.currentTime};this.getVolume=function(){return pa};this.setVolume=function(a){0>a&&(a=0);1<a&&(a=1);pa=a;N&&E?E.adVolume=Y?0:a:t&&(t.volume=a)};this.resetQuartiles=function(){J=-1;ha=!1;fa=[!1,!1,!1,!1,!1]};this.playUrl=
function(a){da=!0;k(a.url,a.subtitles)};this.watchdogOn=function(a){n(a)};this.watchdogOff=function(){clearTimeout(H);H=void 0}}},"./src/zonemasters/data/steam.ts":function(f,k,n){function u(f){return k.steamgpus[f.toLowerCase()]}Object.defineProperty(k,"__esModule",{value:!0});k.isSteamGPU=k.getSteamGPUInfo=k.steamgpus=void 0;k.steamgpus={"nvidia geforce gtx 1060":{dx:12},"nvidia geforce gtx 1050 Ti":{dx:12},"nvidia geforce gtx 1650":{dx:12},"nvidia geforce rtx 2060":{dx:12},"nvidia geforce gtx 1050":{dx:12},
"nvidia geforce gtx 1660 Ti":{dx:12},"nvidia geforce gtx 1070":{dx:12},"nvidia geforce gtx 1660 super":{dx:12},"nvidia geforce gtx 1660":{dx:12},"nvidia geforce rtx 2070 super":{dx:12},"nvidia geforce rtx 3070":{dx:12},"amd radeon rx vega 11 graphics":{dx:12},"nvidia geforce gtx 1080":{dx:12},"nvidia geforce rtx 3090":{dx:12},"nvidia geforce GT 710":{dx:12},"nvidia geforce MX250":{dx:12},"nvidia geforce MX150":{dx:12},"nvidia geforce gtx 950":{dx:12},"nvidia geforce gtx 970":{dx:12},"amd radeon rx 480":{dx:12},
"nvidia geforce gtx 950m":{dx:12},"amd radeon graphics":{dx:12},"amd radeon rx 560":{dx:12},"nvidia geforce gtx 7500":{dx:12},"amd radeon rx 5500 xt":{dx:12},"nvidia geforce rtx 2070 with max-q design":{dx:12}};k.getSteamGPUInfo=u;k.isSteamGPU=function(f){return null==f?!1:u(f)?!0:!1}},"./src/zonemasters/mobilemodules.ts":function(f,k,n){function u(){Z=null==(ja=Y.match(/[\?&]cpmstarhash=([^&]*)/))?"":"#"+ja[1]}function p(){var a=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():
null;if(null!=a){for(var b=0;b<Na.length;b++)if(0<=a.indexOf(Na[b]))return Na[b];if(0<=a.indexOf("windows"))return"windows";if(0<=a.indexOf("macintosh"))return"macintosh";if(0<=a.indexOf("linux"))return"linux"}else return"other"}function r(){var a=p();return"other"!==a?0<=Na.indexOf(a):!1}function g(){var a=p();return"other"!==a?0<=jb.indexOf(a):!1}function b(a){var c=p();if("string"===typeof a)return a=a.toLowerCase().trim(),"mobile"===a?r():"desktop"===a?g():a===c;if(Array.isArray(a)){c=!1;for(var e=
0;e<a.length&&!(c=b(a[e]));e++);return c}A("error - invalid condition: "+a);return!1}function h(a){if("string"===typeof a)return a=a.trim(),Z.toLowerCase()==a.toLowerCase();if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(h(a[b]))return!0;return!1}A("error - invalid condition: "+a);return!1}function d(a){if("string"===typeof a||"number"==typeof a)return Ja==a;if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(d(a[b]))return!0;return!1}A("error - invalid condition: "+a);return!1}function a(b,c){if(b&&
null!=c&&"number"===typeof c){if(b=ra[b&&null!=b.id?b.id:b.info.name],null==b||null==b.lastRan||b.lastRan+c<=(new Date).getTime())return!0}else if(Array.isArray(c))for(var e=0;e<c.length;e++)if(a(b,c[e]))return!0;return!1}function c(a){Ka=G.locationData;if("object"===typeof Ka){if(!Array.isArray(a)&&a.countryCode)return a="string"===typeof a.countryCode?[a.countryCode]:a.countryCode,0>a.indexOf(Ka.countryCode)&&0>a.indexOf(Ka.countryCode.toLowerCase())?!1:!0;if(Array.isArray(a))for(var b=0;b<a.length;b++)if(c(a[b]))return!0;
return!1}}function e(a){var b=ha;Array.isArray(a)||"string"!==typeof a||(a=[a]);for(var c=0,e=0;e<a.length;e++){if(a[e]===b)return!0;if("~"===a[e][0]&&c++,a[e]==="~"+b)return!1}return 0==a.length-c}function m(a){var b=wa.toLowerCase().trim(),c=a.indexOf("*");if("string"===typeof a){a=a.toLowerCase().trim();if(0>c)return a===b;if(0<=c){do{var e=a.slice(0,c),d=c<a.length-1?a[c+1]:null;if(0!=b.indexOf(e))return!1;b=b.slice(e.length);null!=d&&(e=b.indexOf(d),b=b.slice(e));a=a.slice(c+1);c=a.indexOf("*")}while(-1!=
c);return 0==a.length||b.indexOf(a)==b.length-a.length?!0:!1}}else if(Array.isArray(a)){for(b=0;b<a.length;b++)if("string"===typeof a[b]&&"~"==a[b][0]){if(m(a[b].slice(1)))break}else if(m(a[b]))return!0;return!1}A("error - invalid condition: "+a);return!1}function l(a){var b,c=B.requests,e=null===(b=null===B||void 0===B?void 0:B.info)||void 0===b?void 0:b.zonepools;b=void 0;if(null==a)return null;b=B.modules.find(function(b){var c;return(null===(c=null===b||void 0===b?void 0:b.info)||void 0===c?void 0:
c.name)==a});null==b&&e&&c[a]&&c[a].poolid&&e[c[a].poolid]&&(a=e[c[a].poolid].module,b=B.modules.find(function(b){var c;return(null===(c=null===b||void 0===b?void 0:b.info)||void 0===c?void 0:c.name)==a}));return null!==b&&void 0!==b?b:null}function v(){setTimeout(function(){Q.triggerjb&&Q.triggerjb()},500)}function q(a){try{if(v(),a)if("function"===typeof a)a(Ua);else{var b="string"===typeof a?a.split("."):a.kind?a.kind.split("."):[];if(2==b.length)Ua[b[0]][b[1]]("object"===typeof a?a:void 0);else if("object"===
typeof a){if(a.cb){var c=function(a,b,c){a(function(){v();b&&b()},c)}.bind(null,a.cb);a.cb=c}switch(a.kind){case "gpt":a.data&&a.data.sizemap&&F(a.data.sizemap);case "showlog":Ta=!Ta;case "listmodules":a.cb(Object.keys(ra));break;case "setconfig":a.conditions&&(null==B.conditions&&(B.conditions=[]),B.conditions=D.mergeObjectsWithConditions(B.conditions,a.conditions));break;case "setmoduledata":for(var e=Object.keys(a.data),d=0;d<e.length;d++){var g=e[d],h=l(g),f=h.css?h.css:{},m=h.options?h.options:
{};a.data[g].css&&(h.css=D.mergeObjects(f,a.data[g].css));a.data[g].options&&(h.options=D.mergeObjects(m,a.data[g].options))}break;case "setrequestdata":e=Object.keys(a.data);for(h=0;h<e.length;h++)if(g=e[h],0==g.indexOf("hb.")){var k=g.slice(g.indexOf("hb.")+3),q=B.requests.hb;if(q&&q.adUnits)for(d=0;d<q.adUnits.length;d++)("*"==k||q.adUnits[d].code==k)&&q.adUnits[d]&&(q.adUnits[d]=D.mergeObjects(q.adUnits[d],a.data[g]))}else{var Ma=Object.keys(B.requests);for(d=0;d<Ma.length;d++){var p=Ma[d];if("*"==
g||p==g)B.requests[p]=D.mergeObjects(B.requests[p],a.data[g])}}break;case "addplacementandgo":e=!1;if(null!=B.modules)for(g=0;g<B.modules.length;g++){h=B.modules[g];var n=h.conditions;if(n){n=Array.isArray(n)?n:[n];for(d=0;d<n.length&&!(e=w(h,n[d],a.pid,a.pindex));d++);if(e)break}}e?null!=ea&&ea():a.render();break;case "request":var r=l(a.module);if(!r)break;a.config&&(r=D.deepClone(r),r=D.mergeObjectsWithConditions(r,a.config));r.ready=!0;null!=ea&&ea(r,"request",a);break;case "cmp":ca(a.cb?a.cb:
null,!0);break;case "go":if(null==a.module)null!=ea&&ea();else if(r=l(a.module))a.config&&(r=D.deepClone(r),r=D.mergeObjectsWithConditions(r,a.config)),r.ready=!0,null!=ea&&ea(r,null,a);break;case "asynctagfetch":null==Q.libcmd&&K(Ba+"/cached/js/lib.js");if(null!=a.el&&null!=a.pid){var t=ua(U+a.pid,0);a.el.className=t;a.pindex=window.document.getElementsByClassName(t).length-1;(Q.libcmd=Q.libcmd||[]).push(a)}break;case "createmodule":if(null==a.config)break;null==a.once&&(a.once=!0);null==a.config.info&&
(a.config.info={},a.config.info.name=a.module);var u=l(a.config.info.name);if(null!=u)if(u=D.deepClone(u),0==u.info.overrides){var O=D.deepClone(a.config);u=D.mergeObjectsWithConditions(O,u)}else u=D.mergeObjectsWithConditions(u,a.config);else B.modules.push(a.config),u=l(a.config.info.name),u=D.mergeObjectsWithConditions(u,{conditions:{wait:!0}});if(!u)break;null!=ea&&Oa(function(){u.ready=!0;ea(u,null,a)});break;case "refresh":if(a.data&&a.data.modules&&Array.isArray(a.data.modules))for(h=0;h<a.data.modules.length;h++){var z=
ra[a.data.modules[h]];null!=z&&null!=z.js&&z.js.adcmd({kind:"adcmd",command:"refresh"})}break;case "adcmd":z=ra[a.module];null!=z&&null!=z.js&&z.js.adcmd(a);break;case "cmp_":var y=a.config;if(null==y)break;var H=a.config.type;if(null==H)break;switch(H){case "showcmp":var L=y.force,S=y.usp,W=y.forceusp;"object"!=typeof y.config&&(y.config={});var I=y.config;I.usp=x(S,W);Oa(function(){ca(function(){a.cb&&a.cb()},null!=L&&L?!0:!1,I)});break;case "gdpr":var A=y.gdprapplies;"boolean"==typeof A&&(G.gdprApplies=
A);"string"==typeof y.consentstring&&(document.cookie="pubconsent="+a.data.consentstring+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/");break;case "usp":var V=y.usp;"string"==typeof V&&(document.cookie="usp="+V+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/");break;case "coppa":var C=y.coppa;"boolean"==typeof C&&(G.coppa=C)}break;case "showcmps":Oa(function(){ca(function(){a.cb&&a.cb()},null!=a.force&&a.force?!0:!1,a.config)});break;case "gdpr":if("object"!=
typeof a.data)break;"boolean"==typeof a.data.gdprapplies&&(G.gdprApplies=a.data.gdprapplies);if("string"!=typeof a.data.consentstring)break;document.cookie="pubconsent="+a.data.consentstring+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/";break;case "coppa":if(null==a.value&&"boolean"!=typeof a.value)break;G.coppa=a.value;break;case "usp":if(null!=a.value||"string"==typeof a.value)document.cookie="usp="+a.value+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+
"; path=/"}}}}catch(ob){}}function w(a,b,c,e){if(a&&"skin"==a.kind&&a.info&&a.info.name=="POOL "+c)return!0;if(null==b||null==b.target)return!1;a=b.target;c="string"==typeof a.find&&a.find=="$"+c||Array.isArray(a.find)&&0<a.find.indexOf("$"+c);e=a.pickAll||"all"==a.pick||"last"==a.pick||(null==a.pick||"first"==a.pick)&&0==e||"number"==typeof a.pick&&a.pick==e||Array.isArray(a.pick)&&0<a.pick.indexOf(e);return c&&e}function O(a,b){if(null==a)return null;if(null!=a.el)return b;var c=window;a.topWindow&&
(c=window.top);if(a.pickAll&&(Array.isArray(a.pick)||Array.isArray(a.find)||"string"===typeof a.pick&&"all"===a.pick.toLowerCase().trim())){var e=[],d=0,g=20,h;Array.isArray(a.pick)?g=a.pick.length:Array.isArray(a.find)&&(g=a.find.length);for(var f=0;f<g;f++)if(h=Array.isArray(a.pick)?null!=H(a.find,a.pick[f],c):Array.isArray(a.find)?null!=H(a.find[f],a.pick,c):null!=H(a.find,f,c))h=D.extendLite({},b),h.target=D.extendLite({},b.target),Array.isArray(a.pick)?h.target.pick=a.pick[f]:Array.isArray(a.find)?
h.target.find=a.find[f]:h.target.pick=f,h.iteration=d,d++,e.push(h);b=e}else if(c=null!=H(a?a.find:null,a?a.pick:null,c),1==a.found&&(c=!0),!c)return null;return b}function X(g,f){var l={};null!=P.zone_conditions&&null!=P.zone_conditions.bypassConditions&&(l=P.zone_conditions.bypassConditions);if(null==f)return{};if(Array.isArray(f)){l="|";var k=0;f.length&&"&"==f[0]&&(l="&",k++);for(var q=null;k<f.length;k++){var p=X(g,f[k]);if(null!=p&&(!Array.isArray(p)||0<p.length)){if("&"==l){null==q&&(q={});
q=D.mergeObjects(q,p);continue}return p}if("&"==l)return null}return q}if("object"===typeof f){if(null!=f.gap&&!a(g,f.gap)&&null==l.gap||null!=f.geo&&!c(f.geo)&&null==l.geo)return null;if(k=null!=f.percent)k=f.percent,k=("string"===typeof k||"number"==typeof k)&&100*Ra<=parseFloat(k)?!0:!1,k=!k;if(k&&null==l.percent)return null;if(k=null!=f.test)k=f.test,k="string"===typeof k?(new Function("return ("+k+");")).bind(B)()?!0:!1:!1,k=!k;if(k&&null==l.test)return null;if(k=null!=f.querystring){a:{k=f.querystring;
if("string"===typeof k)if("~"==k[0]){if(q=k.slice(1).split("="),p=Wa.getParameterByName(q[0]),2==q.length&&null==p||p!=k[0]){k=!0;break a}}else if(q=k.split("="),p=Wa.getParameterByName(q[0]),1==q.length&&null!=p||p==q[1]){k=!0;break a}k=!1}k=!k}if(k&&null==l.param||null!=f.deviceType&&!b(f.deviceType)&&null==l.deviceType||null!=f.hash&&!h(f.hash)&&null==l.hash||null!=f.host&&!e(f.host)&&null==l.host||null!=f.path&&!m(f.path)&&null==l.path||null!=f.jbStatus&&!d(f.jbStatus))return null;if(f.divExists||
f.target)l.target?f.target=O(l.target,l).target:f=O(f.target,f);if(g&&(f&&f.wait||g.wait)&&null==g.ready||g&&"init"==g.moduleState&&g.initwaitdomready&&!Ca)return null;null==f&&null!=g.target&&(f=O(g.target,{target:g.target}));return f}return{}}function ba(a,b){var c,e,d;void 0===b&&(b=!1);if(window.__tcfapi)a();else{var g=null===(d=null===(e=null===(c=G.zonedata)||void 0===c?void 0:c.options)||void 0===e?void 0:e.cmp)||void 0===d?void 0:d.id;!Xa&&g?(Xa=!0,K("https://gdpr.privacymanager.io/1/gdpr.bundle.js",
function(){K("https://gdpr-wrapper.privacymanager.io/gdpr/"+g+"/gdpr-liveramp.js",function(){try{b?window.__tcfapi("toggleConsentTool",2,function(){a&&a()},1):a&&a()}catch(cb){A(cb.toString())}})})):void 0==g&&A("The cmp needs a valid id. (options.cmp.id)")}}function y(){var a=D.parsedCookies().pubconsent,b=D.parsedCookies().euconsent;return a?a:b}function M(){return null==G.locationData||null==G.locationData.countryCode?null:-1=="GB DE PL FR ES NO IT IS RO SE BG GR NL HR IE CH CZ AT HU FI DK BE LI PT MT LU CY LT SK SI EE LV".split(" ").indexOf(G.locationData.countryCode)?
!1:!0}function z(){var a=window.location.href,b="";0<a.indexOf("pwtv=")&&(a=/pwtv=(.*?)(&|$)/g.exec(a),2<=a.length&&0<a[1].length&&(b="/"+a[1]));a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src="//ads.pubmatic.com/AdServer/js/pwt/160251/3268"+b+"/pwt.js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}function R(){var a,b,c,e=null===(c=null===(b=null===(a=G.zonedata)||void 0===a?void 0:a.options)||void 0===b?void 0:b.cmp)||void 0===c?void 0:
c.atsid;null==e&&(e="13471");K("https://ats.rlcdn.com/ats.js",function(){var a=window.ats;a&&a.start({placementID:"13471",storageType:"cookie",detectionType:"scrapeAndUrl",urlParameter:"env",cssSelectors:["input[type=text]","input[type=email]"],logging:"error"})});db=!0}function ca(a,b,c){void 0===b&&(b=!1);if(b)ba(a,!0);else{if(M()){b=y();if("0"==b||"NA"==b)document.cookie="pubconsent=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";ba(a)}else document.cookie="pubconsent=NA; expires="+(new Date((new Date).getTime()+
6048E5)).toUTCString()+"; path=/",a&&a();(null==G.locationData||null==G.locationData.countryCode?0:-1!="AU DE ES FR GB IT JP NL SG US".split(" ").indexOf(G.locationData.countryCode))&&R()}}function x(a,b){null!=a&&(x.usp=a);null!=b&&(x.forceUsp=b);a=a||x.usp;if(b=b||x.forceUsp)return!0;G.zonedata.options&&G.zonedata.options.cmp&&null==b&&null==a&&(a=null!=a?a:G.zonedata.options.cmp.usp,b=null!=b?b:G.zonedata.options.cmp.forceusp);if(b)return!0;b=null!=G.locationData.region&&"California"==G.locationData.region?
!0:!1;var c=null!=D.parsedCookies().usp;return b&&a&&!c}function A(a){(Qa||Ta)&&console.log(a);Ya&&Ya.queue.push({message:a,timestamp:(new Date).getTime()})}function K(a,b){a=a.replace("%%ver%%",!Aa&&B.ver?"?ver="+B.ver:"");var c=document.createElement("script");c.src=a;c.async=!0;var e=document.getElementsByTagName("head")[0],d=!1;c.onload=c.onreadystatechange=function(){d||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(d=!0,b&&b(),c.onload=c.onreadystatechange=null,e.removeChild(c))};
e.appendChild(c)}function t(a,b){null==b&&(b=window);var c=Q?Q.elements:null,e=[];if(c)for(var d=0;d<c.length;d++)if(c[d].pid==a){var g=c[d].eid,h=c[d].el;null==h&&(h=b.document.getElementById(g));h&&e.push(h)}d=(U+a).split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>0},0);d=(10+7*d%26).toString(36)+d.toString(36);c=[].slice.call(b.document.getElementsByClassName(d));0<c.length||(d=(U+a).split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1},0),d=(10+7*d%26).toString(36)+
d.toString(36),c=[].slice.call(b.document.getElementsByClassName(d)));for(d=0;d<c.length;d++)c[d]instanceof HTMLElement&&e.push(c[d]);return e}function C(a,b,c){null==c&&(c=window);if(null==a)return[];null==b&&(b=c.document);if("$"==a[0]&&"G"==a[1]&&":"==a[2]){a=a.split(":")[1];c=[];var e=window.googletag;if(e&&e.pubads&&"function"===typeof e.pubads){for(var d=e.pubads().getSlots(),g=[],h=0;h<d.length;h++){var f=d[h],l=f.getAdUnitPath(),m=f.getSlotElementId(),k=f.getSizes();b.querySelector("#"+m);
if("#"==a[0]&&m==a.slice(1))g.push(f),va.push({id:m,path:l,sizes:k});else if(2==a.split("x").length){for(var q=a.split("x"),p=!1,r=0;r<k.length;k++)if(k[r].l==q[0]&&k[r].j==q[1]){p=!0;break}p&&(g.push(f),va.push({id:m,path:l,sizes:k}))}}e.destroySlots(g);for(h=0;h<va.length;h++)if("#"==a[0]&&va[h].path==a.slice(1))(e=b.querySelector("#"+va[h].id))&&c.push(e);else if(2==a.split("x").length){q=a.split("x");p=!1;k=va[h].sizes;for(r=0;r<k.length;k++)if(k[r].l==q[0]&&k[r].j==q[1]){p=!0;break}p&&(e=b.querySelector("#"+
va[h].id))&&c.push(e)}return c}}else{if("$"==a[0])return t(a.slice(1),c);b=b.querySelectorAll(a);return null!=b?[].slice.call(b):[]}}function H(a,b,c){var e=null;(a=C(a,null,c))&&0<=a.length&&(null==b||"first"==b?e=a[0]:"last"==b?e=a[a.length-1]:"number"===typeof b&&b<a.length&&(e=a[Math.floor(b)]));return e}function V(a){for(var b=[],c=0;c<a.length;c++)a[c].width&&a[c].height?b.push([a[c].width,a[c].height]):b.push([a[c][0],a[c][1]]);return b}function F(a){Za=a;var b=window.googletag=window.googletag||
{cmd:[]};b.cmd.push(function(){b.cmd=[];b.cmd.push=function(a){try{a()}catch(pb){}};var a=b.pubads?b.pubads():null;if(b.pubadsReady&&a&&a.getSlots){a=a.getSlots();for(var c=0;c<a.length;c++){var e=a[c],d=e.getAdUnitPath(),g=e.getSlotElementId();e=V(e.getSizes());d=new eb(d,e,g);ya.push(d);Ea[g]=d;d.go()}}for(var h in b)"function"===typeof h&&(b[h]=function(){});b.defineSlot=function(a,b,c){b=Array.isArray(b[0])?b:[b];a=new eb(a,b,c);ya.push(a);Ea[c]=a;a.go();return a};b.destroySlot=function(a){if(Array.isArray(a))for(var b=
0;b<a.length;b++){var c=a[b].getSlotElementId();Ea[c]&&delete Ea[c];for(var e=0;e<ya.length;e++)if(ya[e].getSlotElementId()==c){ya.splice(e,1);break}}else Ea={},ya=[]};b.display=function(a){};var f={disableInitialLoad:function(){},setTargeting:function(){},refresh:function(a){}};b.pubads=function(){return f}})}Object.defineProperty(k,"__esModule",{value:!0});var D=n("./src/zonemasters/utils.ts"),W=n("./src/zonemasters/requests/starbannerrequest.ts"),ka=n("./src/zonemasters/requests/starjsonrequest.ts"),
L=n("./src/zonemasters/requests/headerbiddingrequest.ts"),S=n("./src/zonemasters/requests/editorialrequest.ts"),T=n("./src/zonemasters/requests/skinrequest.ts"),fa=n("./src/zonemasters/components/supercomponent.ts"),na=n("./src/zonemasters/components/bannercomponent.ts"),sa=n("./src/zonemasters/components/editorial.ts"),N=n("./src/zonemasters/components/onrpghotbox.ts"),E=n("./src/zonemasters/components/instreamvideo.ts"),I=n("./src/zonemasters/components/scriptcomponent.ts"),pa=n("./src/zonemasters/components/siteskin.ts"),
J=n("./src/zonemasters/components/createjscomponent.ts"),la=n("./src/zonemasters/superclasses/basic/componentregistry.ts"),ta=n("./src/zonemasters/components/segmentedvideo.ts"),oa=n("./node_modules/detect-gpu/dist/detect-gpu.esm.js"),ia=n("./src/zonemasters/data/steam.ts"),P=window,da=null,Y="",Z="",wa="",ha="",ja=null;try{da=window.top.location,Y=da.href,Z=da.hash,wa=da.pathname,ha=da.host}catch(Ma){var aa=window;try{for(;aa.parent&&aa.parent.document!==aa.document&&aa.parent.document.location.href;)aa=
aa.parent}catch(ib){}try{var ma=aa.location.ancestorOrigins;Y=ma[ma.length-1]}catch(ib){Y=aa.document.referrer}u();wa=null==(ja=Y.match(/^http[s]?:\/\/[^\/]+(\/[^\?]+)/))?"/":ja[1];ha=null==(ja=Y.match(/^http[s]?:\/\/([^\/]+)/))?"":ja[1];Y.match(/^https:/)}Z||u();var ua=function(a,b){a=a.split("").reduce(function(a,c){return(a<<5)-a+c.charCodeAt(0)>>>b},0);return(10+7*a%26).toString(36)+a.toString(36)},U=window.location.href.split("#")[0],xa=ua(U,1),Q=window.cpmstarx||window[xa];Q.zonevars.blueprints=
{};var B=Q.zonevars,Aa="#cpmstarDev"==Z,ab="#cpmstarStaging"==Z||"#urlzing"==Z,Qa=Aa||ab,Ga="cdn",Ha="http:"==document.location.protocol?"http:":"https:";Aa?Ga="dev.server":ab?Ga="staging.server":"https:"==Ha&&(Ga="ssl.cdne");var Ra=Math.random(),qa=Ha+"//"+Ga+".cpmstar.com",Ba=Ha+"//server.cpmstar.com",Sa=B.jbcheck?B.jbcheck.host:"",Ia=Sa.split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1},0).toString(36),Ja="0";try{sessionStorage&&sessionStorage.getItem(Ia)?sessionStorage.getItem(Ia):
"0"}catch(Ma){Ja="0"}var Ka=null,Ca=!1,Ta="#cpmstarLog"==Z,Ua={},ra={},gb={banner:W.default,json:ka.default,hb:L.default,video:ka.default,editorial:S.default,skin:T.default},Da={banner:na.default,editorial:sa.default,carousel:N.default,video:E.default,script:I.default,skin:pa.default,jsskin:J.default({fixed:"2",centerWidth:"988px",top:"128px",footerHeight:300,stickyPadding:"10px"},"create_cpmstar_siteskin"),anchor:J.default({dir:1},"create_cpmstar_anchorad"),montage:ta.default},hb=la.default.GetComponentRegistry();
Da=D.mergeObjects(Da,hb);for(var bb=Object.keys(Da),Va=0;Va<bb.length;Va++){var La=bb[Va];la.default.RegisterComponent(La,Da[La])}var kb={},za,Na="android;blackberry;ipad;iphone;ipod;mobile;nokia;symbian;windows phone".split(";"),jb=["windows","macintosh","linux"],Ya=void 0;Aa&&(P.cpmstarAPI=q);var $a=Q.cmd=Q.cmd||[],ea,Xa=!1,db=!1,fb=null,Pa=!1,Fa={country:function(a){var b=window.document.location.host,c=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36);
K("https://server.cpmstar.com/country.aspx?cache=true&referer="+encodeURIComponent(b)+"&callback="+c,function(){});window[c]=function(b){if(b.rt){if(G.zonedata.info&&G.zonedata.info.tags&&Array.isArray(G.zonedata.info.tags))for(var c=0;c<G.zonedata.info.tags.length;c++){var e=G.zonedata.info.tags[c];if("number"==typeof e)switch(e){case 57:case 2:null==b.rt["0_"+e]&&K("https://server.cpmstar.com/tag.aspx?a=0_0176D4A8&group="+e)}}if(b.rt["0_62"])Pa=!0;else if(b.rt["0_58"])Pa=!1;else try{oa.getGPUTier({benchmarksURL:qa+
"/cached/zonemasters/marks"}).then(function(a){if(fb=a)(Pa=ia.isSteamGPU(fb.gpu))?K(Ba+"/tag.aspx?a=0_0176D4A8&group=62"):K(Ba+"/tag.aspx?a=0_0176D4A8&group=58")})}catch(cb){K(Ba+"/tag.aspx?a=0_0176D4A8&group=58")}}else Pa=!1;c=!1;G.locationData=b;G.zonedata.options&&(b=G.zonedata.options,"object"==typeof b.cmp&&null!=b.cmp.force&&(c=b.cmp.force),b.coppa&&(G.coppa=!0));B.options&&B.options.pubmaticid&&z();null!=B.options&&B.options.cmp&&("object"!=typeof B.options.cmp||null==B.options.cmp.showcmp||
B.options.cmp.showcmp)&&ca(function(){},c);a()}},lib:function(a){K(qa+"/cached/js/lib.js",a)},anchor:function(a){P.cpmstar_anchorad_settings={manualInit:!0};Aa?K(qa+"/cached/zonemasters/anchorad_v100.js%%ver%%",function(){P.cpmstar_anchorad_settings.manualInit=!1;a()}):K(qa+"/cached/js/anchorad_v100.pack.js%%ver%%",function(){P.cpmstar_anchorad_settings.manualInit=!1;a()})},dot:function(a){K(qa+"/cached/zonemasters/lib/doT.js",a)},siteskin:function(a){P.cpmstar_siteskin_settings={manualInit:!0};K(qa+
"/cached/zonemasters/siteskin.js%%ver%%",function(){P.cpmstar_siteskin_settings.manualInit=!1;a()})},jquery:function(a){"undefined"==typeof P.jQuery?K("//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js",function(){"undefined"!==typeof P.jQuery&&(za=P.jQuery.noConflict(),a())}):(za=P.jQuery,a())},ima:function(a){"undefined"!=typeof P.google&&"undefined"!=typeof P.google.ima||K("//imasdk.googleapis.com/js/sdkloader/ima3.js",a)}},lb={editorial:["dot"],carousel:["dot","jquery"],video:[],skin:["siteskin"],
jsskin:["siteskin"],anchor:["anchor"]},mb={editorial:["dot"],skin:["siteskin","dot"],banner:["lib"],hb:["lib"]},Oa=function(a){function b(){for(var b=0;b<Q.apis.length;b++)Ua[Q.apis[b].name]=Q.apis[b].api;a(self)}function c(){d++;d==g&&b()}function e(a,b){var e=function(){var c=D.deepClone(B.blueprints[a.blueprint]);D.extendLite(a,D.mergeObjectsWithConditions(c,a));a.blueprintloaded=!0;b()};B.blueprints&&B.blueprints[a.blueprint]?e():(g++,K(qa+"/cached/zonemasters/blueprints/"+a.blueprint+".js%%ver%%",
function(){e();c()}))}for(var d=0,g=0,h=0;h<Q.zonevars.zonemasters.length;h++)Q.zonevars.zonemasters[h].api&&g++;Q.apis=Q.apis||[];for(h=0;h<Q.apis.length;h++)d++;var f=Q.apis.push;Q.apis.push=function(a){f.call(Q.apis,a);c()};null==Fa.country.used&&(g++,Fa.country(c),Fa.country.used=!0);if(B.modules){var l=function(a){var b=B.modules[a];b&&(a=function(){var a=lb[b.kind];if(a)for(var e=0;e<a.length;e++){var d=Fa[a[e]];null==d.used&&(d.used=!0,g++,d(c))}}.bind(m),b.blueprint&&null==b.blueprintloaded?
e(b,a):a())},m=this;for(h=0;h<B.modules.length;h++)l(h)}g==d&&b()},nb=function(){return function(){this.queue=[];var a=this,b=(xa+(Ra*Math.pow(10,16)).toString(16)+(new Date).getTime().toString(16)).substring(0,32),c=r()?"mobile":"desktop",e=B.info?B.info.id:0;window.addEventListener("visibilitychange",function(){var d=a.queue;if(0<d.length){a.queue=[];var g=new FormData;g.append("zoneid",e);g.append("sessionid",b);g.append("host",window.location.host);g.append("path",window.location.pathname);g.append("device",
c);g.append("browser",window.navigator.userAgent);g.append("logs",JSON.stringify(d));navigator.sendBeacon("https://errors.cpmstar.com",g)}})}}(),va=[],Za={},ya=[],Ea={},eb=function(){function a(b,c,e){this.kv={};this.targeting={};this.display=!1;this.numdisplays=0;this.slotName=b;this.divId=e;this.divSelector="undefined"!=typeof CSS&&"function"==typeof CSS.escape?"#"+CSS.escape(this.divId):"#"+this.divId.replace(/:/g,"\\:").replace(/\./g,"\\.");this.sizes=c=c.sort(function(a,b){a=a[0]*a[1];b=b[0]*
b[1];return a>b?-1:a==b?0:1});for(b=0;b<c.length&&!(this.modulename=a.getModuleForSize(c[b]));b++);}a.prototype.addService=function(){};a.prototype.clearCategoryExclusions=function(){};a.prototype.clearTargeting=function(a){};a.prototype.defineSizeMapping=function(a){};a.prototype.get=function(a){return this.kv[a]};a.prototype.getAdUnitPath=function(){return this.slotName};a.prototype.getAttributeKeys=function(){};a.prototype.getCategoryExclusions=function(){};a.prototype.getResponseInformation=function(){};
a.prototype.getSlotElementId=function(){return this.divId};a.prototype.getTargeting=function(a){};a.prototype.getTargetingKeys=function(){};a.prototype.set=function(a,b){this.kv[a]=b};a.prototype.setCategoryExclusion=function(a){};a.prototype.setClickUrl=function(a){};a.prototype.setCollapseEmptyDiv=function(a,b){};a.prototype.setForceSafeFrame=function(a){};a.prototype.setSafeFrameConfig=function(a){};a.prototype.setTargeting=function(a,b){};a.prototype.updateTargetingFromMap=function(a){};a.prototype.destroy=
function(){};a.gptSizeToString=function(a){var b=0,c=0;a.width&&a.height?(b=a.width,c=a.height):a[0]&&a[1]&&(b=a[0],c=a[1]);return b+"x"+c};a.getModuleForSize=function(b){b=a.gptSizeToString(b);return Za[b]?Za[b]:""};a.prototype.go=function(){if(this.modulename&&this.divId){if(0<=this.divId.toLowerCase().indexOf("footer"))return;0==this.numdisplays?q({kind:"go",module:this.modulename,config:{conditions:{target:{find:this.divSelector,kind:"replace"}}}}):q({kind:"refresh",module:this.modulename})}this.numdisplays++};
return a}(),Wa=function(){function a(){this.$=za;this.modulemap=ra;this.drut=xa;this.proto=Ha;this.serverroot=Ba;this.cdnroot=qa;this.zonedata=B;this.requestTypes=gb;this.requestInstances=kb;this.requestDeps=mb;this.deps=Fa;this.debug=Qa;this.locationData={oo:void 0,dm:void 0,bd:void 0,countryName:void 0,countryCode:void 0,region:void 0,city:void 0,ip:void 0,rt:void 0};this.coppa=!1;this.startTime=null}a.prototype.eventCallback=function(a){if("function"!==typeof a)if("string"===typeof a)a=Function.call(null,
a);else if("object"==typeof a&&a.kind&&a.module)a=this.api.bind(null,a);else throw Error("The event callback is not a valid type.");return a};a.prototype.api=function(a){q(a)};a.prototype.getTopPageUrl=function(){return Y};a.prototype.getTopHost=function(){return ha};a.getParameterByName=function(b){a.query||(a.query=window.location.search.substr(1).split("&").reduce(function(a,b){b=b.split("=").map(decodeURIComponent);b[1]&&(a[b[0]]=b[1]);return a},{}));return a.query[b]};a.prototype.getTimeElapsed=
function(){return(new Date).getTime()-this.startTime};a.prototype.isDomReady=function(){return Ca};a.prototype.getDeviceType=function(){return p()};a.prototype.getIP=function(){return this.locationData.ip?this.locationData.ip:""};a.prototype.isMobile=function(){return r()};a.prototype.isDesktop=function(){return g()};a.prototype.isOptedOut=function(){var a=null==G.locationData?!1:G.locationData.oo?!0:!1;return a};a.prototype.isUserInCA=function(){return null==G.locationData?!1:"US"==G.locationData.countryCode&&
"California"==G.locationData.region?!0:!1};a.prototype.isUserInEU=function(){return M()};a.prototype.isPubConsentGlobal=function(){var a=D.parsedCookies().pubconsent,b=D.parsedCookies().euconsent;return!a&&b?!0:!1};a.prototype.getPubConsent=function(){return y()};a.prototype.getRand=function(){return Ra};a.prototype.isATSLoaded=function(){return db};a.prototype.isCMPLoaded=function(){return!(!Xa&&!window.__tcfapi)};a.prototype.init=function(){var b=this;b.startTime=(new Date).getTime();b.log=A;B.options&&
B.options.errorPercent&&Math.floor(100*Math.random())<=B.options.errorPercent&&(Ya=new nb);b.zonedata&&b.zonedata.options&&b.zonedata.options.referrerRevshare&&(b.zonedata.zone_referrer=a.getParameterByName("zone_referrer"),b.zonedata.zone_referrer&&document.body.addEventListener("click",function(a){a=a||event;var b;a:{for(b=a.target||a.srcElement;b;){if("a"==(b.nodeName||b.tagName).toLowerCase())break a;b=b.parentNode}b=null}b&&b.href&&0>b.href.indexOf("cpmstar.com")&&(!Sa||0>b.href.indexOf(Sa))&&
a.preventDefault()}));Oa(function(){for(ea=function(a,c,e){var d,g,h;v();var f=e?e.cb:function(){},l=e?e.fail:null,m=null===(d=null===a||void 0===a?void 0:a.events)||void 0===d?void 0:d.fail,k=l,q=null;m&&(q=m?b.eventCallback(m):null,k=function(){q&&q(null);l&&l()});try{Ja=sessionStorage&&sessionStorage.getItem(Ia)?sessionStorage.getItem(Ia):"0"}catch(qb){Ja="0"}d=window.zone_conditions;if(null==d||X(null,window.zone_conditions))if(null==B.conditions||null!=d&&null!=d.bypassConditions||X(null,B.conditions)){d=
B.modules;a&&(d=[a]);for(var p=0;p<d.length;p++){var r=d[p];if(null==a||r==a)if(null!=a||1!=r.ran){if(m=null===(g=null===r||void 0===r?void 0:r.events)||void 0===g?void 0:g.fail)q=m?b.eventCallback(m):null,k=function(){q&&q(null);l&&l()};if(e&&e.once&&r.ran){if(1==d.length&&a==r&&k){k&&k();break}}else{var n=X(r,r.conditions);if(null==n){k&&k();if(1==d.length&&a==r)break;A("Failed to match conditions for module: "+r.info.name)}else{Array.isArray(n)||"object"!==typeof n||(n=[n]);for(var F=function(a){var d=
!r.ran;r.ran=!0;r=D.extendLite({},r);r=D.extendLite(r,n[a]);if(m=null===(h=null===r||void 0===r?void 0:r.events)||void 0===h?void 0:h.fail)q=m?b.eventCallback(m):null,k=function(){q&&q(null);l&&l()};(function(a){if(a.kind){var g=Da[a.kind];null==g&&(g=fa.default);var h=function(h){b.$=h;a.js=new g(b,a);ra[e&&null!=e.id?e.id:a.info.name]=a;a.js.create();h=function(a){a&&a()};a.options&&a.options.refreshrate&&!1!==a.options.autorefresh&&d&&a.js.startRefreshTimer(h);null==c&&a.moduleState&&(c=a.moduleState,
a.moduleState=null);"create"==c?f(a.js.request.bind(a.js)):"request"==c?a.js.request(f?f:h,k):"init"==c?a.js.init(a.js,a.js.res,h):a.js.request(h,k)};za?P.jQuery(h):h(null)}})(r)},w=0;w<n.length;w++)F(w)}}}}}else k&&k();else k&&k()};$a.length;){var a=$a.shift();q(a)}$a.push=q;"undefined"===typeof P.cpmstarAPI&&(P.cpmstarAPI=q);a=""+document.readyState;if("complete"===a||"loaded"===a||"interactive"===a)Ca=!0;za?za(document).ready(function(){Ca=!0;ea()}):(document.addEventListener("DOMContentLoaded",
function(a){Ca=!0;ea()}),ea())})};a.prototype.log=function(a){A(a)};a.prototype.getScript=function(a,b){return K(a,b)};a.prototype.pickEl=function(a,b,c){return H(a,b,c)};a.prototype.getPidEls=function(a,b){return t(a,b)};a.prototype.findEls=function(a,b,c){return C(a,b,c)};a.prototype.getModuleByPath=function(a){a:{for(var b=Object.keys(ra),c=0;c<b.length;c++){var e=ra[b[c]];if(e.adUnitPath==a){a=e;break a}}a=null}return a};a.query=null;return a}(),G=new Wa;G.init()},"./src/zonemasters/requests/editorialrequest.ts":function(f,
k,n){var u=this&&this.__extends||function(){var g=function(b,h){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return g(b,h)};return function(b,h){function d(){this.constructor=b}g(b,h);b.prototype=null===h?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/requests/superrequest.ts"),r=n("./src/zonemasters/utils.ts");f=
function(g){function b(b){return g.call(this,b)||this}u(b,g);b.prototype.getMacroMaps=function(){return[]};b.prototype.convertCreative=function(b,d){var a=this,c=this.getMacroMaps()[d];if(c){var e=Object.keys(c);for(d=0;d<e.length;d++){var g=e[d];b[g]=c[g]}}b.getLink=function(){return this.click}.bind(b);b.getTitle=function(){return null==this.creativemacros.TITLE?null:r.from_utf8(this.creativemacros.TITLE)}.bind(b);b.getDescription=function(b,c,e,d){var g=a.getCtx();d?(b=getComputedStyle(d),b.fontSize&&
b.fontFamily&&(g.font=b.fontSize+" "+b.fontFamily),b=d.offsetWidth-(parseFloat(b.paddingLeft)+parseFloat(b.paddingRight))-(parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth))):g.font="6px Arial";d=this.creativemacros.DESC300?r.from_utf8(this.creativemacros.DESC300):null;var h=this.creativemacros.DESC?r.from_utf8(this.creativemacros.DESC):null;h=(d?d:h?h:"").split("<br");for(var f=[],l=0;l<h.length;l++)d=h[l],d=d.trim(),"/"==d[0]&&">"==d[1]&&(d=d.slice(2)),d=d.trim(),0<d.length&&f.push(d);
h="";var k=0;for(l=0;l<f.length;l++){d=f[l];var m=g.measureText(d).width;m=Math.ceil(m/b);if(1<=k&&k+m>c)break;k+=m;if(null!=e&&h.length+d.length>e){c=!1;if("false"!==a.config.options.endOnPunctuation)for(g=e-1;g>=Math.ceil(e/1.5);g--)if(" "==d[g]&&("!"==d[g-1]||"."==d[g-1]||"?"==d[g-1])){c=!0;h+=d.slice(0,g);break}c||(h+=d.slice(0,e-h.length-3)+"...");break}else h+=d+"<br/>"}return h}.bind(b);b.getMaxLength=function(a,b){}.bind(b);b.availImages=[];c=Object.keys(b.creativemacros);for(d=0;d<c.length;d++){e=
c[d];g=null;if("IMAGE"==e.slice(0,5))g=e.slice(5).split("X");else if("BANNER"==e.slice(0,6))g=e.slice(6).split("X");else continue;g&&2==g.length&&b.availImages.push({width:g[0],height:g[1],url:b.creativemacros[e]})}b.closestAspect=function(a,b,c){if(0==c.length)return{url:"",width:a,height:b};for(var e=a/b,d=-1,g=0;4>g&&-1==d;g++)for(var h=0,f=0;f<c.length;f++)if(!(a>2*c[f].width||a<c[f].width/2||b>2*c[f].height||a<c[f].height/2)){var l=c[f].width/c[f].height/e;1<l&&(l=1/l);l>h&&(h=l,d=f)}-1==d&&
(d=0);return c[d]};b.getImageUrl=function(a,c){return b.closestAspect(a,c,b.availImages).url}};b.prototype.getCtx=function(){this.ctx||(this.ctxCanvas=document.createElement("canvas"),this.ctx=this.ctxCanvas.getContext("2d"));return this.ctx};b.prototype.makeAttempt=function(b){g.prototype.makeAttempt.call(this,b);var d=this,a=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),c=this.getViewAspxBaseUrl();c+="poolid="+this.config.poolid+"&json="+this.config.json+
"&callback="+a;this.config.multi&&(c+="&multi="+this.config.multi);this.config.requiredmacros&&(c+="&requiredmacros="+this.config.requiredmacros);d.mm.getScript(c);window[a]=function(a){var c=a.creatives;if(null!=c&&0!=c.length){var e={getAdTypeAvailable:function(a){return"editorial"},renderAd:function(b,e,g,h){null==h&&(h={});d.creatives=c;var f=d.config.options,l=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;l=f.descriptionPixelWidth?f.descriptionPixelWidth:l;var k=f.maxDescriptionLines?
f.maxDescriptionLines:1,m=f.descriptionLength?f.descriptionLength:120,q=b.iteration?b.iteration:0;f.capIsCalculated||(h.renderCount?f.cap=Math.floor(a.creatives.length/h.renderCount):this.getMacroMaps().length&&(f.cap=Math.floor(a.creatives.length)/this.getMacroMaps().length),f.capIsCalculated=!0);var n=f.cap?f.cap:a.creatives?a.creatives.length:20,v=[];if(a.creatives){var u=q%a.creatives.length;null!=h.renderIndex&&(u=n*h.renderIndex);for(q=u;q<a.creatives.length&&q<u+n;q++){var w=a.creatives[q];
this.convertCreative(w,h.renderIndex);w.thumbUrl=w.getImageUrl(f.thumbWidth,f.thumbHeight);w.imageUrl=w.getImageUrl(f.imageWidth,f.imageHeight);w.description=w.getDescription(l,k,m);w.title=w.getTitle();w.clickUrl=w.getLink();null==w.title?(a.creatives.splice(q,1),q--):(v.push(a.creatives[q]),q+1>=a.creatives.length&&v.length<n&&(q=-1,u=0,n-=v.length))}}b.creatives=v;if(d.config.style)for(h=Object.keys(d.config.style),q=0;q<h.length;q++)n=h[q],e.style[n]=d.config.style[n];if(d.config.pageStyle)for(h=
Object.keys(d.config.pageStyle),q=0;q<h.length;q++)for(n=h[q],v=d.mm.findEls(n),u=Object.keys(d.config.pageStyle[n]),w=0;w<v.length;w++)for(var O=v[w],t=0;t<u.length;t++){var C=u[t];O.style[C]=d.config.pageStyle[n][C]}null!=e&&(q="",h=window.doT,"undefined"!==typeof h&&((n=b.rendertemplate?b.rendertemplate:d.config.rendertemplate)?d.config.render=h.template(n):b.template?d.config.render=h.template(b.template):d.config.template&&(d.config.render=h.template(d.config.template))),d.config.render?q=d.config.render({creatives:b.creatives}):
b.template?q=b.template:d.config.template&&(q=d.config.template),q=function(a,b,c){return a.split(b).join(c)}(q,"@this",b.divid+".js"),h="<HTML><BODY>",b.css?h+="<style>"+r.getCssString(b.css)+"</style>":d.config.css&&(h+="<style>"+r.getCssString(d.config.css)+"</style>"),p.default.insertNewIframe({width:this.config.style.width,height:this.config.style.height,intoEl:e,renderHtml:h+q+"</BODY></HTML>",sandbox:b.options.sandbox}),q=function(){for(var a=[].slice.call(e.getElementsByClassName("autofit")),
b=0;b<a.length;b++)r.autoFitText(a[b])},b.js.onEvent(window,"resize",q),b.js.onEvent(window,"orientationchange",q),q());if(f.descriptionTarget)for(f=d.mm.findEls(f.descriptionTarget,b.div),q=0;q<f.length;q++)b.creatives&&b.creatives[q]&&(f[q].innerHTML=b.creatives[q].getDescription(l,k,m,f[q]));g&&g()}.bind(d)};d.res=e;d.triggerAllModuleCallbacks(b,e)}}};return b}(p.default);k.default=f},"./src/zonemasters/requests/headerbiddingrequest.ts":function(f,k,n){function u(a,b){return a.force&&!b.force?
-1:b.force&&!a.force?1:a.cpm>b.cpm?-1:a.cpm==b.cpm?0:1}var p=this&&this.__extends||function(){var a=function(b,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,e)};return function(b,e){function c(){this.constructor=b}a(b,e);b.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}();Object.defineProperty(k,"__esModule",{value:!0});f=n("./src/zonemasters/requests/superrequest.ts");
var r=n("./src/zonemasters/utils.ts"),g=function(){function a(a,b){this.adPickResult=null;this.fallbackCreativeIndex=this.curRenderIndex=-1;this.hbRequest=b;this.unit=a;this.kind="none";this.bid=0;this.hb_adid=this.bidResponse=this.hb_bidder=null;this.bidsById={};this.bidsByBidder={};this.bidsBySize={};this.bidsByCpm=[];this.biddersByCpm=[];this.adIdsSelected=null}a.prototype.selectAd=function(a){this.curRenderIndex=a;var b=(new Date).getTime();if(!this.adIdsSelected)return!1;for(var c=null;a<this.adIdsSelected.length;a++)if(c=
this.adIdsSelected[a],0!=c.indexOf("used"))if(0==c.indexOf("fallback"))break;else{var d=this.bidsById[c];if(d&&b-d.responseTimestamp<1E3*d.ttl-1E3){this.adIdsSelected[a]="used";break}}if(c&&a<this.adIdsSelected.length)try{if(0==c.indexOf("fallback"))this.fallbackCreativeIndex=parseInt(c.slice(9)),this.kind="fallback",this.bid=this.rawCPM=this.unit.fallback.bid,this.bidResponse=this.hb_adid=this.hb_bidder=null;else{var g=this.bidsById[c];if(null==g||null==g.adId)throw Error();this.kind="hb";this.hb_bidder=
g.bidder;var h=this.hbRequest.config.bidderDiscreps?this.hbRequest.config.bidderDiscreps[this.hb_bidder]:null,f=h&&h.discrep?h.discrep:1;.4>f&&(f=.4);1<f&&(f=1);this.rawCPM=g.cpm;this.bid=g.cpm*f;this.hb_adid=g.adId;this.bidResponse=this.bidsById[c];this.fallbackCreativeIndex=-1}return!0}catch(O){this.kind="none",this.bid=this.rawCPM=0,this.hb_adid=this.hb_bidder=null,this.fallbackCreativeIndex=-1,this.bidResponse=null}else return!1};a.prototype.getBidResponseById=function(a){return this.bidsById[a]};
a.prototype.getFallbackCreativeIndex=function(){return this.fallbackCreativeIndex};a.prototype.isVideoFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&a&&null!=a.creativemacros&&(null!=a.creativemacros.HTML5VID_VASTSTRING||null!=a.creativemacros.HTML5VID_ADX)};a.prototype.isJsonFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&
null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&!this.isVideoFallback()&&!this.isBannerFallback()&&this.unit.fallback&&a&&a.creativemacros&&0<Object.keys(a.creativemacros).length&&this.unit.fallback.json};a.prototype.isBannerFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&!this.isVideoFallback()&&a&&a.code&&
!this.unit.fallback.json};a.prototype.isHB=function(){return"hb"==this.kind&&null!=this.hb_bidder&&null!=this.bidResponse};a.prototype.isPremiumHB=function(){return this.isHB()&&("justpremium"==this.hb_bidder||"sublime"==this.hb_bidder)};a.prototype.isBannerHB=function(){return this.isHB()&&!this.isPremiumHB()&&"banner"==this.bidResponse.mediaType};a.prototype.isInstreamHB=function(){return this.isHB()&&!this.isPremiumHB()&&"video"==this.bidResponse.mediaType&&null!=this.unit.mediaTypes.video&&"instream"==
this.unit.mediaTypes.video.context&&"video"==this.bidResponse.mediaType&&(null!=this.bidResponse.vastXml||null!=this.bidResponse.vastUrl)};a.prototype.isOutstreamHB=function(){return this.isHB()&&!this.isPremiumHB()&&"video"==this.bidResponse.mediaType&&null!=this.unit.mediaTypes.video&&"outstream"==this.unit.mediaTypes.video.context};a.prototype.getAdType=function(){if(this.isHB()){if(this.isPremiumHB())return"premium";if(this.isBannerHB())return"banner";if(this.isInstreamHB()||this.isOutstreamHB())return"video"}else return this.isBannerFallback()?
"banner":this.isVideoFallback()?"video":this.isJsonFallback()?"json":"unknown"};return a}(),b,h=!1,d=!1;n=function(a){function c(b){b=a.call(this,b)||this;b.useGam=!1;b.blockGam=!1;b.gamclick=!1;b.subpoolid=0;b.biddersAllowed={};b.gamSlotRenderListener=!1;return b}p(c,a);c.prototype.isCrossOriginFrame=function(){var a=null;if(this.config&&this.config.adUnits)for(var b=0;b<this.config.adUnits.length;b++)if(this.config.adUnits[b].gamPageUrl){a=this.config.adUnits[b].gamPageUrl;break}try{return document.location.hostname!==
window.parent.location.hostname||a&&0>window.parent.location.hostname.indexOf(a)}catch(l){return!0}};c.prototype.matchesFilter=function(a){try{switch(a.type){case "Header":var b=a.data.split("=");if(2==b.length)switch(b[0]){case "referer":return 0<=window.location.href.toLowerCase().indexOf(b[1].toLowerCase())}break;case "OS":return 0<=this.mm.getDeviceType().toLowerCase().indexOf(a.data.toLowerCase());case "Domain":return 0<=window.location.host.toLowerCase().indexOf(a.data.toLowerCase());case "Country":return 0<=
this.mm.locationData.countryName.toLowerCase().indexOf(a.data.toLowerCase());case "City":return 0<=this.mm.locationData.city.toLowerCase().indexOf(a.data.toLowerCase())}return!1}catch(l){return!1}};c.prototype.areFiltersAllowed=function(a){if(a&&Array.isArray(a))for(var b=0;b<a.length;b++){var c=a[b];if(c.exclude&&("Country"!=c.type||"WORLDWIDE"!=c.data)&&this.matchesFilter(c))return!1}return!0};c.prototype.init=function(b){a.prototype.init.call(this,b);if(this.config.BIDDERFILTERS&&Array.isArray(this.config.BIDDERFILTERS))for(b=
0;b<this.config.BIDDERFILTERS.length;b++){var c=this.config.BIDDERFILTERS[b];c.bidder&&!this.areFiltersAllowed([c])&&(this.biddersAllowed[c.bidder]=!1)}b=null!=this.config.GAMPercent?this.config.GAMPercent:1;this.blockGam=c=this.isCrossOriginFrame();this.config.GAMWIDTH&&(window.innerWidth<this.config.GAMWIDTH&&(this.blockGam=!0),window.innerHeight<this.config.GAMHEIGHT&&(this.blockGam=!0));c&&(this.biddersAllowed.pubmatic=!1,this.biddersAllowed.oneVideo=!1,this.biddersAllowed.rhythmone=!1,this.biddersAllowed.rubicon=
!1,this.biddersAllowed.superawesome=!1,this.biddersAllowed.onemobile=!1);this.mm.isUserInEU()&&!this.mm.isCMPLoaded()&&(this.blockGam=!0);if(this.config.adUnits)for(c=0;c<this.config.adUnits.length;c++){var e=this.config.adUnits[c];null==e.bids&&(e.bids=[]);for(var d=0;d<e.bids.length;d++){var g=e.bids[d];if(!1===this.biddersAllowed["*"]||!1===this.biddersAllowed[g.bidder])e.bids.splice(d,1),d--}}if(this.config.GAMFILTERS&&this.config.adUnits)for(c=0;c<this.config.adUnits.length;c++)e=this.config.adUnits[c],
this.areFiltersAllowed(e.gamFilters)||(e.blockGam=!0);this.config.GAM&&!this.blockGam&&(1==b||Math.random()>this.config.GAMPercent)&&(this.useGam=!0,this.config.GAMSubpoolid&&(this.subpoolid=this.config.GAMSubpoolid))};c.prototype.getAdUnitByPath=function(a){for(var b=0;b<this.config.adUnits.length;b++){var c=this.config.adUnits[b];if(c.code==a)return c}return null};c.prototype.makeAttempt=function(a){function c(a){var b=(a.ownerDocument?a.ownerDocument:document).createElement("iframe");b.style.borderWidth=
"0";b.scrolling="no";b.marginwidth=0;b.marginheight=0;b.topmargin=0;b.leftmargin=0;b.allowtransparency=!0;b.setAttribute("marginwidth","0");b.setAttribute("marginheight","0");b.setAttribute("topmargin","0");b.setAttribute("leftmargin","0");b.setAttribute("allowtransparency","true");b.width="0";b.height="0";null!=a&&a.appendChild(b);return b}function e(a,c,e,d,h){var f,l,m,n,p,r,q,v,t;void 0===h&&(h=null);null==e&&(e=0);d=a.bestBid;if(!d){var F=(new Date).getTime()+300,w=k.getAdUnitByPath(c);d=new g(w,
k);if(null==w)return d;c=b&&b.getBidResponsesForAdUnitCode?b.getBidResponsesForAdUnitCode(c):null;if(w.fallback&&w.fallback.creatives)for(var x=0;x<w.fallback.creatives.length;x++){var y=w.fallback.creatives[x];if(null!=y&&!(""==y.code&&0==Object.keys(y.creativemacros).length||0<=y.click.indexOf("&campaignid=320&"))){var z="none",D=0,C=0;null==y.creativemacros||null==y.creativemacros.HTML5VID_VASTSTRING&&null==y.creativemacros.HTML5VID_ADX?y&&y.code&&!w.fallback.json?z="banner":y.creativemacros&&
0<Object.keys(y.creativemacros).length&&w.fallback.json&&(z="json"):(z="video",(C=null===(l=null===(f=null===w||void 0===w?void 0:w.mediaTypes)||void 0===f?void 0:f.video)||void 0===l?void 0:l.playerSize)&&Array.isArray(C)&&Array.isArray(C[0])&&(C=C[0]),C||(C=[960,540]),D=C[0],C=C[1]);"none"!=z&&d.bidsByCpm.push({mediaType:z,rawCPM:w.fallback.bid,cpm:w.fallback.bid,adId:"fallback_"+x,w:parseInt(""+(null!==(m=null===y||void 0===y?void 0:y.width)&&void 0!==m?m:D)),h:parseInt(""+(null!==(n=null===y||
void 0===y?void 0:y.height)&&void 0!==n?n:C)),bidder:"fallback",force:(null===y||void 0===y?0:y.force)?!0:!1,expires:F+3E5})}}if(null!=c){for(l=0;l<c.bids.length;l++){m=c.bids[l];f=(f=k.config.bidderDiscreps?k.config.bidderDiscreps[m.bidder]:null)&&f.discrep?f.discrep:1;.4>f&&(f=.4);1<f&&(f=1);f={mediaType:m.mediaType,adId:m.adId,rawCPM:m.cpm,cpm:m.cpm*f,bidder:m.bidder,w:m.width,h:m.height,expires:m.responseTimestamp+1E3*m.ttl,force:!1};n=["triplelift"];x=!0;if(w.mediaTypes.banner&&w.mediaTypes.banner.sizes&&
Array.isArray(w.mediaTypes.banner.sizes))for(x=!1,y=0;y<w.mediaTypes.banner.sizes.length;y++)z=w.mediaTypes.banner.sizes[y][1],w.mediaTypes.banner.sizes[y][0]==f.w&&(z==f.h||0<=n.indexOf(f.bidder))&&(x=!0);x||k.mm.log("adId with invalid size: "+f.adId+" bidder: "+f.bidder+" with w: "+f.w+" and h  "+f.h);f.expires<F+1E3&&k.mm.log("Bid expired adId: "+f.adId+" bidder: "+f.bidder+" with cpm: "+f.cpm+" and ttl  "+m.ttl);"rendered"!=m.status&&f.expires>F+1E3&&x&&(d.bidsByCpm.push(f),d.bidsById[m.adId]=
m,n=""+m.width+"x"+m.height,null==d.bidsBySize[n]?d.bidsBySize[n]=[f]:(d.bidsBySize[n].push(f),d.bidsBySize[n].sort(u)),null==d.bidsByBidder[m.bidder]?d.bidsByBidder[m.bidder]=[f]:(d.bidsByBidder[m.bidder].push(f),d.bidsByBidder[m.bidder].sort(u)))}F=Object.keys(d.bidsByBidder);for(c=0;c<F.length;c++)d.biddersByCpm.push(d.bidsByBidder[F[c]][0]);d.biddersByCpm.sort(u);d.bidsByCpm.sort(u)}if(null==d.adIdsSelected)if(d.adIdsSelected=[],0==d.bidsByCpm.length)k.mm.log("Error: no bids or fallbacks for ad unit: "+
w.code);else if(h){if(d.adPickResult=h(d.bidsByCpm),t=null===(p=d.adPickResult)||void 0===p?void 0:p.picks)for(w=0;w<t.length;w++)d.adIdsSelected.push(t[w].adId)}else for(p=d.bidsByCpm,h=-1,k.config.minBid&&("object"===typeof k.config.minBid?(h=null!==(r=k.config.minBid.default)&&void 0!==r?r:-1,k.config.minBid[k.mm.locationData.countryCode]&&(h=k.config.minBid[k.mm.locationData.countryCode])):"number"===typeof k.config.minBid&&(h=null!==(q=k.config.minBid)&&void 0!==q?q:-1)),w.minBid&&("object"===
typeof w.minBid?(h=null!==(v=w.minBid.default)&&void 0!==v?v:-1,w.minBid[k.mm.locationData.countryCode]&&(h=w.minBid[k.mm.locationData.countryCode])):"number"===typeof w.minBid&&(h=Math.max(h,w.minBid))),r=0;r<p.length;r++){f=p[r];v=null!=k.config.FALLBACK_FORCE_PERCENT?k.config.FALLBACK_FORCE_PERCENT:.05;q=!1;k.config.GAM&&(v=0);Math.random()<v&&(q=!0);try{v=0,w.fallback.minBid&&("object"===typeof w.fallback.minBid?(v=null!==(t=w.fallback.minBid.default)&&void 0!==t?t:-1,w.fallback.minBid[k.mm.locationData.countryCode]&&
(v=w.fallback.minBid[k.mm.locationData.countryCode])):"number"===typeof w.fallback.minBid&&(v=Math.max(h,w.fallback.minBid))),"fallback"==f.bidder||isNaN(f.cpm)||!(-1==h||f.cpm>=h)||q?"fallback"==f.bidder&&f.cpm>=v&&d.adIdsSelected.push(f.adId):d.adIdsSelected.push(f.adId)}catch(ia){}}a.bestBid=d}d.curRenderIndex!=e&&d.selectAd(e);return d}function f(a){if(!a.initAdserverSet){a.initAdserverSet=!0;var d={nextAd:function(a){null==a.renderIndex&&(a.renderIndex=0);a.renderIndex++;return(a=e(a,a.adUnitPath,
a.renderIndex))&&"none"!=a.kind?!0:!1},pickAds:function(a,b,c){null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));return(b.bestBid=e(b,b.adUnitPath,b.renderIndex,!1,c)).adPickResult}.bind(k,b),getAdTypeAvailable:function(a,b){null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));return(b.bestBid=e(b,b.adUnitPath,b.renderIndex)).getAdType()}.bind(k,b),renderAd:function(a,b,d,g,f){void 0===f&&(f={});null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));null==
g&&(g=function(){});var h=k.getAdUnitByPath(b.adUnitPath),l=e(b,b.adUnitPath,b.renderIndex),m=h.fallback,n=g;g=function(){n()};k.mm.log("bestbid is kind: "+l.kind);window.context&&window.context.reportRenderedEntityIdentifier&&("hb"==l.kind&&l.hb_bidder?window.context.reportRenderedEntityIdentifier("cpms_"+l.hb_bidder+"_"+l.hb_bidder):"fallback"==l.kind&&m&&m.creative&&m.creative.creativemacros&&window.context.reportRenderedEntityIdentifier("cpms_cpmstar_"+m.poolid+"_"+m.creative.creativemacros.CLICKURL));
var p=l.hb_bidder;if(k.config.checkBid&&"number"===typeof k.config.checkBid&&Math.random()<=k.config.checkBid){for(var r=["ix","openx","pubmatic","onemobile","appnexus"],q=!1,v=0;v<r.length;v++){var u=r[v];if(null!=l.bidsByBidder[u]&&.03<l.bidsByBidder[u][0].cpm){q=!0;break}}q||(h.blockGam=!0)}!k.useGam||h.blockGam||f&&f.blockGam||!(r=a.getAdserverTargetingForAdUnitCode?a.getAdserverTargetingForAdUnitCode(h.code):null)||(p=r.hb_bidder);var w=null;if("hb"==l.kind||!(!k.useGam||h.blockGam||f&&f.blockGam)&&
p)for(r=0;r<h.bids.length&&!(h.bids[r].bidder==p&&(w=h.bids[r],.5<Math.random()));r++);if(0!=b.renderIndex||!k.useGam||h.blockGam||f&&f.blockGam||null==h.gamAdSlot||null==h.gamCampaignid||null==m||null==m.poolid)if(l.isVideoFallback())b.js.res.getResponseData=function(){l=e(b,b.adUnitPath,b.renderIndex);return m.creatives[l.fallbackCreativeIndex]},g();else if(l.isInstreamHB()){var t=function(){a.markWinningBidAsUsed({adUnitCode:h.code,adId:l.hb_adid})};l.bidResponse?((d=l.bidResponse.vastUrl)&&"appnexus"!=
l.bidResponse||!l.bidResponse.videoCacheKey||(d="https://prebid.adnxs.com/pbc/v1/cache?uuid="+l.bidResponse.videoCacheKey),l.bidResponse.vastXml?(b.js.res.getResponseData=function(){return{creativemacros:{HTML5VID_VASTSTRING:l.bidResponse.vastXml}}},g(),t()):d?fetch(d).then(function(a){return a.text()}).then(function(a){b.js.res.getResponseData=function(){return{creativemacros:{HTML5VID_VASTSTRING:a}}};g();t()}).catch(function(a){b.js.res.getResponseData=null;b.js.res.getError=function(){return a};
g();t()}):(b.js.res.getResponseData=null,g(),t())):(b.js.res.getResponseData=null,g(),t());null!=w&&null!=m&&null!=m.poolid&&(d=l.rawCPM*m.poolid/37.47,"cpmstar"!=w.bidder&&k.mm.getScript(k.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+w.campaignid+"&sp="+d))}else if(l.isOutstreamHB()){k.mm.getModuleByPath(b.adUnitPath);a.renderAd(window.document,l.hb_adid);var x=h.bid;k.mm.log("winning bidder "+l.hb_bidder+" with bid "+l.bid);null!=w&&null!=m&&null!=m.poolid&&(d=l.rawCPM*m.poolid/37.47,
"cpmstar"!=w.bidder&&k.mm.getScript(k.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+w.campaignid+"&sp="+d));x&&x.adResponse&&Array.isArray(x.adResponse.ads)&&x.adResponse.ads.length&&x.adResponse.ads[0].rtb&&x.adResponse.ads[0].rtb.video&&x.adResponse.ads[0].rtb.video.content?b.js.res.getResponseData=function(){return x.adResponse.ads[0].rtb.video.content}:(k.mm.log("Invalid Outstream HB BidResponse - missing bid.adResponse.ads[0].rtb.video.content"),b.js.res.getResponseData=null,b.js.res.getError=
function(){return"Invalid Outstream HB BidResponse - missing bid.adResponse.ads[0].rtb.video.content"});g()}else if(l.isBannerFallback()||l.isBannerHB()||l.isPremiumHB())if(d=c(d),f=d.contentWindow.document,"hb"==l.kind&&l.hb_adid){try{k.mm.log("Rendering hb-adid:"+l.hb_adid),a.renderAd(f,l.hb_adid)}catch(ia){k.mm.log("error during renderAd "+ia)}k.mm.log("winning bidder "+l.hb_bidder+" with bid "+l.bid);null!=w&&null!=m&&null!=m.poolid&&(d=l.rawCPM*m.poolid/37.47,"cpmstar"!=w.bidder&&(d=k.mm.serverroot+
"/nc.aspx?poolid="+m.poolid+"&campaignid="+w.campaignid+"&sp="+d,0<b.renderIndex&&(d+="&defaultcampaignid="+w.campaignid),k.mm.getScript(d)));g()}else{if("fallback"==l.kind){p=l.fallbackCreativeIndex;null==p&&(p=0);var z=m.creatives[p];(p=z.code)?(z.px_cr&&(p+="\n"+("<img width=0 height=0 src='"+z.px_cr+"' />")),d.width=z.width?z.width:m.width,d.height=z.height?z.height:m.height,f.write("<HTML><BODY>"+p+"</BODY></HTML>"),f.close()):b.js.res.getResponseData=function(){return z};g()}}else{if(l.isJsonFallback()){p=
l.fallbackCreativeIndex;var C=m.creatives[p];b.js.res.getResponseData=function(){return C}}g()}else y.cmd.push(function(){a.que.push(function(){var c=document.getElementById(b.js.getRenderTargetDivID());c&&c.classList.add("cpmstar_googlead");y.display(b.js.getRenderTargetDivID());a.setTargetingForGPTAsync([h.code]);h.gamAdSlot.setTargeting("cpms_prebid","1");k.mm.log("bidderInfo bidder:"+(w?w.bidder:"null")+" with campaign id: "+(w?w.campaignid:"null"));null!=w&&"cpmstar"!=w.bidder&&h.gamAdSlot.setTargeting("cpms_hb_campaignid",
""+w.campaignid);h.gamAdSlot.setTargeting("cpms_gam_campaignid",""+h.gamCampaignid);h.gamAdSlot.setTargeting("cpms_poolid",""+m.poolid);y.pubads().refresh([h.gamAdSlot]);null!=m&&null!=m.poolid&&k.mm.getScript(k.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+h.gamCampaignid+"&sp="+l.rawCPM*m.poolid/37.47)})})}.bind(k,b)};k.res=d;a.status="complete";a.batchRequestMode&&(k.status=a.status);k.triggerAllModuleCallbacks(a.modcb,k.res,function(b){var c=b.module;b=k.getAdUnitByPath(c.adUnitPath);
c=b.fallback?b.fallback:c.fallback;return k.useGam&&!b.blockGam&&b.gamAdSlot||null!=c&&null!=c.bid&&c.requestId==a.requestId})}}var k=this;this.mm.log("Making attempt for "+a.length+" modules at"+this.mm.getTimeElapsed());for(var p=0;p<a.length;p++)this.mm.log("  - module "+p+": "+a[p].module.info.name+" kind: "+a[p].module.kind);var n=k.config.PREBID_TIMEOUT?k.config.PREBID_TIMEOUT:1E3,X=k.config.FAILSAFE_TIMEOUT?k.config.FAILSAFE_TIMEOUT:n+2E3,ba={validation:"strict",config:{ver:"1.0",complete:1,
nodes:[{asi:"cpmstar.com",sid:""+k.config.publisherid,hp:1}]}};k.config.UAM&&(window.apstag||(window.apstag={init:function(){window.apstag._Q.push(["i",arguments])},fetchBids:function(){window.apstag._Q.push(["f",arguments])},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]}),window.apstag.init({pubID:"28665ab5-73ac-478f-8407-81f69645e5c9",adServer:"googletag",schain:ba.config}));b=window.starpbjs=window.starpbjs||{};b.que=b.que||[];var y=null;k.useGam&&(y=window.googletag=window.googletag||
{},y.cmd=y.cmd||[],y.cmd.push(function(){y.pubads().disableInitialLoad()}));if(k.config.bidderSettings){p={};for(var M=Object.keys(k.config.bidderSettings),z=0;z<M.length;z++){var R=M[z],ca=k.config.bidderSettings[R];p[R]={bidCpmAdjustment:function(a,b){return b*ca.bidAdjustment}}}b.bidderSettings=p}b.que.push(function(){var a,c,d,e={enableSendAllBids:!1,priceGranularity:"dense",useBidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},
syncDelay:5500},s2sConfig:{accountId:"1",enabled:k.config.PREBID_SERVER?!0:!1,bidders:k.config.PREBID_SERVER_BIDDERS?k.config.PREBID_SERVER_BIDDERS:[],timeout:3E3,adapter:"prebidServer",endpoint:"https://pbs.cpmstar.com/openrtb2/auction",syncEndpoint:"https://pbs.cpmstar.com/cookie_sync"},bidderSequence:"random",schain:ba};if(null===(d=null===(c=null===(a=k.mm.zonedata)||void 0===a?void 0:a.options)||void 0===c?void 0:c.cmp)||void 0===d?0:d.atsid)e.userSync.userIds=[{name:"identityLink",params:{pid:"13471"},
storage:{type:"cookie",name:"idl_env",expires:7}}];b.setConfig(e);a={gdpr:k.mm.isUserInEU()&&k.mm.isCMPLoaded()?{cmpApi:"iab",timeout:3E3,allowAuctionWithoutConsent:!0}:{cmpApi:"static",allowAuctionWithoutConsent:!0,consentData:{getConsentData:{gdprApplies:!1,hasGlobalScope:!0,consentData:""},getVendorConsents:{metadata:""}}}};k.mm.isUserInCA()&&(a.usp={timeout:100});b.setConfig({consentManagement:a})});var x=(p=a==k.modcb)?k.requestBidsData:null;x||(x={requestId:Math.floor(10+26*Math.random()).toString(36)+
Math.floor(99999999*Math.random()).toString(36),batchRequestMode:p,requestBidsConfig:{bidsBackHandler:null,timeout:n},attempts:k.attempts,modcb:[],status:"preflight"},x.batchRequestMode&&(k.status=x.status),x.batchRequestMode&&(k.requestBidsData=x));"preflight"!==x.status&&k.mm.log("Error -- trying to add new request to requestBidsData while not preflight - this shouldnt happen");for(n=0;n<a.length;n++){p=a[n];M=!1;for(z=0;z<x.modcb.length;z++)x.modcb[z].module.info.name==p.module.info.name&&(M=!0);
M||x.modcb.push(a[n])}if(0==this.attempts)for(p=0;p<k.config.adUnits.length;p++)n=k.config.adUnits[p],null==n.bids&&(n.bids=[]),n.mediaTypes.video&&"outstream"==n.mediaTypes.video.context&&(n.renderer={url:"//imasdk.googleapis.com/js/sdkloader/ima3.js",render:function(a){this.bid=a}.bind(n)});x.requestBidsConfig.adUnitCodes||(x.requestBidsConfig.adUnitCodes=[]);for(n=0;n<a.length;n++)(p=a[n].module.adUnitPath)&&0>x.requestBidsConfig.adUnitCodes.indexOf(p)&&x.requestBidsConfig.adUnitCodes.push(p);
var A=[];for(p=0;p<k.config.adUnits.length;p++){n=k.config.adUnits[p];if(n.mediaTypes&&n.mediaTypes.banner&&n.mediaTypes.banner.sizes)for(M=n.mediaTypes.banner.sizes,z=0;z<M.length;z++)if(k.mm.isDesktop()&&2==M[z].length){R=M[z][0];var K=M[z][1];216==R&&36==K?(M.splice(z,1),z--):300==R&&50==K?(M.splice(z,1),z--):320==R&&50==K&&(M.splice(z,1),z--)}if(n&&n.fallback&&n.fallback.poolid&&!n.added)for(r.macroReplace(k.mm,n),M=0;M<a.length;M++)if(z=a[M],z.module&&z.module.adUnitPath==n.code&&(A.push(n),
n.added=!0,k.useGam&&!n.blockGam&&n.gamAdUnitCode&&n.mediaTypes.banner&&z.instance)){R={bidder:"cpmstar",params:{placementId:n.fallback.poolid},campaignid:null};if(K=k.getViewAspxKVPObject())R.params.kvp=K;n.bids.push(R);y.cmd.push(function(a,b){var c="";k.config.GAMCHILDNETWORKCODE?c=","+k.config.GAMCHILDNETWORKCODE:a.gamChildNetworkCode&&(c=","+a.gamChildNetworkCode);a.gamAdSlot=y.defineSlot("/80148797"+c+"/ca-pub-7020262665364086-tag/"+a.gamAdUnitCode,a.mediaTypes.banner.sizes,b.instance.getRenderTargetDivID()).addService(y.pubads());
k.config.UAM&&(x.apSlots=x.apSlots?x.apSlots:[],x.apSlots.push({slotName:"/80148797"+c+"/ca-pub-7020262665364086-tag/"+a.gamAdUnitCode,slotID:b.instance.getRenderTargetDivID(),sizes:a.mediaTypes.banner.sizes}));y.pubads().enableSingleRequest();y.enableServices()}.bind(null,n,z))}}var t=function(){var a,c;if((null===(c=null===(a=k.mm.zonedata)||void 0===a?void 0:a.options)||void 0===c?0:c.pubmaticid)&&b.getUserIdsAsEids){var d=window.PWT;d&&"function"==typeof d.getUserIds&&A.forEach(function(a){a.bids.forEach(function(a){a.userId=
d.getUserIds();a.userIdAsEids=b.getUserIdsAsEids()})})}b.addAdUnits(A);"preflight"!=k.status||x.inflight||(x.inflight=!0,x.requestBidsConfig.bidsBackHandler=function(a){k.mm.debug&&a&&(k.mm.log("Prebid Bid Responses:"),k.mm.log(a));x.prebidBidsBack=!0;k.config.UAM&&!x.apsBidsBack||f(this)}.bind(x),setTimeout(function(){k.mm.log("Prebid timeout");f(this)}.bind(x),X),setTimeout(function(){x.status="pending";x.batchRequestMode&&(k.status=x.status);k.mm.log("Requesting bids at:"+k.mm.getTimeElapsed());
k.config.UAM&&x.apSlots&&window.apstag.fetchBids({slots:x.apSlots},function(a){y.cmd.push(function(){window.apstag.setDisplayBids();x.apsBidsBack=!0;a&&(k.mm.log("Amazon Bid Responses:"),k.mm.log(a));x.prebidBidsBack&&f(this)})});b.requestBids(this.requestBidsConfig);k.getFallbackBids(this,this.modcb);k.requestBidsData=null}.bind(this),50))}.bind(x);k.useGam?y.cmd.push(function(){b.que.push(t)}):b.que.push(t);h||null==k.config.pbjsfile||(h=!0,k.mm.getScript(k.mm.cdnroot+"/cached/zonemasters/lib/prebid/"+
k.config.pbjsfile+"%%ver%%",function(){}));k.useGam&&!d&&(k.mm.getScript("//www.googletagservices.com/tag/js/gpt.js",function(){}),k.config.UAM&&k.mm.getScript("//c.amazon-adsystem.com/aax2/apstag.js",function(){}),d=!0)};c.prototype.getFallbackBids=function(a,b){for(var c=this,d=0;d<c.config.adUnits.length;d++){var e=c.config.adUnits[d];if(!(0>a.requestBidsConfig.adUnitCodes.indexOf(e.code))){var g=e.fallback;if(null!=g&&null!=g.poolid){var f=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*
Math.random()).toString(36);window[f]=function(d,e){return function(g){c.mm.log("fallback response");if(null!=g){var f=g.creatives;if(null!=f&&0!=f.length){var h=f[0];g=g.pks?g.pks:h.pks;null==g&&(g=0);e.requestId=a.requestId;e.bid=37.47*parseFloat(g)/e.poolid;e.bid*=null!=c.config.FALLBACK_BID_MULTIPLIER?c.config.FALLBACK_BID_MULTIPLIER:.95;e.creatives=f;e.creative=h;a.initAdserverSet&&null!=c.res&&c.triggerModuleCallback(b,c.res,function(a){return a.module.adUnitPath==d.code&&null!=a.cb})}}}}(e,
g);if(!c.useGam||e.blockGam||null==e.gamAdUnitCode){g=this.getViewAspxBaseUrl()+"poolid="+g.poolid+"&json=c_mp&mv=1";if(c.blockGam||e.blockGam)g+="&gampb=1";e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.playerSize&&(g+="&multi=3",e=e.mediaTypes.video.playerSize,Array.isArray(e[0])&&(e=e[0]),g+="&w="+e[0],g+="&h="+e[1]);g+="&callback="+f;g+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+location.pathname);c.mm.getScript(g)}}}}};return c}(f.default);k.default=n},"./src/zonemasters/requests/skinrequest.ts":function(f,
k,n){var u=this&&this.__extends||function(){var f=function(k,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var d in g)g.hasOwnProperty(d)&&(b[d]=g[d])};return f(k,g)};return function(k,g){function b(){this.constructor=k}f(k,g);k.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(k,"__esModule",{value:!0});f=function(f){function k(g){g=f.call(this,g)||this;g.getMacroMaps=function(){return[{IMAGEURL:"LEFTIMAGEURL"},
{IMAGEURL:"RIGHTIMAGEURL"}]};return g}u(k,f);return k}(n("./src/zonemasters/requests/editorialrequest.ts").default);k.default=f},"./src/zonemasters/requests/starbannerrequest.ts":function(f,k,n){var u=this&&this.__extends||function(){var f=function(k,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var d in g)g.hasOwnProperty(d)&&(b[d]=g[d])};return f(k,g)};return function(k,g){function b(){this.constructor=k}f(k,g);k.prototype=null===g?Object.create(g):
(b.prototype=g.prototype,new b)}}();Object.defineProperty(k,"__esModule",{value:!0});f=function(f){function k(g){return f.call(this,g)||this}u(k,f);k.prototype.makeAttempt=function(g){var b=this,f=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),d=this.getViewAspxBaseUrl();d+="poolid="+this.config.poolid+"&json=c_mp&callback="+f;this.config.multi&&(d+="&multi="+this.config.multi);d+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+
location.pathname);b.mm.getScript(d,function(){});b.config.width&&b.config.height&&window.context&&window.context.requestResize(b.config.width,b.config.height);window[f]=function(a){var c=a.creatives;if(null==c||0==c.length||null==c[0].code||""==c[0].code)b.res=null,b.status="failed";else{var d={getAdTypeAvailable:function(a){return"banner"},renderAd:function(a,d){b.renderBanners(d,c,a)}.bind(b)};window.context&&window.context.reportRenderedEntityIdentifier&&a&&a.creatives&&a.creatives[0]&&a.creatives[0].creativemacros&&
a.creatives[0].creativemacros.CLICKURL&&window.context.reportRenderedEntityIdentifier("cpms_cpmstar_"+b.config.poolid+"_"+a.creatives[0].creativemacros.CLICKURL);b.res=d}b.triggerAllModuleCallbacks(g,b.res)}.bind(b)};return k}(n("./src/zonemasters/requests/superrequest.ts").default);k.default=f},"./src/zonemasters/requests/starjsonrequest.ts":function(f,k,n){var u=this&&this.__extends||function(){var f=function(k,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=
g}||function(b,g){for(var d in g)g.hasOwnProperty(d)&&(b[d]=g[d])};return f(k,g)};return function(k,g){function b(){this.constructor=k}f(k,g);k.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(k,"__esModule",{value:!0});f=function(f){function k(g){return f.call(this,g)||this}u(k,f);k.prototype.makeAttempt=function(g){f.prototype.makeAttempt.call(this,g);var b=this,h=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),
d=this.getViewAspxBaseUrl();d+="poolid="+this.config.poolid+"&rnd="+this.rnd;if(this.config.vast){d+="&fv=0&mv=1&json=c_m";if(this.config.width||this.config.w)d+=this.config.w;if(this.config.height||this.config.h)d+=this.config.h}d+="&callback="+h;this.config.json&&(d+="&json="+this.config.json);this.config.multi&&(d+="&multi="+this.config.multi);this.config.requiredmacros&&(d+="&requiredmacros="+this.config.requiredmacros);d+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+
location.pathname);if(this.config.params){var a=this.config.params;d+=Object.keys(a).map(function(b){return[b,a[b]]}).reduce(function(a,b){return a+="&"+b[0]+"="+encodeURIComponent(b[1])},"")}this.config.url&&(d=this.config.url);window[h]=function(a){var c={getAdTypeAvailable:function(a){return"none"}};b.res=c;b.status="complete";null==a||0===Object.keys(a).length&&a.constructor===Object||""===a?(b.res=null,b.status="failed"):null!=a.creatives&&0<a.creatives.length&&null!=a.creatives[0].code&&""!=
a.creatives[0].code?(c.getAdTypeAvailable=function(a){return"banner"},c.renderAd=function(c,d,e){e(b.renderBanners(d,a.creatives,c))},c.getResponseData=function(){return a}):null!=a.creatives&&0<a.creatives.length&&a.creatives[0].creativemacros&&(a.creatives[0].creativemacros.HTML5VID_VASTSTRING||a.creatives[0].creativemacros.HTML5VID_ADX||a.creatives[0].creativemacros.VIDEO1)?(c.nextAd=function(b){null==c.renderIndex?c.renderIndex=1:c.renderIndex++;return null==a.creatives||c.renderIndex>=a.creatives.length?
!1:!0},c.getAdTypeAvailable=function(a){return"video"},c.renderAd=function(a,b,c){c()},c.getResponseData=function(){return a.creatives[null!=c.renderIndex?c.renderIndex:0]}):(c.getAdTypeAvailable=function(a){return"json"},c.getResponseData=function(){return a});b.triggerAllModuleCallbacks(g,c)};this.config.jsres?setTimeout(function(){window[h](window[b.config.jsres])},0):this.config.vast&&3==this.config.vast&&this.config.url&&"undefined"!==typeof fetch?fetch(this.config.url).then(function(a){return a.text()}).then(function(a){window[h](a)}):
this.mm.getScript(d)};return k}(n("./src/zonemasters/requests/superrequest.ts").default);k.default=f},"./src/zonemasters/requests/superrequest.ts":function(f,k,n){Object.defineProperty(k,"__esModule",{value:!0});var u=n("./src/zonemasters/utils.ts");f=function(){function f(f){this.mm=f;this.rnd=Math.round(999999*Math.random());this.status=null;this.modcb=[];this.attempts=0}f.prototype.init=function(f){this.config=f};f.prototype.triggerModuleCallback=function(f,g,b){if(f)for(var h=0;h<f.length;h++)if(b(f[h])){f=
f[h];if(null==f)break;b=f.cb;f.cb=null;null!=b&&b(g);break}};f.prototype.triggerAllModuleCallbacks=function(f,g,b){this.status="complete";if(f)for(var h=0;h<f.length;h++)if(null==b||b(f[h])){var d=f[h].cb;f[h].cb=null;null!=d&&d(g)}};f.prototype.addCallback=function(f,g){var b=f.module;this.mm.log("  adding callback for module: "+b.info.name+" kind: "+b.kind+" at "+this.mm.getTimeElapsed());var h,d=h||(h={});d[d.NotAdded=0]="NotAdded";d[d.CallbackCompleted=1]="CallbackCompleted";d[d.CallbackPending=
2]="CallbackPending";d=h.NotAdded;for(var a=0;a<this.modcb.length;a++){var c=this.modcb[a];if(c.module.info.name==b.info.name){d=null==c.cb?h.CallbackCompleted:h.CallbackPending;break}}a=this.getStatus();d==h.NotAdded&&this.modcb.push({module:b,cb:g,instance:f});if(d==h.CallbackPending)g(null);else{if(null!=a&&"pending"==a)this.makeAttempt([{module:b,cb:g,instance:f}]);else{for(a=0;a<this.modcb.length;a++)c=this.modcb[a],c.module.info.name==b.info.name&&null==c.cb&&(c.cb=g);this.makeAttempt(this.modcb)}this.attempts++}};
f.prototype.getStatus=function(){return this.status};f.prototype.makeAttempt=function(f){null==this.status&&(this.status="pending")};f.prototype.getViewAspxKVPObject=function(){var f={};null!=this.mm.coppa&&(f.tfcd=this.mm.coppa?"1":"0");null!=this.mm.usp&&(f.usp=""+this.mm.usp);null!=this.mm.gdprApplies&&(f.gpdr=this.mm.gdprApplies?"1":"0");this.mm.gdprApplies&&null!=this.mm.getPubConsent()&&(f.gdpr_consent=""+this.mm.getPubConsent());this.mm.debug&&(f.debug="1");if(this.mm.zonedata.options&&this.mm.zonedata.options.modulus){var g=
Math.round(100*this.mm.getRand())%10;f.modulus=""+g}return f};f.prototype.getViewAspxBaseUrl=function(){var f=this.mm.serverroot;this.mm.zonedata&&this.mm.zonedata.options&&this.mm.zonedata.options.referrerRevshare&&this.mm.zonedata.zone_referrer?f+="/viewiogame.aspx?iogamereferrerdomain="+this.mm.zonedata.zone_referrer+"&":this.config&&this.config.contentid?f+="/viewzonecontent.aspx?contentid="+this.config.contentid+"&":(f+="/view.aspx?",this.config.subpoolid&&(f+="subpoolid="+this.config.subpoolid+
"&"));var g=this.getViewAspxKVPObject();(g=u.objectToQueryString(g))&&(f+=g+"&");return f};f.generateIframe=function(){var f=document.createElement("iframe");f.style.borderWidth="0";f.scrolling="no";f.marginwidth=0;f.marginheight=0;f.topmargin=0;f.leftmargin=0;f.allowtransparency=!0;f.setAttribute("marginwidth","0");f.setAttribute("marginheight","0");f.setAttribute("topmargin","0");f.setAttribute("leftmargin","0");f.setAttribute("allowtransparency","true");return f};f.insertNewIframe=function(f){var g=
this.generateIframe();g.width="0";g.height="0";if(null!=f.sandbox)g.setAttribute("sandbox",f.sandbox),g.setAttribute("srcdoc",f.renderHtml),f.intoEl.appendChild(g);else{f.intoEl.appendChild(g);var b=g.contentWindow.document;b.write(f.renderHtml);b.close()}g.width=""+f.width;g.height=f.height;return g};f.prototype.renderBanners=function(k,g,b){var h,d,a=this.config.adspacing||30,c="",e=0,m=g[0].height?g[0].height:this.config.height,l=this.config.multifooter||"</TD></TR></TABLE></TD>",n=this.config.multiheader||
"<TABLE border=0 cellpadding=0 cellspacing=0><TR><TD>",p=this.config.multisplitter||"</TD><TD width="+a+"></TD><TD>";this.config.multi&&(c+=n);for(n=0;n<g.length;n++){var r=g[n].width?g[n].width:(null===(h=g[n].creativemacros)||void 0===h?0:h.WIDTH)?g[n].creativemacros.WIDTH:null===(d=this.config)||void 0===d?void 0:d.width;null!=r&&(0<n&&(c+=p,e+=a),c+=g[n].code,e+=r,g[n].px_cr&&(c+="\n"+("<img width=0 height=0 src='"+g[n].px_cr+"' />")))}this.config.multi&&(c+=l);if(null!=k)return f.insertNewIframe({height:m,
width:""+e,intoEl:k,renderHtml:"<HTML><BODY>"+c+"</BODY></HTML>",sandbox:b.options.sandbox});throw Error("'el' was not defined.");};return f}();k.default=f},"./src/zonemasters/superclasses/basic/componentregistry.ts":function(f,k,n){Object.defineProperty(k,"__esModule",{value:!0});f=function(){function f(){}f.GetComponentRegistry=function(){return{}};f.RegisterComponent=function(f,k){};return f}();k.default=f},"./src/zonemasters/superclasses/basic/rootcomponent.ts":function(f,k,n){Object.defineProperty(k,
"__esModule",{value:!0});f=function(){function f(f){}f.prototype.$mount=function(f){this.$el=f;return this};f.prototype.renderTemplate=function(f,k){var g="";"undefined"!==typeof window.doT&&f.template&&(f.render=window.doT.template(f.template));f.render?(g=f.data&&"function"===typeof f.data?f.data():f,g=f.render(g)):f.template&&(g=f.template);f=f.divid+".js";g=g.split("@this").join(f);k.innerHTML=g};return f}();k.default=f},"./src/zonemasters/utils.ts":function(f,k,n){function u(a,b){if("string"!=
typeof a){var c="",d;for(d in a){var e=a[d],f;if(f="@"!=d.trim()[0])f=d.trim().charCodeAt(0),f=!(48<=f&&57>=f);f?(b?(c+="#"+b+" "+d,"."==d[0]&&(c+=" , #"+b+d)):c+=d,c+="{"):c+=d+"{";for(var g in e)if(e.hasOwnProperty(g))if(f=e[g],"object"==typeof f){var h={};h[g]=f;c+=u(h,b)}else c+=g+":"+f+";";c+="}\n"}return c}return a}function p(a){var b=null;if(null==a)return b;if("object"==typeof a&&a instanceof HTMLElement||a.constructor&&"HTMLDivElement"==a.constructor.name)b=a;else if(Array.isArray(a)){b=
[];for(var c=0;c<a.length;c++)b.push(p(a[c]))}else if("object"==typeof a)for(c in b={},a)b[c]=p(a[c]);else b=a;return b}function r(a,b,d){void 0===d&&(d=null);if(null==a)return null;if(null==b||"object"!==typeof b)return a;for(var c in b){var e=void 0;d&&void 0!==(e=d(c,a,b))?a[c]=e:null==a[c]||"object"!=typeof a[c]||"object"!=typeof b[c]||Array.isArray(b[c])?Array.isArray(b)||"object"==typeof b[c]?a[c]=p(b[c]):(e=b[c],a[c]="undefined"!==typeof e?e:a[c]):a[c]=r(a[c],b[c])}return a}function g(a,b,
d){if("conditions"==a&&null!=b[a]&&null!=d[a])return b=b[a],a=d[a],a=Array.isArray(b)&&"&"==b[0]&&Array.isArray(a)?b.concat(a):Array.isArray(b)||Array.isArray(a)?["&",b,a]:void 0,a}function b(a){a=a.split("<br");for(var b="",c=0;c<a.length;c++){var d=a[c];d=d.trim();"/"==d[0]&&">"==d[1]&&(d=d.slice(2));d=d.trim();d.length>b.length&&(b=d)}return b}function h(a,b,d){void 0===d&&(d=null);if(null==d){d={};try{d["%%REFERER%%"]=window.location.href,d["%%REFERERHOSTNAME%%"]=window.location.hostname,d["%%IP%%"]=
a.getIP()}catch(w){}}switch(typeof b){case "string":a=Object.keys(d);for(var c=0;c<a.length;c++){var e=a[c],f=d[e];b=b.split(e).join(f)}break;case "object":for(c=Object.keys(b),e=0;e<c.length;e++)f=c[e],b[f]=h(a,b[f],d)}return b}Object.defineProperty(k,"__esModule",{value:!0});k.parsedCookies=k.objectToQueryString=k.macroReplace=k.autoFitText=k.getCtx=k.from_utf8=k.getLongestTextLine=k.mergeObjectsWithConditions=k.extendLite=k.mergeObjects=k.deepClone=k.getCssString=void 0;k.getCssString=u;k.deepClone=
p;k.mergeObjects=r;k.extendLite=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};k.mergeObjectsWithConditions=function(a,b){return r(a,b,g)};k.getLongestTextLine=b;k.from_utf8=function(a){try{return decodeURIComponent(escape(a))}catch(e){return""}};var d=null,a=null;k.getCtx=function(){d||(a=document.createElement("canvas"),d=a.getContext("2d"));return d};k.autoFitText=function(a){var c=this.getCtx(),d=getComputedStyle(a);c.font=d.fontSize+" "+d.fontFamily;var f=b(a.innerText);
c=c.measureText(f).width;f=parseFloat(d.width);isNaN(f)&&0<a.clientWidth?f=a.clientWidth:isNaN(f)&&(f=a.parentElement.clientWidth);c>=.95*f&&(c=f/c*.95,a.style.fontSize=parseFloat(d.fontSize)*c+"px")};k.macroReplace=h;k.objectToQueryString=function(a){var b="";if(a&&"object"===typeof a)for(var c=Object.keys(a),d=0;d<c.length;d++){var f=c[d],g=a[f];0<d&&(b+="&");b+=f+"="+g}return b};k.parsedCookies=function(){return document.cookie.split(";").reduce(function(a,b){b=b.split("=");b[0]=b[0].trim();b[1]=
b.slice(1).join("=");a[b[0]]=b[1];return a},{})}},0:function(f,k,n){f.exports=n("./src/zonemasters/mobilemodules.ts")}});
